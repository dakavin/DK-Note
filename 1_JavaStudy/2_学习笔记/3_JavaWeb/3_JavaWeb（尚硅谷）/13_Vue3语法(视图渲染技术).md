## 1 æ¨¡æ¿è¯­æ³•

Vue ä½¿ç”¨ä¸€ç§åŸºäº HTML çš„æ¨¡æ¿è¯­æ³•ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå£°æ˜å¼åœ°å°†å…¶ç»„ä»¶å®ä¾‹çš„æ•°æ®ç»‘å®šåˆ°å‘ˆç°çš„ DOM ä¸Šã€‚ï¼ˆ`å¦‚ï¼šv-textè¿™äº›å£°æ˜ï¼Œæµè§ˆå™¨æ˜¯çœ‹ä¸åˆ°çš„ï¼Œvueç›´æ¥å°†å…¶æ•°æ®æ”¾åœ¨DOMä¸Š`ï¼‰

æ‰€æœ‰çš„ Vue æ¨¡æ¿éƒ½æ˜¯è¯­æ³•å±‚é¢åˆæ³•çš„ HTMLï¼Œå¯ä»¥è¢«ç¬¦åˆè§„èŒƒçš„æµè§ˆå™¨å’Œ HTML è§£æå™¨è§£æã€‚

åœ¨åº•å±‚æœºåˆ¶ä¸­ï¼ŒVue ä¼šå°†æ¨¡æ¿ç¼–è¯‘æˆé«˜åº¦ä¼˜åŒ–çš„ JavaScript ä»£ç ã€‚ç»“åˆå“åº”å¼ç³»ç»Ÿï¼Œå½“åº”ç”¨çŠ¶æ€å˜æ›´æ—¶ï¼ŒVue èƒ½å¤Ÿæ™ºèƒ½åœ°æ¨å¯¼å‡ºéœ€è¦é‡æ–°æ¸²æŸ“çš„ç»„ä»¶çš„æœ€å°‘æ•°é‡ï¼Œå¹¶åº”ç”¨æœ€å°‘çš„ DOM æ“ä½œã€‚
### 1.1 1 æ’å€¼è¡¨è¾¾å¼å’Œæ–‡æœ¬æ¸²æŸ“

> æ’å€¼è¡¨è¾¾å¼:æœ€åŸºæœ¬çš„æ•°æ®ç»‘å®šå½¢å¼æ˜¯æ–‡æœ¬æ’å€¼ï¼Œå®ƒä½¿ç”¨çš„æ˜¯â€œMustacheâ€è¯­æ³• ,å³åŒå¤§æ‹¬å·`{{}}`

+ æ’å€¼è¡¨è¾¾å¼æ˜¯å°†`æ•°æ®æ¸²æŸ“åˆ°å…ƒç´ çš„æŒ‡å®šä½ç½®çš„æ‰‹æ®µä¹‹ä¸€`
+ æ’å€¼è¡¨è¾¾å¼`ä¸ç»å¯¹ä¾èµ–æ ‡ç­¾,å…¶ä½ç½®ç›¸å¯¹è‡ªç”±`
+ æ’å€¼è¡¨è¾¾å¼ä¸­`æ”¯æŒjavascriptçš„è¿ç®—è¡¨è¾¾å¼`
+ æ’å€¼è¡¨è¾¾å¼ä¸­ä¹Ÿ`æ”¯æŒå‡½æ•°çš„è°ƒç”¨`

``` html
<script setup type="module">
  let msg ="hello vue3"
  let getMsg= ()=>{
    return 'hello vue3 message'
  }
  let age = 19
  let bee = 'èœœ èœ‚'
  // è´­ç‰©è½¦
  const carts = [{name:'å¯ä¹',price:3,number:10},{name:'è–¯ç‰‡',price:6,number:8}];
  //è®¡ç®—è´­ç‰©è½¦æ€»é‡‘é¢
  function compute(){
      let count = 0;
      for(let index in carts){
          count += carts[index].price*carts[index].number;
      }
      return count;
  }
</script>

<template>
  <div>
    <!-- æ•°æ®æ¸²æŸ“åˆ°å…ƒç´ çš„æŒ‡å®šä½ç½®çš„æ‰‹æ®µä¹‹ä¸€ -->
Â  Â  <h1>{{ msg }}</h1>

Â  Â  <!-- ä¸ç»å¯¹ä¾èµ–æ ‡ç­¾,å…¶ä½ç½®ç›¸å¯¹è‡ªç”± -->
Â  Â  msgçš„å€¼ä¸ºï¼š{{ msg }} <br>
Â  Â  getMsgè¿”å›çš„å€¼ä¸ºï¼š{{ getMsg() }} <br>

Â  Â  <!-- æ”¯æŒjavascriptçš„è¿ç®—è¡¨è¾¾å¼ -->
Â  Â  æ˜¯å¦æˆå¹´ï¼š{{ age>18?"true":"false" }} <br>

Â  Â  <!-- æ”¯æŒå‡½æ•°çš„è°ƒ -->
Â  Â  åè½¬ï¼š{{ bee.split(" ").reverse().join(" ") }} <br>
Â  Â  è´­ç‰©è½¦æ€»é‡‘é¢ï¼š{{ compute() }} <br>
Â  Â  è´­ç‰©è½¦æ€»é‡‘é¢ï¼š{{ carts[0].price*carts[0].number + Â carts[1].price*carts[1].number}}
  </div>
</template>

<style scoped>

</style>
```

ç»“æœï¼š![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4a5e29423c492c8541e8a1914702f1c2.png)

> ä¸ºäº†æ¸²æŸ“åŒæ ‡ä¸­çš„æ–‡æœ¬,æˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨`v-text`å’Œ`v-html`å‘½ä»¤

+ `v-***` è¿™ç§å†™æ³•çš„æ–¹å¼`ä½¿ç”¨çš„æ˜¯vueçš„å‘½ä»¤`
+ `v-***` çš„å‘½ä»¤`å¿…é¡»ä¾èµ–å…ƒç´ ,å¹¶ä¸”è¦å†™åœ¨å…ƒç´ çš„å¼€å§‹æ ‡ç­¾ä¸­`
+ `v-***`æŒ‡ä»¤`æ”¯æŒES6ä¸­çš„å­—ç¬¦ä¸²æ¨¡æ¿`
+ æ”¯æŒjavascriptçš„è¿ç®—è¡¨è¾¾å¼
+ ä¹Ÿæ”¯æŒå‡½æ•°çš„è°ƒç”¨
+ v-textå¯ä»¥`å°†æ•°æ®æ¸²æŸ“æˆåŒæ ‡ç­¾ä¸­é—´çš„æ–‡æœ¬`,ä½†æ˜¯`ä¸è¯†åˆ«htmlå…ƒç´ ç»“æ„çš„æ–‡æœ¬`
+ v-htmlå¯ä»¥`å°†æ•°æ®æ¸²æŸ“æˆåŒæ ‡ç­¾ä¸­é—´çš„æ–‡æœ¬`,`è¯†åˆ«htmlå…ƒç´ ç»“æ„çš„æ–‡æœ¬`

``` html
<script setup type="module">
  let msg ='hello vue3'
  let getMsg= ()=>{
    return msg
  }
  let age = 19
  let bee = 'èœœ èœ‚'
  //æ³¨æ„$å–å€¼è¡¨è¾¾å¼ï¼Œä½¿ç”¨ç€é‡å·
  let redMsg ='<font color=\'red\'>msg</font>'
  let greenMsg =`<font color=\'green\'>${msg}</font>`
</script>

<template>
  <div>
    <span v-text='msg'></span> <br><!-- æµ‹è¯•v-textæ ‡ç­¾ -->
Â  Â  <span v-text="msg"></span> <br>
Â  Â  <span v-text="getMsg()"></span> <br>
Â  Â  <span v-text="redMsg"></span> <br>
Â  Â  <span v-text="greenMsg"></span> <br>
Â  Â  <span v-text='age>18?"æˆå¹´":"æœªæˆå¹´"'></span> <br>
Â  Â  <span v-text="bee.split(' ').reverse().join('-')"></span> <br>
Â  Â  
Â  Â  <hr>
Â  Â  
Â  Â  <!-- æµ‹è¯•v-htmlæ ‡ç­¾ -->
Â  Â  <span v-html="msg"></span> <br>
Â  Â  <span v-html="getMsg()"></span> <br>
Â  Â  <span v-html="redMsg"></span> <br>
Â  Â  <span v-html="greenMsg"></span> <br>
Â  Â  <span v-html='age>18?"æˆå¹´":"æœªæˆå¹´"'></span> <br>
Â  Â  <span v-html="bee.split(' ').reverse().join('-')"></span> <br>
  </div>
</template>

<style scoped>
</style>
```

æ•ˆæœå¦‚å›¾ï¼š![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/cf898fc8a82a911720f21b8fd0a74e15.png)

### 1.2 Attributeå±æ€§æ¸²æŸ“

> æƒ³è¦æ¸²æŸ“ä¸€ä¸ªå…ƒç´ çš„ attributeï¼Œåº”è¯¥ä½¿ç”¨ `v-bind`æŒ‡ä»¤

+ ç”±äºæ’å€¼è¡¨è¾¾å¼ä¸èƒ½ç›´æ¥æ”¾åœ¨æ ‡ç­¾çš„å±æ€§ä¸­,æ‰€æœ‰è¦æ¸²æŸ“å…ƒç´ çš„å±æ€§å°±åº”è¯¥ä½¿ç”¨v-bind
+ v-bindå¯ä»¥ç”¨äºæ¸²æŸ“ä»»ä½•å…ƒç´ çš„å±æ€§,è¯­æ³•ä¸º `v-bind:å±æ€§å='æ•°æ®å'`, å¯ä»¥ç®€å†™ä¸º `:å±æ€§å='æ•°æ®å'`

``` html
<script setup type="module">
  const data = {
    name:'å°šç¡…è°·',
    url:"http://www.atguigu.com",
    logo:"http://www.atguigu.com/images/index_new/logo.png"
  }
</script>

<template>
Â  <div>

Â  Â  <a v-bind:href='data.url' target="_self">
Â  Â  Â  Â  <img :src="data.logo" :title="data.name">
Â  Â  Â  Â  <br>
Â  Â  Â  Â  <input type="button" :value="`ç‚¹å‡»è®¿é—®${data.name}`">
Â  Â  </a>

Â  </div>
</template>

<style scoped>
</style>
```

æ•ˆæœå¦‚å›¾ï¼š![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/7bfc52113dfc3039de7538fe6788866f.png)
### 1.3 äº‹ä»¶çš„ç»‘å®š

> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `v-on` æ¥ç›‘å¬ DOM äº‹ä»¶ï¼Œå¹¶åœ¨äº‹ä»¶è§¦å‘æ—¶æ‰§è¡Œå¯¹åº”çš„ Vueçš„JavaScriptä»£ç ã€‚

+ ç”¨æ³•ï¼š`v-on:click="handler"` æˆ–ç®€å†™ä¸º `@click="handler"`
+ vueä¸­çš„äº‹ä»¶å=åŸç”Ÿäº‹ä»¶åå»æ‰`on` å‰ç¼€   å¦‚:`onClick --> click`
+ handlerçš„å€¼å¯ä»¥æ˜¯`æ–¹æ³•äº‹ä»¶å¤„ç†å™¨`,ä¹Ÿå¯ä»¥æ˜¯`å†…è”äº‹ä»¶å¤„ç†å™¨`
+ ç»‘å®šäº‹ä»¶æ—¶,å¯ä»¥é€šè¿‡ä¸€äº›ç»‘å®šçš„ä¿®é¥°ç¬¦,å¸¸è§çš„äº‹ä»¶ä¿®é¥°ç¬¦å¦‚ä¸‹
	+ `.onceï¼šåªè§¦å‘ä¸€æ¬¡äº‹ä»¶ã€‚[é‡ç‚¹]`
	+ `.preventï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ã€‚[é‡ç‚¹]`ï¼Œä¸»è¦å’ŒåŸç”Ÿjså¯¹æ¯”ï¼Œç”¨äºç¡®å®šåˆ é™¤å—çš„æƒ…å†µ
	+ .stopï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ã€‚
	+ .captureï¼šä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼è€Œä¸æ˜¯å†’æ³¡æ¨¡å¼ã€‚
	+ .selfï¼šåªåœ¨äº‹ä»¶å‘é€è€…è‡ªèº«è§¦å‘æ—¶æ‰è§¦å‘äº‹ä»¶ã€‚

``` html
<script setup type="module">
	import { ref } from 'vue';

Â  Â  let count = ref(0)
Â  Â  let addCount = ()=>{
Â  Â  Â  Â  count.value++
Â  Â  }

Â  Â  let incrCount = ()=>{
Â  Â  Â  Â  count.value++
Â  Â  }

Â  Â  let changeUrl = ()=>{
Â  Â  Â  Â  //é€šè¿‡äº‹ä»¶å¯¹è±¡é˜»æ­¢ç»„ä»¶çš„é»˜è®¤è¡Œä¸º
Â  Â  Â  Â  event.preventDefault();
Â  Â  }

Â  Â  let changeSite =(event)=>{
Â  Â  Â  Â  let flag = confirm("ç¡®å®šè¦è·³è½¬é¡µé¢å—ï¼Ÿ")
Â  Â  Â  Â  if(!flag){
Â  Â  Â  Â  Â  Â  event.preventDefault();
Â  Â  Â  Â  }
Â  Â  }
</script>

<template>
Â  <div >

Â  Â  <h1>countçš„å€¼æ˜¯ï¼š{{ count }}</h1>

Â  Â  <!-- æ–¹æ³•äº‹ä»¶å¤„ç†å™¨ -->
Â  Â  <button v-on:click="addCount">addCount</button> <br>

Â  Â  <!-- å†…è”äº‹ä»¶å¤„ç†å™¨ -->
Â  Â  <button @click="count++">incrCount</button> <br>

Â  Â  <!-- onceè¡¨ç¤ºäº‹ä»¶åªæ‰§è¡Œä¸€æ¬¡ -->
Â  Â  <button @click.once="count++">addOnce</button> <br>

Â  Â  <!-- prevent é˜»æ­¢ç»„ä»¶çš„é»˜è®¤è¡Œä¸º -->
Â  Â  <a href="http://www.baidu.com" target="_blank" @click.prevent="changeUrl">prevent</a> <br>

Â  Â  <!-- åŸç”Ÿjsæ–¹å¼é˜»æ­¢ç»„ä»¶é»˜è®¤è¡Œä¸º (æ¨è) -->
Â  Â  <a href="http://www.atguigu.com" target="_blank" @click="changeSite($event)">prevent</a> <br>

Â  </div>
</template>

<style scoped>

</style>
```
## 2 å“åº”å¼åŸºç¡€

æ­¤å¤„çš„å“åº”å¼æ˜¯æŒ‡  : æ•°æ®æ¨¡å‹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°DOMæ ‘å†…å®¹ï¼Œé¡µé¢ä¸Šæ˜¾ç¤ºçš„å†…å®¹ä¼šè¿›è¡ŒåŒæ­¥å˜åŒ–ï¼Œvue3çš„æ•°æ®æ¨¡å‹ä¸æ˜¯è‡ªåŠ¨å“åº”å¼çš„ï¼Œéœ€è¦æˆ‘ä»¬åšä¸€äº›ç‰¹æ®Šçš„å¤„ç†
### 2.1 éœ€æ±‚æ¡ˆä¾‹

> éœ€æ±‚ï¼šå®ç° +  - æŒ‰é’®,å®ç°æ•°å­—åŠ ä¸€å‡ä¸€

```html
<script type="module" setup>
    let counter = 0;
    function show(){
        alert(counter);
    }
</script>

<template>
  <div>
    <button @click="counter--">-</button> 
    {{ counter }} 
    <button @click="counter++">+</button>
    <hr>
    <!-- æ­¤æ¡ˆä¾‹,æˆ‘ä»¬å‘ç°counterå€¼,ä¼šæ”¹å˜,ä½†æ˜¯é¡µé¢ä¸æ”¹å˜! é»˜è®¤Vue3çš„æ•°æ®æ˜¯éå“åº”å¼çš„!-->
    <button @click="show()">æ˜¾ç¤ºcounterå€¼</button>
   </div>
</template> 

<style scoped>

</style>

```
### 2.2 å®ç°å…³é”®å­—ref

> `ref` å¯ä»¥å°†ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼ˆå¦‚å­—ç¬¦ä¸²ï¼Œæ•°å­—ç­‰ï¼‰è½¬æ¢ä¸ºä¸€ä¸ªå“åº”å¼å¯¹è±¡ã€‚ `ref` åªèƒ½åŒ…è£¹å•ä¸€å…ƒç´ 

```html
<script type="module" setup>
    /* ä»vueä¸­å¼•å…¥refæ–¹æ³• */
    import {ref} from 'vue'
    let counter = ref(0);
    function show(){
        alert(counter.value);
    }
    /* å‡½æ•°ä¸­è¦æ“ä½œrefå¤„ç†è¿‡çš„æ•°æ®,éœ€è¦é€šè¿‡.valueå½¢å¼ */
    let decr = () =>{
      counter.value--;
    }
    let incr = () =>{
      counter.value++;
    }
</script>

<template>
  <div>
    <button @click="counter--">-</button> 
    <button @click="decr()">-</button> 
    {{ counter }} 
    <button @click="counter++">+</button>
    <button @click="incr()">+</button> 
    <hr>
    <button @click="show()">æ˜¾ç¤ºcounterå€¼</button>
   </div>
</template> 

<style scoped>

</style>
```

+ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ `ref` åŒ…è£¹äº†ä¸€ä¸ªæ•°å­—ï¼Œåœ¨ä»£ç ä¸­ç»™è¿™ä¸ªæ•°å­—åŠ  1 åï¼Œè§†å›¾ä¹Ÿä¼šè·Ÿç€åŠ¨æ€æ›´æ–°ã€‚
+ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºä½¿ç”¨äº† `ref`
	+ åœ¨scriptæ ‡ç­¾å—ä¸­è®¿é—®è¯¥å¯¹è±¡æ—¶ä½¿ç”¨ `.value` æ¥è·å–å…¶å®é™…å€¼
	+ è€Œåœ¨templateæ ‡ç­¾ä¸­è®¿é—®è¯¥å¯¹è±¡ï¼Œä¸éœ€è¦ä½¿ç”¨ `.value` æ¥è·å–å…¶å®é™…å€¼
### 2.3 å®ç°å…³é”®å­—reactive

> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [reactive()](https://cn.vuejs.org/api/reactivity-core.html#reactive "reactive()") å‡½æ•°`åˆ›å»ºä¸€ä¸ªå“åº”å¼å¯¹è±¡æˆ–æ•°ç»„`ï¼š

```html
<script type="module" setup>
    /* ä»vueä¸­å¼•å…¥reactiveæ–¹æ³• */
    import {ref,reactive} from 'vue'
    let data = reactive({
      counter:0
    })
    function show(){
        alert(data.counter);
    }
    /* å‡½æ•°ä¸­è¦æ“ä½œreactiveå¤„ç†è¿‡çš„æ•°æ®,éœ€è¦é€šè¿‡ å¯¹è±¡å.å±æ€§åçš„æ–¹å¼ */
    let decr = () =>{
      data.counter--;
    }
    let incr = () =>{
      data.counter++;
    }
</script>

<template>
  <div>
    <button @click="data.counter--">-</button> 
    <button @click="decr()">-</button> 
    {{ data.counter }} 
    <button @click="data.counter++">+</button>
    <button @click="incr()">+</button> 
    <hr>
    <button @click="show()">æ˜¾ç¤ºcounterå€¼</button>
   </div>
</template> 

<style scoped>

</style>
```

> å¯¹æ¯”refå’Œreactive:

+ ä½¿ç”¨ `ref` é€‚ç”¨äºä»¥ä¸‹å¼€å‘åœºæ™¯ï¼š
  + åŒ…è£…åŸºæœ¬ç±»å‹æ•°æ®ï¼š`ref` ä¸»è¦ç”¨äºåŒ…è£…åŸºæœ¬ç±»å‹æ•°æ®ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ç­‰ï¼‰ï¼Œå³`åªæœ‰ä¸€ä¸ªå€¼çš„æ•°æ®`ï¼Œå¦‚æœä½ æƒ³ç›‘å¬è¿™ä¸ªå€¼çš„å˜åŒ–ï¼Œç”¨ `ref` æœ€ä¸ºæ–¹ä¾¿ã€‚åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ—¶ä¹Ÿå¾ˆå¸¸è§ã€‚
  + è®¿é—®æ–¹å¼ç®€å•ï¼š`ref` å¯¹è±¡åœ¨è®¿é—®æ—¶ä¸æ™®é€šçš„åŸºæœ¬ç±»å‹å€¼æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œåªéœ€è¦é€šè¿‡ `.value` è®¿é—®å…¶å®é™…å€¼å³å¯ã€‚

+ ä½¿ç”¨ `reactive` é€‚ç”¨äºä»¥ä¸‹å¼€å‘åœºæ™¯ï¼š
  + åŒ…è£…å¤æ‚å¯¹è±¡ï¼š`reactive` å¯ä»¥å°†ä¸€ä¸ªæ™®é€šå¯¹è±¡è½¬åŒ–ä¸ºå“åº”å¼å¯¹è±¡ï¼Œè¿™æ ·åœ¨æ•°æ®å˜åŒ–æ—¶ä¼šè‡ªåŠ¨æ›´æ–°ç•Œé¢ï¼Œç‰¹åˆ«`é€‚ç”¨äºå¤„ç†å¤æ‚å¯¹è±¡æˆ–è€…æ•°æ®ç»“æ„`ã€‚
  + éœ€è¦é€’å½’ç›‘å¬çš„å±æ€§ï¼šä½¿ç”¨ `reactive` å¯ä»¥é€’å½’è¿½è¸ªæ‰€æœ‰å“åº”å¼å¯¹è±¡å†…éƒ¨çš„å˜åŒ–ï¼Œä»è€Œä¿è¯ç•Œé¢çš„è‡ªåŠ¨æ›´æ–°ã€‚

+ ç»¼ä¸Šæ‰€è¿°ï¼Œ`ref` é€‚ç”¨ä¸ç®€å•æƒ…å½¢ä¸‹çš„æ•°æ®åŒå‘ç»‘å®šï¼Œå¯¹äºåªæœ‰ä¸€ä¸ªå­—ç¬¦ç­‰åŸºæœ¬ç±»å‹æ•°æ®æˆ–è‡ªå®šä¹‰ç»„ä»¶ç­‰æƒ…å†µï¼Œå»ºè®®å¯ä»¥ä½¿ç”¨ `ref`ï¼›è€Œå¯¹äºå¯¹è±¡ã€å‡½æ•°ç­‰è¾ƒä¸ºå¤æ‚çš„æ•°æ®ç»“æ„ï¼Œä»¥åŠéœ€è¦é€’å½’ç›‘å¬çš„å±æ€§å˜åŒ–ï¼Œå»ºè®®ä½¿ç”¨ `reactive`ã€‚å½“ç„¶ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­æ ¹æ®éœ€æ±‚çµæ´»é€‰æ‹©ä¹Ÿæ˜¯ååˆ†å¿…è¦çš„ã€‚
### 2.4 æ‰©å±•å“åº”å¼å…³é”®å­— toRefs å’Œ toRef(äº†è§£)

> `toRefåŸºäºreactiveå“åº”å¼å¯¹è±¡ä¸Šçš„ä¸€ä¸ªå±æ€§ï¼Œåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ refå“åº”å¼æ•°æ®`ã€‚è¿™æ ·åˆ›å»ºçš„ ref ä¸å…¶æºå±æ€§ä¿æŒåŒæ­¥ï¼šæ”¹å˜æºå±æ€§çš„å€¼å°†æ›´æ–° ref çš„å€¼ï¼Œåä¹‹äº¦ç„¶ã€‚
> 
> `toRefså°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡å¤šä¸ªå±æ€§è½¬æ¢ä¸ºå¤šä¸ªrefæ•°æ®`ï¼Œè¿™ä¸ªæ™®é€šå¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½æ˜¯æŒ‡å‘æºå¯¹è±¡ç›¸åº”å±æ€§çš„ refã€‚æ¯ä¸ªå•ç‹¬çš„ ref éƒ½æ˜¯ä½¿ç”¨ [toRef()](https://cn.vuejs.org/api/reactivity-utilities.html#toref "toRef()") åˆ›å»ºçš„ã€‚

æ¡ˆä¾‹ï¼šå“åº”æ˜¾ç¤ºreactiveå¯¹è±¡å±æ€§

```html
<script type="module" setup>
    /* ä»vueä¸­å¼•å…¥reactiveæ–¹æ³• */
    import {ref,reactive,toRef,toRefs} from 'vue'
    let data = reactive({
      counter:0,
      name:"test"
    })

    // å°†ä¸€ä¸ªreactiveå“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§è½¬æ¢æˆä¸€ä¸ªrefå“åº”å¼å¯¹è±¡
    let ct =toRef(data,'counter');
    // å°†ä¸€ä¸ªreactiveå“åº”å¼å¯¹è±¡ä¸­çš„å¤šä¸ªå±æ€§è½¬æ¢æˆå¤šä¸ªrefå“åº”å¼å¯¹è±¡
    let {counter,name} = toRefs(data)

    function show(){
        alert(data.counter);
        // è·å–refçš„å“åº”å¯¹è±¡,éœ€è¦é€šè¿‡.valueå±æ€§
        alert(counter.value);
        alert(name.value)
    }
    /* å‡½æ•°ä¸­è¦æ“ä½œrefå¤„ç†è¿‡çš„æ•°æ®,éœ€è¦é€šè¿‡.valueå½¢å¼ */
    let decr = () =>{
      data.counter--;
    }
    let incr = () =>{
      /* refå“åº”å¼æ•°æ®,è¦é€šè¿‡.valueå±æ€§è®¿é—® */
      counter.value++;
    }
</script>

<template>
  <div>
    <button @click="data.counter--">-</button> 
    <button @click="decr()">-</button> 
    {{ data.counter }} 
    &amp;
    {{ ct }} 
    <button @click="data.counter++">+</button>
    <button @click="incr()">+</button> 
    <hr>
    <button @click="show()">æ˜¾ç¤ºcounterå€¼</button>
   </div>
</template> 

<style scoped>

</style>


```
## 3 æ¡ä»¶å’Œåˆ—è¡¨æ¸²æŸ“

### 3.1 æ¡ä»¶æ¸²æŸ“

> `v-if` æ¡ä»¶æ¸²æŸ“

+ `v-if='è¡¨è¾¾å¼' `åªä¼šåœ¨æŒ‡ä»¤çš„è¡¨è¾¾å¼è¿”å›çœŸå€¼æ—¶æ‰è¢«æ¸²æŸ“

+ ä¹Ÿå¯ä»¥ä½¿ç”¨ `v-else` ä¸º `v-if` æ·»åŠ ä¸€ä¸ªâ€œelse åŒºå—â€ã€‚

+ ä¸€ä¸ª `v-else` å…ƒç´ å¿…é¡»è·Ÿåœ¨ä¸€ä¸ª `v-if` å…ƒç´ åé¢ï¼Œå¦åˆ™å®ƒå°†ä¸ä¼šè¢«è¯†åˆ«ã€‚

```html
<script type="module" setup>
    import {ref} from 'vue'
    let awesome = ref(true)
</script>

<template>
  <div>
    <h1 v-if="awesome">Vue is awesome!</h1>
    <h1 v-else>Oh no ğŸ˜¢</h1>
    <button @click="awesome = !awesome">Toggle</button>
  </div>
</template> 

<style scoped>
</style>
```

> `v-show`æ¡ä»¶æ¸²æŸ“æ‰©å±•ï¼š

+ å¦ä¸€ä¸ªå¯ä»¥ç”¨æ¥æŒ‰æ¡ä»¶æ˜¾ç¤ºä¸€ä¸ªå…ƒç´ çš„æŒ‡ä»¤æ˜¯ `v-show`ã€‚å…¶ç”¨æ³•åŸºæœ¬ä¸€æ ·ï¼š

+ ä¸åŒä¹‹å¤„åœ¨äº `v-show` ä¼šåœ¨ DOM æ¸²æŸ“ä¸­ä¿ç•™è¯¥å…ƒç´ ï¼›`v-show` ä»…åˆ‡æ¢äº†è¯¥å…ƒç´ ä¸Šåä¸º `display` çš„ CSS å±æ€§ã€‚

+ `v-show` ä¸æ”¯æŒåœ¨ `<template>` å…ƒç´ ä¸Šä½¿ç”¨ï¼Œä¹Ÿä¸èƒ½å’Œ `v-else` æ­é…ä½¿ç”¨ã€‚

``` html
<script type="module" setup>
    import {ref} from 'vue'
    let awesome = ref(true)
</script>

<template>
  <div>
    <h1 id="ha"  v-show="awesome">Vue is awesome!</h1>
    <h1 id="hb"  v-if="awesome">Vue is awesome!</h1>
    <h1 id="hc"  v-else>Oh no ğŸ˜¢</h1>
    <button @click="awesome = !awesome">Toggle</button>
  </div>
</template> 

<style scoped>
</style>

```

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/39a422b0f057a2501eb0c6feb982c917.png)



> **`v-if`**    **vs** **`v-show`**

+ `v-if` æ˜¯â€œçœŸå®çš„â€æŒ‰æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒç¡®ä¿äº†åœ¨åˆ‡æ¢æ—¶ï¼Œæ¡ä»¶åŒºå—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶éƒ½ä¼šè¢«é”€æ¯ä¸é‡å»ºã€‚

+ `v-if` ä¹Ÿæ˜¯**æƒ°æ€§**çš„ï¼šå¦‚æœåœ¨åˆæ¬¡æ¸²æŸ“æ—¶æ¡ä»¶å€¼ä¸º falseï¼Œåˆ™ä¸ä¼šåšä»»ä½•äº‹ã€‚æ¡ä»¶åŒºå—åªæœ‰å½“æ¡ä»¶é¦–æ¬¡å˜ä¸º true æ—¶æ‰è¢«æ¸²æŸ“ã€‚

+ ç›¸æ¯”ä¹‹ä¸‹ï¼Œ`v-show` ç®€å•è®¸å¤šï¼Œå…ƒç´ æ— è®ºåˆå§‹æ¡ä»¶å¦‚ä½•ï¼Œå§‹ç»ˆä¼šè¢«æ¸²æŸ“ï¼Œåªæœ‰ CSS `display` å±æ€§ä¼šè¢«åˆ‡æ¢ã€‚

+ æ€»çš„æ¥è¯´ï¼Œ`v-if` æœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ `v-show` æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚
	+ å› æ­¤ï¼Œå¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ `v-show` è¾ƒå¥½ï¼›
	+ å¦‚æœåœ¨è¿è¡Œæ—¶ç»‘å®šæ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œåˆ™ `v-if` ä¼šæ›´åˆé€‚ã€‚
### 3.2 åˆ—è¡¨æ¸²æŸ“

> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `v-for` æŒ‡ä»¤`åŸºäºä¸€ä¸ªæ•°ç»„æ¥æ¸²æŸ“ä¸€ä¸ªåˆ—è¡¨`ã€‚

+ `v-for` æŒ‡ä»¤çš„å€¼éœ€è¦ä½¿ç”¨ `item in items` å½¢å¼çš„ç‰¹æ®Šè¯­æ³•ï¼Œå…¶ä¸­ `items` æ˜¯æºæ•°æ®çš„æ•°ç»„ï¼Œè€Œ `item` æ˜¯è¿­ä»£é¡¹çš„**åˆ«å**ï¼š

+ åœ¨ `v-for` å—ä¸­å¯ä»¥å®Œæ•´åœ°è®¿é—®çˆ¶ä½œç”¨åŸŸå†…çš„å±æ€§å’Œå˜é‡ã€‚`v-for` ä¹Ÿæ”¯æŒä½¿ç”¨å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå½“å‰é¡¹çš„ä½ç½®ç´¢å¼•ã€‚

```html
<script type="module" setup>
    import {ref,reactive} from 'vue'
    let parentMessage= ref('äº§å“')
    let items =reactive([
      {
        id:'item1',
        message:"è–¯ç‰‡"
      },
      {
        id:'item2',
        message:"å¯ä¹"
      }
    ])
</script>

<template>
  <div>
    <ul>
      <!-- :keyä¸å†™ä¹Ÿå¯ä»¥ -->
      <li v-for='item in items' :key='item.id'>
        {{ item.message }}
      </li>
    </ul>

    <ul>
      <!-- indexè¡¨ç¤ºç´¢å¼•,å½“ç„¶ä¸æ˜¯éå¾—ä½¿ç”¨indexè¿™ä¸ªå•è¯ -->
      <li v-for="(item, index) in items" :key="index">
        {{ parentMessage }} - {{ index }} - {{ item.message }}
      </li>
    </ul>
   
  </div>
</template> 

<style scoped>
</style>
```

+ æ¡ˆä¾‹ï¼šå®ç°è´­ç‰©è½¦æ˜¾ç¤ºå’Œåˆ é™¤è´­ç‰©é¡¹

``` html
<script type="module" setup>

    //å¼•å…¥æ¨¡å—
    import { reactive} from 'vue'
    //å‡†å¤‡è´­ç‰©è½¦æ•°æ®,è®¾ç½®æˆå“åº”æ•°æ®
    const carts = reactive([{name:'å¯ä¹',price:3,number:10},{name:'è–¯ç‰‡',price:6,number:8}])

    //è®¡ç®—è´­ç‰©è½¦æ€»é‡‘é¢
    function compute(){
      let count = 0;
      for(let index in carts){
        count += carts[index].price*carts[index].number;
      }
      return count;
    }
    //åˆ é™¤è´­ç‰©é¡¹æ–¹æ³•
    function removeCart(index){
      carts.splice(index,1);
    }
    
</script>

<template>
    <div>
        <table>
           <thead>
               <tr>
                  <th>åºå·</th>
                  <th>å•†å“å</th>
                  <th>ä»·æ ¼</th>
                  <th>æ•°é‡</th>
                  <th>å°è®¡</th>
                  <th>æ“ä½œ</th>
               </tr>
           </thead>
           <tbody v-if="carts.length > 0">
               <!-- æœ‰æ•°æ®æ˜¾ç¤º-->
               <tr v-for="cart,index in carts" :key="index">
                  <th>{{ index+1 }}</th>
                  <th>{{ cart.name }}</th>
                  <th>{{ cart.price + 'å…ƒ' }}</th>
                  <th>{{ cart.number }}</th>
                  <th>{{ cart.price*cart.number  + 'å…ƒ'}}</th>
                  <th> <button @click="removeCart(index)">åˆ é™¤</button> </th>
               </tr>
           </tbody>
           <tbody v-else>
               <!-- æ²¡æœ‰æ•°æ®æ˜¾ç¤º-->
               <tr>
                  <td colspan="6">è´­ç‰©è½¦æ²¡æœ‰æ•°æ®!</td>
               </tr>
           </tbody>
        </table>
        è´­ç‰©è½¦æ€»é‡‘é¢: {{ compute() }} å…ƒ
    </div>
</template> 

<style scoped>
</style>
```
## 4 åŒå‘ç»‘å®š

> `å•å‘ç»‘å®šå’ŒåŒå‘ç»‘å®š`

+ å•å‘ç»‘å®š: å“åº”å¼æ•°æ®çš„å˜åŒ–ä¼šæ›´æ–°domæ ‘,ä½†æ˜¯domæ ‘ä¸Šç”¨æˆ·çš„æ“ä½œé€ æˆçš„æ•°æ®æ”¹å˜ä¸ä¼šåŒæ­¥æ›´æ–°åˆ°å“åº”å¼æ•°æ®

+ åŒå‘ç»‘å®š: `å“åº”å¼æ•°æ®çš„å˜åŒ–ä¼šæ›´æ–°domæ ‘,ä½†æ˜¯domæ ‘ä¸Šç”¨æˆ·çš„æ“ä½œé€ æˆçš„æ•°æ®æ”¹å˜ä¼šåŒæ­¥æ›´æ–°åˆ°å“åº”å¼æ•°æ®`
	+ ç”¨æˆ·é€šè¿‡è¡¨å•æ ‡ç­¾æ‰èƒ½å¤Ÿè¾“å…¥æ•°æ®,æ‰€ä»¥åŒå‘ç»‘å®šéƒ½æ˜¯åº”ç”¨åˆ°è¡¨å•æ ‡ç­¾ä¸Šçš„,å…¶ä»–æ ‡ç­¾ä¸è¡Œ
	+ v-model`ä¸“é—¨ç”¨äºåŒå‘ç»‘å®šè¡¨å•æ ‡ç­¾çš„valueå±æ€§`,è¯­æ³•ä¸º `v-model:value=''`,å¯ä»¥ç®€å†™ä¸º `v-model=''`
	+ v-modelè¿˜å¯ä»¥ç”¨äºå„ç§ä¸åŒç±»å‹çš„è¾“å…¥ï¼Œ`<textarea>`ã€`<select>` å…ƒç´ ã€‚

```html
<script type="module" setup>

  //å¼•å…¥æ¨¡å—
  import { reactive,ref} from 'vue' 
  let hbs = ref([]); //è£…çˆ±å¥½çš„å€¼
  let user = reactive({username:null,password:null,introduce:null,pro:null})   
  function login(){
    alert(hbs.value);
    alert(JSON.stringify(user));
  }
  function clearx(){
    //user = {};// è¿™ä¸­å†™æ³•ä¼šå°†æ•°æ®å˜æˆéå“åº”çš„,åº”è¯¥æ˜¯user.username=""
    user.username=''
    user.password=''
    user.introduce=''
    user.pro=''
    hbs.value.splice(0,hbs.value.length);;
  }
</script>

<template>
  <div>
      è´¦å·ï¼š <input type="text" placeholder="è¯·è¾“å…¥è´¦å·ï¼" v-model="user.username"> <br>
      å¯†ç ï¼š <input type="text" placeholder="è¯·è¾“å…¥è´¦å·ï¼" v-model="user.password"> <br>
      çˆ±å¥½ï¼š 
        åƒ <input type="checkbox" name="hbs" v-model="hbs" value="åƒ"> 
        å– <input type="checkbox" name="hbs" v-model="hbs" value="å–">
        ç© <input type="checkbox" name="hbs" v-model="hbs" value="ç©">
        ä¹ <input type="checkbox" name="hbs" v-model="hbs" value="ä¹">
      <br>
      ç®€ä»‹:<textarea v-model="user.introduce"></textarea>
      <br>
      ç±è´¯:
          <select v-model="user.pro">
            <option value="1">é»‘</option>
            <option value="2">å‰</option>
            <option value="3">è¾½</option>
            <option value="4">äº¬</option>
            <option value="5">æ´¥</option>
            <option value="6">å†€</option>
          </select> 
      <br>
      <button @click="login()">ç™»å½•</button> 
      <button @click="clearx()">é‡ç½®</button>
      <hr>
      æ˜¾ç¤ºçˆ±å¥½:{{ hbs }}
      <hr>
      æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯:{{ user }}
  </div> 
</template> 

<style scoped>
</style>

```
## 5 å±æ€§è®¡ç®—(äº†è§£)

> æ¨¡æ¿ä¸­çš„è¡¨è¾¾å¼è™½ç„¶æ–¹ä¾¿ï¼Œä½†ä¹Ÿåªèƒ½ç”¨æ¥åšç®€å•çš„æ“ä½œã€‚å¦‚æœåœ¨æ¨¡æ¿ä¸­å†™å¤ªå¤šé€»è¾‘ï¼Œä¼šè®©æ¨¡æ¿å˜å¾—è‡ƒè‚¿ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚
> 
> `æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªåŒ…å«åµŒå¥—æ•°ç»„çš„å¯¹è±¡ï¼š`

```html
<script type="module" setup>
  //å¼•å…¥æ¨¡å—
  import { reactive,computed} from 'vue'
  const author = reactive({
    name: 'John Doe',
    books: [
      'Vue 2 - Advanced Guide',
      'Vue 3 - Basic Guide',
      'Vue 4 - The Mystery'
    ]
  })
 
</script>

<template>
  <div>
    <p>{{author.name}} Has published books?:</p>
    <span>{{ author.books.length > 0 ? 'Yes' : 'No' }}</span>
  </div>
</template> 

<style scoped>
</style>
```

+ è¿™é‡Œçš„æ¨¡æ¿çœ‹èµ·æ¥æœ‰äº›å¤æ‚ã€‚æˆ‘ä»¬å¿…é¡»è®¤çœŸçœ‹å¥½ä¸€ä¼šå„¿æ‰èƒ½æ˜ç™½å®ƒçš„è®¡ç®—ä¾èµ–äº `author.books`ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå¦‚æœåœ¨æ¨¡æ¿ä¸­éœ€è¦ä¸æ­¢ä¸€æ¬¡è¿™æ ·çš„è®¡ç®—ï¼Œæˆ‘ä»¬å¯ä¸æƒ³å°†è¿™æ ·çš„ä»£ç åœ¨æ¨¡æ¿é‡Œé‡å¤å¥½å¤šéã€‚

> å› æ­¤æˆ‘ä»¬æ¨èä½¿ç”¨**è®¡ç®—å±æ€§**æ¥æè¿°ä¾èµ–å“åº”å¼çŠ¶æ€çš„å¤æ‚é€»è¾‘ã€‚è¿™æ˜¯é‡æ„åçš„ç¤ºä¾‹ï¼š

```html
<script type="module" setup>
  //å¼•å…¥æ¨¡å—
  import { reactive,computed} from 'vue'
  const author = reactive({
    name: 'John Doe',
    books: [
      'Vue 2 - Advanced Guide',
      'Vue 3 - Basic Guide',
      'Vue 4 - The Mystery'
    ]
  })
  // publishedBooksMessageä¸ºä¸€ä¸ªè®¡ç®—å±æ€§ ref
  const publishedBooksMessage = computed(() => {
    //å¦‚æœauthor.booksä¸å˜ï¼Œè¿™ä¸ªæ–¹æ³•åªä¼šæ‰§è¡Œä¸€æ¬¡
    //æ‰€ä»¥å¯¹äºå±æ€§æ˜¯ç»è¿‡å¤§é‡ã€å¤æ‚ç®—æ³•è¿ç®—å‡ºæ¥çš„ï¼Œä½¿ç”¨è¿™ä¸ªå¯ä»¥èŠ‚çœæ—¶é—´å’Œç©ºé—´ä¸Šçš„èµ„æº
	console.log("publishedBooksMessage")
    return author.books.length > 0 ? 'Yes' : 'No'
  })
  // ä¸€ä¸ªå‡½æ•°
  let hasBooks = ()=>{
	//æ— è®ºauthor.bookså˜æˆ–ä¸å˜ï¼Œè¿™ä¸ªæ–¹æ³•è°ƒç”¨å°±ä¼šæ‰§è¡Œ
    console.log("hasBooks")
    return author.books.length > 0?'Yes':'no'
  }

</script>

<template>
  <div>
    <p>{{author.name}} Has published books?:</p>
    <span>{{ author.books.length > 0 ? 'Yes' : 'No' }}</span>
    <!-- è°ƒç”¨æ–¹æ³•,æ¯ä¸ªæ ‡ç­¾éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ -->
    <span>{{ hasBooks() }}</span>
    <span>{{ hasBooks() }}</span>

    <p>{{author.name}} Has published books?:</p>
    <!-- å±æ€§è®¡ç®—,å±æ€§å€¼ä¸å˜æ—¶,å¤šä¸ªä¸ªæ ‡ç­¾åªä¼šè°ƒç”¨ä¸€æ¬¡ -->
    <span>{{ publishedBooksMessage }}</span>
    <span>{{ publishedBooksMessage }}</span>
  </div>
</template> 

<style scoped>
</style>

```

+ æˆ‘ä»¬åœ¨è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªè®¡ç®—å±æ€§ `publishedBooksMessage`ã€‚`computed()` æ–¹æ³•æœŸæœ›æ¥æ”¶ä¸€ä¸ª getter å‡½æ•°ï¼Œè¿”å›å€¼ä¸ºä¸€ä¸ª**è®¡ç®—å±æ€§ ref**ã€‚å’Œå…¶ä»–ä¸€èˆ¬çš„ ref ç±»ä¼¼ï¼Œä½ å¯ä»¥é€šè¿‡ `publishedBooksMessage.value` è®¿é—®è®¡ç®—ç»“æœã€‚è®¡ç®—å±æ€§ ref ä¹Ÿä¼šåœ¨æ¨¡æ¿ä¸­è‡ªåŠ¨è§£åŒ…ï¼Œå› æ­¤åœ¨æ¨¡æ¿è¡¨è¾¾å¼ä¸­å¼•ç”¨æ—¶æ— éœ€æ·»åŠ  `.value`ã€‚

+ Vue çš„è®¡ç®—å±æ€§ä¼šè‡ªåŠ¨è¿½è¸ªå“åº”å¼ä¾èµ–ã€‚å®ƒä¼šæ£€æµ‹åˆ° `publishedBooksMessage` ä¾èµ–äº `author.books`ï¼Œæ‰€ä»¥å½“ `author.books` æ”¹å˜æ—¶ï¼Œä»»ä½•ä¾èµ–äº `publishedBooksMessage` çš„ç»‘å®šéƒ½ä¼šåŒæ—¶æ›´æ–°ã€‚

> è®¡ç®—å±æ€§ç¼“å­˜ vs æ–¹æ³•

+ è‹¥æˆ‘ä»¬å°†åŒæ ·çš„å‡½æ•°å®šä¹‰ä¸ºä¸€ä¸ªæ–¹æ³•è€Œä¸æ˜¯è®¡ç®—å±æ€§ï¼Œä¸¤ç§æ–¹å¼åœ¨ç»“æœä¸Šç¡®å®æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œç„¶è€Œï¼Œä¸åŒä¹‹å¤„åœ¨äº**è®¡ç®—å±æ€§å€¼ä¼šåŸºäºå…¶å“åº”å¼ä¾èµ–è¢«ç¼“å­˜**ã€‚ä¸€ä¸ªè®¡ç®—å±æ€§ä»…ä¼šåœ¨å…¶å“åº”å¼ä¾èµ–æ›´æ–°æ—¶æ‰é‡æ–°è®¡ç®—ã€‚è¿™æ„å‘³ç€åªè¦ `author.books` ä¸æ”¹å˜ï¼Œæ— è®ºå¤šå°‘æ¬¡è®¿é—® `publishedBooksMessage` éƒ½ä¼šç«‹å³è¿”å›å…ˆå‰çš„è®¡ç®—ç»“æœ!
## 6 æ•°æ®ç›‘å¬å™¨(äº†è§£)

> è®¡ç®—å±æ€§å…è®¸æˆ‘ä»¬å£°æ˜æ€§åœ°è®¡ç®—è¡ç”Ÿå€¼ã€‚ç„¶è€Œåœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨çŠ¶æ€å˜åŒ–æ—¶æ‰§è¡Œä¸€äº›â€œå‰¯ä½œç”¨â€ï¼šä¾‹å¦‚æ›´æ”¹ DOMï¼Œæˆ–æ˜¯æ ¹æ®å¼‚æ­¥æ“ä½œçš„ç»“æœå»ä¿®æ”¹å¦ä¸€å¤„çš„çŠ¶æ€ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [watch](https://cn.vuejs.org/api/reactivity-core.html#watch "watch")[ å‡½æ•°](https://cn.vuejs.org/api/reactivity-core.html#watch " å‡½æ•°")`åœ¨æ¯æ¬¡å“åº”å¼çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘å›è°ƒå‡½æ•°ï¼š`

+ watchä¸»è¦ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š
	+ å½“`æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶`éœ€è¦æ‰§è¡Œç›¸åº”çš„æ“ä½œ
	+ `ç›‘å¬æ•°æ®å˜åŒ–ï¼Œå½“æ»¡è¶³ä¸€å®šæ¡ä»¶æ—¶`è§¦å‘ç›¸åº”æ“ä½œ
	+ åœ¨`å¼‚æ­¥æ“ä½œå‰æˆ–æ“ä½œå`éœ€è¦æ‰§è¡Œç›¸åº”çš„æ“ä½œ

> ç›‘æ§å“åº”å¼æ•°æ®ï¼ˆ`watch`ï¼‰ï¼š

```html
<script type="module" setup>
  //å¼•å…¥æ¨¡å—
  import { ref,reactive,watch} from 'vue'
 
  let firstname=ref('')
  let lastname=reactive({name:''})
  let fullname=ref('')

  //ç›‘å¬ä¸€ä¸ªrefå“åº”å¼æ•°æ®
  watch(firstname,(newValue,oldValue)=>{
    console.log(`${oldValue}å˜ä¸º${newValue}`)
    fullname.value=firstname.value+lastname.name
  })
  
  //ç›‘å¬reactiveå“åº”å¼æ•°æ®çš„æŒ‡å®šå±æ€§
  watch(()=>lastname.name,(newValue,oldValue)=>{
    console.log(`${oldValue}å˜ä¸º${newValue}`)
    fullname.value=firstname.value+lastname.name
  })
  
  //ç›‘å¬reactiveå“åº”å¼æ•°æ®çš„æ‰€æœ‰å±æ€§(æ·±åº¦ç›‘è§†,ä¸€èˆ¬ä¸æ¨è)
  //deep:true æ·±åº¦ç›‘è§†ï¼ˆç›‘è§†å¯¹è±¡å†…çš„æ‰€æœ‰å±æ€§ï¼‰
  //immediate:true é¡µé¢æ‰§è¡Œå‰ï¼Œå…ˆæ‰§è¡Œä¸€æ¬¡è¯¥watchæ–¹æ³•
  watch(()=>lastname,(newValue,oldValue)=>{
    // æ­¤æ—¶çš„newValueå’ŒoldValueä¸€æ ·,éƒ½æ˜¯lastname
    console.log(newValue)
    console.log(oldValue)
    fullname.value=firstname.value+lastname.name
  },{deep:true,immediate:false})
</script>

<template>
  <div>
    å…¨å:{{fullname}} <br>
    å§“æ°:<input type="text" v-model="firstname"> <br>
    åå­—:<input type="text" v-model="lastname.name" > <br>
  </div>
</template> 

<style scoped>
</style>
```

> ç›‘æ§å“åº”å¼æ•°æ®(`watchEffect`)ï¼š

+ watchEffecté»˜è®¤ç›‘å¬æ‰€æœ‰çš„å“åº”å¼æ•°æ®

```html
<script type="module" setup>
  //å¼•å…¥æ¨¡å—
  import { ref,reactive,watch, watchEffect} from 'vue'
 
  let firstname=ref('')
  let lastname=reactive({name:''})
  let fullname=ref('')

  //ç›‘å¬æ‰€æœ‰å“åº”å¼æ•°æ®ï¼Œå°†éœ€è¦ç›‘å¬çš„æ•°æ®æ”¾å…¥å³å¯
  //ä¸æ”¾å…¥å…ƒç´ ä¸ä¼šç›‘å¬
  watchEffect(()=>{
    //é»˜è®¤åˆå§‹åŒ–å°±åŠ è½½ï¼
    console.log(firstname.value)
    console.log(lastname.name)
    fullname.value=`${firstname.value}${lastname.name}`
  })
</script>

<template>
  <div>
    å…¨å:{{fullname}} <br>
    å§“æ°:<input type="text" v-model="firstname"> <br>
    åå­—:<input type="text" v-model="lastname.name" > <br>
  </div>
</template> 

<style scoped>
</style>
```

> `watch` vs. `watchEffect`

+ `watch` å’Œ `watchEffect` éƒ½èƒ½å“åº”å¼åœ°æ‰§è¡Œæœ‰å‰¯ä½œç”¨çš„å›è°ƒã€‚å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«æ˜¯è¿½è¸ªå“åº”å¼ä¾èµ–çš„æ–¹å¼ï¼š
  + `watch` åªè¿½è¸ªæ˜ç¡®ä¾¦å¬çš„æ•°æ®æºã€‚å®ƒä¸ä¼šè¿½è¸ªä»»ä½•åœ¨å›è°ƒä¸­è®¿é—®åˆ°çš„ä¸œè¥¿ã€‚å¦å¤–ï¼Œä»…åœ¨æ•°æ®æºç¡®å®æ”¹å˜æ—¶æ‰ä¼šè§¦å‘å›è°ƒã€‚`watch` ä¼šé¿å…åœ¨å‘ç”Ÿå‰¯ä½œç”¨æ—¶è¿½è¸ªä¾èµ–ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬èƒ½æ›´åŠ ç²¾ç¡®åœ°æ§åˆ¶å›è°ƒå‡½æ•°çš„è§¦å‘æ—¶æœºã€‚
  + `watchEffect`ï¼Œåˆ™ä¼šåœ¨å‰¯ä½œç”¨å‘ç”ŸæœŸé—´è¿½è¸ªä¾èµ–ã€‚å®ƒä¼šåœ¨åŒæ­¥æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨è¿½è¸ªæ‰€æœ‰èƒ½è®¿é—®åˆ°çš„å“åº”å¼å±æ€§ã€‚è¿™æ›´æ–¹ä¾¿ï¼Œè€Œä¸”ä»£ç å¾€å¾€æ›´ç®€æ´ï¼Œä½†æœ‰æ—¶å…¶å“åº”æ€§ä¾èµ–å…³ç³»ä¼šä¸é‚£ä¹ˆæ˜ç¡®ã€‚
## 7 Vueç”Ÿå‘½å‘¨æœŸ

### 7.1 ç®€ä»‹

> æ¯ä¸ª Vue ç»„ä»¶å®ä¾‹åœ¨åˆ›å»ºæ—¶éƒ½éœ€è¦ç»å†ä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ­¥éª¤ï¼Œæ¯”å¦‚è®¾ç½®å¥½æ•°æ®ä¾¦å¬ï¼Œç¼–è¯‘æ¨¡æ¿ï¼ŒæŒ‚è½½å®ä¾‹åˆ° DOMï¼Œä»¥åŠåœ¨æ•°æ®æ”¹å˜æ—¶æ›´æ–° DOMã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå®ƒä¹Ÿä¼šè¿è¡Œè¢«ç§°ä¸º`ç”Ÿå‘½å‘¨æœŸé’©å­çš„å‡½æ•°`ï¼Œè®©å¼€å‘è€…æœ‰æœºä¼šåœ¨ç‰¹å®šé˜¶æ®µè¿è¡Œè‡ªå·±çš„ä»£ç !

+ å‘¨æœŸå›¾è§£ï¼šï¼ˆçœ‹çº¢è‰²éƒ¨åˆ†å¯¹åº”çš„é’©å­å‡½æ•°å³å¯ï¼‰![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/aa65122673fccafe5ae41228551e3df8.png)
+ å¸¸è§é’©å­å‡½æ•°ï¼ˆç»„åˆå¼ä¸­èƒ½ä½¿ç”¨çš„ï¼‰
	+ [é€‰é¡¹å¼å£°æ˜å‘¨æœŸé’©å­å‡½æ•° | Vue.js (vuejs.org)](https://cn.vuejs.org/api/options-lifecycle.html)
	+ [ç»„åˆå¼ APIï¼šç”Ÿå‘½å‘¨æœŸé’©å­ | Vue.js (vuejs.org)](https://cn.vuejs.org/api/composition-api-lifecycle.html)
	+ onMounted()              æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåæ‰§è¡Œã€‚ 
	+ onUpdated()               æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ç»„ä»¶å› ä¸ºå“åº”å¼çŠ¶æ€å˜æ›´è€Œæ›´æ–°å…¶ DOM æ ‘ä¹‹åè°ƒç”¨ã€‚ 
	+ onUnmounted()         æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ç»„ä»¶å®ä¾‹è¢«å¸è½½ä¹‹åè°ƒç”¨ã€‚ 
	+ onBeforeMount()       æ³¨å†Œä¸€ä¸ªé’©å­ï¼Œåœ¨ç»„ä»¶è¢«æŒ‚è½½ä¹‹å‰è¢«è°ƒç”¨ã€‚ 
	+ onBeforeUpdate()      æ³¨å†Œä¸€ä¸ªé’©å­ï¼Œåœ¨ç»„ä»¶å³å°†å› ä¸ºå“åº”å¼çŠ¶æ€å˜æ›´è€Œæ›´æ–°å…¶ DOM æ ‘ä¹‹å‰è°ƒç”¨ã€‚ 
	+ onBeforeUnmount()  æ³¨å†Œä¸€ä¸ªé’©å­ï¼Œåœ¨ç»„ä»¶å®ä¾‹è¢«å¸è½½ä¹‹å‰è°ƒç”¨ã€‚ 
### 7.2 æ¡ˆä¾‹

```html
<script setup>

    import {ref,onUpdated,onMounted,onBeforeUpdate} from 'vue'
    
    let message =ref('hello')
   
    // æŒ‚è½½å®Œæ¯•ç”Ÿå‘½å‘¨æœŸ
    onMounted(()=>{
      console.log('-----------onMounted---------')
      let span1 =document.getElementById("span1")
      console.log(span1.innerText)
    })
    // æ›´æ–°å‰ç”Ÿå‘½å‘¨æœŸ
    onBeforeUpdate(()=>{
      console.log('-----------onBeforeUpdate---------')
      console.log(message.value)
      let span1 =document.getElementById("span1")
      console.log(span1.innerText)
    })
    // æ›´æ–°å®Œæˆç”Ÿå‘½å‘¨æœŸ
    onUpdated(()=>{
      console.log('-----------onUpdated---------')
      let span1 =document.getElementById("span1")
      console.log(span1.innerText)
    })
</script>

<template>
  <div>
    <span id="span1" v-text="message"></span> <br>
    <input type="text" v-model="message">
  </div>
  
</template>

<style scoped>
</style>
```
## 8 Vueç»„ä»¶

### 8.1 ç»„ä»¶åŸºç¡€

> `ç»„ä»¶å…è®¸æˆ‘ä»¬å°† UI åˆ’åˆ†ä¸ºç‹¬ç«‹çš„ã€å¯é‡ç”¨çš„éƒ¨åˆ†ï¼Œå¹¶ä¸”å¯ä»¥å¯¹æ¯ä¸ªéƒ¨åˆ†è¿›è¡Œå•ç‹¬çš„æ€è€ƒ`ã€‚
> 
> ç»„ä»¶å°±æ˜¯å®ç°åº”ç”¨ä¸­`å±€éƒ¨åŠŸèƒ½ä»£ç å’Œèµ„æºçš„é›†åˆï¼`åœ¨å®é™…åº”ç”¨ä¸­ï¼Œç»„ä»¶å¸¸å¸¸è¢«ç»„ç»‡æˆå±‚å±‚åµŒå¥—çš„æ ‘çŠ¶ç»“æ„ï¼š

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2ae2075a901f2107a0642b5b03fa39f7.png)

+ è¿™å’Œæˆ‘ä»¬åµŒå¥— HTML å…ƒç´ çš„æ–¹å¼ç±»ä¼¼ï¼ŒVue å®ç°äº†è‡ªå·±çš„ç»„ä»¶æ¨¡å‹ï¼Œä½¿æˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸ªç»„ä»¶å†…å°è£…è‡ªå®šä¹‰å†…å®¹ä¸é€»è¾‘ã€‚

> ä¼ ç»Ÿæ–¹å¼ç¼–å†™åº”ç”¨ï¼š

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/7911449bbb7ea7ae4c18fe7816bd8f9b.png)

> ç»„ä»¶æ–¹å¼ç¼–å†™åº”ç”¨ï¼š

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/5c760dcd19254016cbe2a2cac56c20d3.png)

+ `ç»„ä»¶åŒ–`ï¼šå¯¹js/css/htmlç»Ÿä¸€å°è£…,è¿™æ˜¯VUEä¸­çš„æ¦‚å¿µ
+ `æ¨¡å—åŒ–`ï¼šå¯¹jsçš„ç»Ÿä¸€å°è£…,è¿™æ˜¯ES6ä¸­çš„æ¦‚å¿µ

+ `ç»„ä»¶åŒ–ä¸­,å¯¹jséƒ¨åˆ†ä»£ç çš„å¤„ç†ä½¿ç”¨ES6ä¸­çš„æ¨¡å—åŒ–`
### 8.2 ç»„ä»¶åŒ–å…¥é—¨æ¡ˆä¾‹

> æ¡ˆä¾‹éœ€æ±‚ï¼š åˆ›å»ºä¸€ä¸ªé¡µé¢ï¼ŒåŒ…å«å¤´éƒ¨å’Œèœå•ä»¥åŠå†…å®¹æ˜¾ç¤ºåŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸä½¿ç”¨ç‹¬ç«‹ç»„å»ºï¼

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/5868cc60dc71d949651317502c5fd4ab.png)

> 1 å‡†å¤‡vueé¡¹ç›®

```shell
npm create vite
cd viteé¡¹ç›®
npm install
```

> 2 å®‰è£…ç›¸å…³ä¾èµ–

```shell
npm install sass
npm install bootstrap
```

>  3 åˆ›å»ºå­ç»„ä»¶ åœ¨src/componentsæ–‡ä»¶ä¸‹ vscode==éœ€è¦å®‰è£…Veturæ’ä»¶==ï¼Œè¿™æ ·vueæ–‡ä»¶æœ‰å¿«æ·æç¤º

+ Header.vue

```html
<script setup type="module">
</script>

<template>
    <div>
        æ¬¢è¿ï¼š xx <a href="#">é€€å‡ºç™»å½•</a>
    </div>
</template>

<style>
</style>
```

+ Navigator.vue

```html
<script setup type="module">
</script>

<template>
    <!-- æ¨èå†™ä¸€ä¸ªæ ¹æ ‡ç­¾-->
    <div>
       <ul>
          <li>å­¦å‘˜ç®¡ç†</li>
          <li>å›¾ä¹¦ç®¡ç†</li>
          <li>è¯·å‡ç®¡ç†</li>
          <li>è€ƒè¯•ç®¡ç†</li>
          <li>è®²å¸ˆç®¡ç†</li>
       </ul>
    </div>
</template>

<style>
</style>
```

+ Content.vue

```html
<script setup type="module">
</script>

<template>
    <div>
        å±•ç¤ºçš„ä¸»è¦å†…å®¹ï¼
    </div>
</template>

<style>
</style>
```

+ App.vue  å…¥å£ç»„ä»¶Appå¼•å…¥ç»„ä»¶

```html
<script setup>
    import Header  from './components/Header.vue'
    import Navigator  from './components/Navigator.vue'
    import Content  from './components/Content.vue'
</script>

<template>
  <div>
     <Header class="header"></Header>
     <Navigator class="navigator"></Navigator>
     <Content class="content"></Content>
  </div>
</template>

<style scoped>
    .header{
       height: 80px;
       border: 1px solid red;
    }

    .navigator{
      width: 15%;
      height: 800px;
      display: inline-block;
      border: 1px blue solid;
      float: left;
    }

    .content{
      width: 83%;
      height: 800px;
      display: inline-block;
      border: 1px goldenrod solid;
      float: right;
    }

</style>
```

> 4 å¯åŠ¨æµ‹è¯•

```shell
npm run dev
```
### 8.3 ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®ï¼ˆå¶å°”ä¼šç”¨ï¼‰

æ€»ç»“ï¼š
- `çˆ¶ä¼ å­`
	- çˆ¶ç»„ä»¶ï¼šåœ¨å«æœ‰å­ç»„ä»¶çš„htmlæ ‡ç­¾ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªv-bindå±æ€§  
		- `:msg="éœ€è¦ä¼ é€’çš„å‚æ•°å"`
		- ä¼ é€’å¤šä¸ªå€¼ï¼Œå°±åˆ›å»ºå¤šä¸ªv-bind
	- å­ç»„ä»¶ï¼šåœ¨jsæ ‡ç­¾ä¸­ï¼Œä½¿ç”¨definePropså‡½æ•°æ¥æ”¶æ•°æ®
		- `defineProps({msg:ä¼ é€’çš„ç±»å‹,msg1:ä¼ é€’çš„ç±»å‹,......})`
- `å­ä¼ çˆ¶`
	- å­ç»„ä»¶ï¼šä½¿ç”¨defineEmitså‡½æ•°ï¼Œå®šä¹‰è¦å‘é€ç»™çˆ¶ç»„ä»¶çš„æ–¹æ³•(ä¸€ä¸ª/å¤šä¸ª)
		- `const emits =defineEmits(['fun1','fun2',...])`
		- åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨emitsï¼Œ`emits("fun1",ä¼ é€’çš„æ•°æ®)`
	- çˆ¶ç»„ä»¶ï¼š
		- åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ¥å—æ•°æ®ï¼Œ`(data)=>{æ¥æ”¶æ•°æ®åçš„æ“ä½œ}`
		- åœ¨å«æœ‰å­ç»„ä»¶çš„htmlæ ‡ç­¾ä¸­ï¼Œ`@fun1="ä¸Šé¢æ¥æ”¶æ•°æ®çš„å‡½æ•°"`
- `å…„å¼Ÿä¼ å‚ï¼šè¦ç»è¿‡ä¸Šè¿°ä¸¤ä¸ªè¿‡ç¨‹`

#### 8.3.1 çˆ¶ä¼ å­

> Vue3 ä¸­`çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼å¯ä»¥é€šè¿‡ props è¿›è¡Œ`ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š

1. é¦–å…ˆï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰éœ€è¦ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼
2. æ¥ç€ï¼Œåœ¨çˆ¶ç»„ä»¶çš„æ¨¡æ¿ä¸­å¼•å…¥å­ç»„ä»¶ï¼ŒåŒæ—¶åœ¨å¼•å…¥å­ç»„ä»¶çš„æ ‡ç­¾ä¸­æ·»åŠ  props å±æ€§å¹¶ä¸ºå…¶è®¾ç½®éœ€è¦ä¼ é€’çš„å€¼ã€‚

3. åœ¨ Vue3 ä¸­ï¼Œçˆ¶ç»„ä»¶é€šè¿‡ props ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼æ˜¯å“åº”å¼çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨çˆ¶ç»„ä»¶ä¸­çš„ä¼ é€’çš„å€¼å‘ç”Ÿäº†æ”¹å˜ï¼Œå­ç»„ä»¶ä¸­çš„å€¼ä¹Ÿä¼šç›¸åº”åœ°æ›´æ–°ã€‚

+ çˆ¶ç»„ä»¶ä»£ç ï¼šApp.vue
+ `å°†çˆ¶ç»„ä»¶ä¸­çš„å€¼ï¼Œåœ¨å­ç»„ä»¶æ ‡ç­¾ä¸­ï¼Œä½¿ç”¨v-bindæ ‡ç­¾ç»‘å®š`

```html
<script setup>

  import Son from './components/Son.vue'
  import {ref,reactive,toRefs} from 'vue'

  let message = ref('parent data!')
  let title = ref(42)

  function changeMessage(){
    message.value = 'ä¿®æ”¹æ•°æ®ï¼'
    title.value++
  }
</script>

<template>
  <div>
    <h2>{{ message }}</h2>
    <hr>
    <!-- ä½¿ç”¨å­ç»„ä»¶ï¼Œå¹¶ä¸”ä¼ é€’æ•°æ®ï¼ -->
    <Son :message="message" :title="title"></Son>
    <hr>
    <button @click="changeMessage">ç‚¹å‡»æ›´æ–°</button>
  </div>
</template>

<style scoped>
</style>
```

+ å­ç»„ä»¶ä»£ç ï¼šSon.vue
+ `ä½¿ç”¨definePropså‡½æ•°ï¼Œè·å–çˆ¶ç»„ä»¶ä¼ é€’æ¥çš„å€¼`

```html
<script setup type="module">
    import {ref,isRef,defineProps} from 'vue'
    //å£°æ˜çˆ¶ç»„ä»¶ä¼ é€’å±æ€§å€¼ï¼Œå¹¶æ³¨æ˜ç±»å‹
    defineProps({
        message:String ,
        title:Number
    })
</script>

<template>
    <div>
    <div>{{ message }}</div>
    <div>{{ title }}</div>
    </div>
</template>

<style>
</style>
```

#### 8.3.2 å­ä¼ çˆ¶

+ çˆ¶ç»„ä»¶ï¼š App.vue
+ åˆ›å»ºä¸€ä¸ªå‡½æ•°ç”¨äºæ¥å—å­ç»„ä»¶ä¼ é€’æ¥çš„å‚æ•°
+ åœ¨å­ç»„ä»¶çš„æ ‡ç­¾ä¸­ï¼Œä½¿ç”¨@äº‹ä»¶åï¼ˆäº‹ä»¶åå¿…é¡»æ˜¯å­ç»„ä»¶çš„æ–¹æ³•åï¼‰

```html
<script setup>
    import Son from './components/Son.vue'
    import {ref} from 'vue'

    let pdata = ref('')

    const padd = (data) => {
        console.log('2222');
        pdata.value =data;
    }

    //è‡ªå®šä¹‰æ¥æ”¶ï¼Œå­ç»„ä»¶ä¼ é€’æ•°æ®æ–¹æ³•ï¼ å‚æ•°ä¸ºæ•°æ®ï¼
    const psub = (data) => {
        console.log('11111');
        pdata.value = data;
    }
</script>

<template>
    <div>
        <!-- å£°æ˜@äº‹ä»¶ååº”è¯¥ç­‰äºå­æ¨¡å—å¯¹åº”äº‹ä»¶åï¼è°ƒç”¨æ–¹æ³•å¯ä»¥æ˜¯å½“å‰è‡ªå®šä¹‰ï¼-->
        <Son @add="padd" @sub="psub"></Son>
        <hr>
        {{ pdata }}
    </div>
</template>



<style>
</style>
```

+ å­ç»„ä»¶ï¼šSon.vue
+ ä½¿ç”¨defineEmitså‡½æ•°ï¼Œåˆ›å»ºä¼ é€’ç»™çˆ¶ç»„ä»¶çš„æ–¹æ³•å
+ åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­è°ƒç”¨ä¸Šè¿°å‡½æ•°ï¼ˆemitesï¼‰ï¼Œå®Œæˆç»™çˆ¶ç»„ä»¶ä¼ å‚

```html
<script setup>

    import {ref,defineEmits} from 'vue'

    //1.å®šä¹‰è¦å‘é€ç»™çˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼Œå¯ä»¥1æˆ–è€…å¤šä¸ª
    let emites = defineEmits(['add','sub']);

    let data = ref(1);

    function sendMsgToParent(){
        console.log('-------son--------');

        //2.å‡ºå‘çˆ¶ç»„ä»¶å¯¹åº”çš„æ–¹æ³•ï¼Œè°ƒç”¨defineEmiteså¯¹åº”çš„å±æ€§
        emites('add','add data!'+data.value)
        emites('sub','sub data!'+data.value)

        data.value ++;
    }
</script>

<template>
    <div>
      <button @click="sendMsgToParent">å‘é€æ¶ˆæ¯ç»™çˆ¶ç»„ä»¶</button>
    </div>
</template>
  
```
#### 8.3.3 å…„å¼Ÿä¼ å‚

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9fa3790791e5f1c6c65f2d295ba1e10c.png)

+ Navigator.vue: å‘é€æ•°æ®åˆ°App.vue

```html
<script setup type="module">
    import {defineEmits} from 'vue'
    const emits = defineEmits(['sendMenu']);
    //è§¦å‘äº‹ä»¶ï¼Œå‘çˆ¶å®¹å™¨å‘é€æ•°æ®
    function send(data){
        emits('sendMenu',data);
    }
</script>

<template>
    <!-- æ¨èå†™ä¸€ä¸ªæ ¹æ ‡ç­¾-->
    <div>
       <ul>
          <li @click="send('å­¦å‘˜ç®¡ç†')">å­¦å‘˜ç®¡ç†</li>
          <li @click="send('å›¾ä¹¦ç®¡ç†')">å›¾ä¹¦ç®¡ç†</li>
          <li @click="send('è¯·å‡ç®¡ç†')">è¯·å‡ç®¡ç†</li>
          <li @click="send('è€ƒè¯•ç®¡ç†')">è€ƒè¯•ç®¡ç†</li>
          <li @click="send('è®²å¸ˆç®¡ç†')">è®²å¸ˆç®¡ç†</li>
       </ul>
    </div>
</template>

<style>

</style>
```

+ App.vue: å‘é€æ•°æ®åˆ°Content.vue

```html
<script setup>
  
  import Header  from './components/Header.vue'
  import Navigator  from './components/Navigator.vue'
  import Content  from './components/Content.vue'

  import {ref} from "vue"
  //å®šä¹‰æ¥å—navigatorä¼ é€’å‚æ•°
  var navigator_menu = ref('ceshi');

  const receiver = (data) =>{
    navigator_menu.value = data;
  }
</script>

<template>
  <div>
      <hr>
      {{ navigator_menu }}
      <hr>
     <Header class="header"></Header>
     <Navigator @sendMenu="receiver" class="navigator"></Navigator>
     <!-- å‘å­ç»„ä»¶ä¼ é€’æ•°æ®-->
     <Content class="content" :message="navigator_menu"></Content>
    </div>
</template>

<style scoped>
    .header{
       height: 80px;
       border: 1px solid red;
    }

    .navigator{
      width: 15%;
      height: 800px;
      display: inline-block;
      border: 1px blue solid;
      float: left;
    }

    .content{
      width: 83%;
      height: 800px;
      display: inline-block;
      border: 1px goldenrod solid;
      float: right;
    }

</style>
```

+ Content.vue

```html
<script setup type="module">
    defineProps({
        message:String
    })
</script>

<template>
    
    <div>
        å±•ç¤ºçš„ä¸»è¦å†…å®¹ï¼
        <hr>
        {{ message }}
    </div>
</template>

<style>
</style>
```