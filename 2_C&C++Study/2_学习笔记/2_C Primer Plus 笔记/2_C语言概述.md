
## 1 简单的C程序示例及解释

### 1.1 示例

```c
#include<stdio.h>  
  
int main(void) {  
    int num;  
    num = 1;  
    
    printf("I am a simple ");  
    printf("computer.\n");  
    printf("My favorite number is %d because it is first.\n", num);  
    
    return 0;  
}
```

编辑器会创建上面所有内容的文件，并且该文件以`.c`作为扩展名

### 1.2 解释

下图总结了组成C程序的几个部分，包含的元素比示例多

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/08/b5fb1031635dd91162a3992ece94039e.png)

- `#include<stdio.h>` ：包含另外一个文件
	- 告诉编译器把stdio.h中的内容包含在当前程序中
	- 把stdio.h文件中的所有内容都输入该行所在的位置，本质是一种“拷贝-粘贴”的操作
	- **在大多数情况下，头文件包含了编译器创建最终可执行程序要用到的信息。例如，头文件中可以定义一些常量，或者指明函数名以及如何使用它们**

>  **为何不内置输入和输出**
>  
>  因为不是所有测程序都会用到I/O，这里体现了C语言轻装上阵的哲学

- `int main(void)`：main函数
	- C程序包含一个或多个函数，它们是C程序的基本模块，**且只有一个main函数（C程序一定是从main()函数开始执行的）**
	- int：返回值，在main函数中，返回给操作系统（第6节有解释）
	- main：函数名
	- void：函数参数，void表示不带参
		- C90标准可以使用`main()`，但是C99和C11标准必须写`main(void)`

- `{}`：花括号
	- 只有花括号才能表示函数的开始和结束

- `int num`：声明
	- int 关键字：表示num是一个整数，int代表的整数这个数据类型，可以为num变量在内存中分配存储空间
	- num 标识符：一个变量、函数或其他实体的名称
		- C99和C11允许使用更长的标识符名，但是编译器只识别前63个字符。对于外部标识符（参阅第12章）​，只允许使用31个字符
		- 可以用小写字母、大写字母、数字和下划线（`_`）来命名标识符，且第1个字符必须是字母或下划线，不能是数字
		- **因为操作系统和C库经常使用一个或两个下划线字符开始的标识符，所以自己写C程序时，尽量避免使用下划线字符开始**
		- C语言的名称是区分大小写的
	- **在C语言中，所有变量都必须先声明再使用**
	- **建议把变量声明都写在块的顶部！！ C99和C11可以将声明放在其他地方**

- `printf()`：格式化打印函数
	- 该函数有多种打印变量的格式，包括小数和十六进制整数

- `return语句`
	- 有返回值的C函数要有return语句
### 1.3 简单程序的结构

```c
#include <stdio.h>
int main(void)
{
     语句
     return 0;
}
```

语句一般以分号结束，一般是：
- 函数调用
- 变量声明
- 条件判断
- 循环
- ......
## 2 提高程序可读性的技巧

- 选择有意义的函数名
- 写注释
- 在函数中用空行分隔概念上的多个部分，如示例程序中，分隔了声明部分和其他部分
- 每条语句各占一行
## 3 进一步使用C

```c
// 把2英寻转化为英尺  
#include <stdio.h>  
  
int main(void) {  
    int feet, fathoms;  
  
    fathoms = 2;  
    feet = 6 * fathoms;  
    printf("There are %d feet in %d fathoms!\n", feet, fathoms);  
    printf("Yes , I said %d feet!\n", 6 * fathoms);  
  
    return 0;  
}
```

相比于第一个c程序，这个程序主要
- 程序声明：程序开始前的一条注释，给出了文件名和程序的目的
- 声明了多个变量：feet 和 fathoms
- 进行了乘法运算
- printf 打印了多个值
## 4 多个函数

```c
/* two_fun.c : 一个文件中包含两个函数 */
#include<stdio.h>  
  
void butler(void); // ANSI/ISO C函数原型  
  
int main(void) {  
    printf("I will summon the butler function. \n");  
    butler();  
    printf("Yes,Bring me some tea and writeable DVDs. \n");  
  
    return 0;  
}  
  
void butler(void) {     // 函数定义开始  
    printf("You rang,sir?\n");  
}
```

**因为C90标准新增了函数原型，旧式的编译器可能无法识别**，所以我们可以使用多个函数

butler()函数在程序中出现了3次
- 作为**函数原型（prototype）** ​， 告知编译器在程序中要使用该函数
- 以函数调用（function call）的形式出现在main()中
- 函数定义（function definition）中，函数定义即是函数本身的源代码

**什么是函数原型？**
- 函数原型是一种声明形式，告知编译器正在使用某函数，因此函数原型也被称为函数声明（function declaration）​。

>  C标准建议，要为程序中用到的所有函数提供函数原型。标准include文件（包含文件）为标准库函数提供了函数原型。例如，在C标准中，stdio.h文件包含了printf()的函数原型。
## 5 调试程序

## 6 关键字和保留标识符

## 7 关键概念

## 8 本章小结



