## 1 å›é¡¾

æŒ‡é’ˆçš„ä¸»é¢˜ï¼Œæˆ‘ä»¬åœ¨åˆçº§é˜¶æ®µçš„ã€ŠæŒ‡é’ˆã€‹ç« èŠ‚å·²ç»æ¥è§¦è¿‡äº†ï¼Œæˆ‘ä»¬çŸ¥é“äº†æŒ‡é’ˆçš„æ¦‚å¿µï¼š
1. æŒ‡é’ˆå°±æ˜¯ä¸ªå˜é‡ï¼Œç”¨æ¥å­˜æ”¾åœ°å€ï¼Œåœ°å€å”¯ä¸€æ ‡è¯†ä¸€å—å†…å­˜ç©ºé—´ã€‚
2. æŒ‡é’ˆçš„å¤§å°æ˜¯å›ºå®šçš„4/8ä¸ªå­—èŠ‚ï¼ˆ32ä½å¹³å°/64ä½å¹³å°ï¼‰ã€‚
3. æŒ‡é’ˆæ˜¯æœ‰ç±»å‹ï¼ŒæŒ‡é’ˆçš„ç±»å‹å†³å®šäº†æŒ‡é’ˆçš„+-æ•´æ•°çš„æ­¥é•¿ï¼ŒæŒ‡é’ˆè§£å¼•ç”¨æ“ä½œçš„æ—¶å€™çš„æƒé™ã€‚
4. æŒ‡é’ˆçš„è¿ç®—ã€‚
## 2 å­—ç¬¦æŒ‡é’ˆ

åœ¨æŒ‡é’ˆçš„ç±»å‹ä¸­æˆ‘ä»¬çŸ¥é“æœ‰ä¸€ç§æŒ‡é’ˆç±»å‹ä¸ºå­—ç¬¦æŒ‡é’ˆ`char*` ;
```c
int main(){
	char ch = 'w';
	char *pc = &ch;
	*pc = 'w';
	return 0;
}
```

è¿˜æœ‰ä¸€ç§ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š
```c
int main(){
	const char* pstr = "Hello"; 
	printf("%s\n",pstr);
	return 0;
}
```
- `const char* pstr = "Hello"; ` è¿™æ®µç‰¹åˆ«è®©å¤§å®¶è§‰å¾—æ˜¯æŠŠå­—ç¬¦ä¸²Helloæ”¾åˆ°å­—ç¬¦æŒ‡é’ˆé‡Œäº†
- **æœ¬è´¨æ˜¯æŠŠå­—ç¬¦ä¸²Helloï¼Œé¦–å­—ç¬¦Hçš„åœ°å€æ”¾åˆ°äº†æŒ‡é’ˆä¸­**
  ![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/fb2406fce8fa86fe027f575a1cd63d49.png)
**é¢è¯•é¢˜**
```c
#include <stdio.h>
int main(){
	char str1[] = "hello bit.";
	char str2[] = "hello bit.";
	const char *str3 = "hello bit.";
	const char *str4 = "hello bit.";
	
	if(str1 == str2)
		printf("str1 and str2 are same\n");
	else
		printf("str1 and str2 are not same\n");  // âˆš
	
	if(str3 == str4)
		printf("str3 and str4 are same\n");   // âˆš
	else
		printf("str3 and str4 are not same\n");
	return 0;
}
```

- **C/C++ä¼šæŠŠå¸¸é‡å­—ç¬¦ä¸²å­˜å‚¨åˆ°å•ç‹¬çš„ä¸€ä¸ªå†…å­˜åŒºåŸŸï¼Œå½“å‡ ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œå®é™…æŒ‡å‘åŒä¸€å—å†…å­˜**
- ä½†æ˜¯ç”¨ç›¸åŒçš„å¸¸é‡å­—ç¬¦ä¸²å»åˆå§‹åŒ–ä¸åŒçš„æ•°ç»„çš„æ—¶å€™å°±ä¼šå¼€è¾Ÿå‡ºä¸åŒçš„å†…å­˜å—
- æ‰€ä»¥str1å’Œstr2ä¸åŒï¼Œstr3å’Œstr4ç›¸åŒ
## 3 æŒ‡é’ˆæ•°ç»„ğŸ“•

æŒ‡é’ˆæ•°ç»„ï¼Œæœ¬è´¨å°±æ˜¯ä¸€ä¸ªå­˜æ”¾æŒ‡é’ˆçš„æ•°ç»„
```c
int *arr1[10] // å­˜æ”¾intç±»å‹æŒ‡é’ˆçš„æ•°ç»„
char *arr2[4]; //ä¸€çº§å­—ç¬¦æŒ‡é’ˆçš„æ•°ç»„
char **arr3[5];//äºŒçº§å­—ç¬¦æŒ‡é’ˆçš„æ•°ç»„
```
## 4 æ•°ç»„æŒ‡é’ˆğŸ“•

### 4.1 å®šä¹‰

æ•°ç»„æŒ‡é’ˆæœ¬è´¨ä¸Šå°±æ˜¯æŒ‡é’ˆï¼Œæ˜¯æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ

```c
int *p1[10];
int (*p2)[10];
//p1, p2åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
```
- p1æ˜¯æŒ‡é’ˆæ•°ç»„ï¼Œæœ¬è´¨ä¸Šæ˜¯å­˜æ”¾æŒ‡é’ˆçš„æ•°ç»„
- p2æ˜¯æ•°ç»„æŒ‡é’ˆï¼Œæœ¬è´¨ä¸Šæ˜¯æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ

```c
int (*p)[10];
// på…ˆå’Œ*ç»“åˆï¼Œè¯´æ˜pæ˜¯ä¸€ä¸ªæŒ‡é’ˆ
// ç„¶åè¯¥æŒ‡é’ˆæŒ‡å‘çš„ä¸€ä¸ªå¤§å°ä¸º10ä¸ªæ•´å‹çš„æ•°ç»„

// æ³¨æ„ï¼š[]çš„ä¼˜å…ˆçº§é«˜äº*ï¼Œæ‰€ä»¥å¿…é¡»åŠ ä¸Š()æ¥ä¿è¯på’Œ*çš„ç»“åˆ
```
### 4.2 &æ•°ç»„å VS æ•°ç»„å

```c
int arr[10];
```

arrï¼šæ•°ç»„åï¼Œè¡¨ç¤ºæ•°ç»„é¦–å…ƒç´ çš„åœ°å€ï¼Œ+1ä¼šè·³åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ 
&arrï¼šæ•°ç»„çš„åœ°å€ï¼Œå€¼æ˜¯é¦–å…ƒç´ çš„åœ°å€ï¼Œä½†æ˜¯+1ä¼šè·³è¿‡æ•´ä¸ªæ•°ç»„
### 4.3 ä½¿ç”¨

æ—¢ç„¶æ•°ç»„æŒ‡é’ˆæŒ‡å‘çš„æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥**æ•°ç»„æŒ‡é’ˆå­˜æ”¾çš„åº”è¯¥æ˜¯æ•°ç»„çš„åœ°å€**

```c
#include <stdio.h>
int main(){
	int arr[10] = {1,2,3,4,5,6,7,8,9,0};
	int (*p)[10] = &arr;//æŠŠæ•°ç»„arrçš„åœ°å€èµ‹å€¼ç»™æ•°ç»„æŒ‡é’ˆå˜é‡p
	//ä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬å¾ˆå°‘è¿™æ ·å†™ä»£ç 
	return 0;
}
```

```c
#include <stdio.h>  
  
void print_arr1(int arr[3][5], int row, int col) {  
    for (int i = 0; i < row; ++i) {  
        for (int j = 0; j < col; ++j) {  
            printf("%d ", arr[i][j]);  
        }  
    }  
}  
  
void print_arr2(int (*arr)[5], int row, int col) {  
    for (int i = 0; i < row; ++i) {  
        for (int j = 0; j < col; ++j) {  
            printf("%d ",arr[i][j]);  
        }  
    }  
}  
  
int main() {  
    int arr[3][5] = {  
        {1, 2, 3, 4, 5},  
        {6, 7, 8, 9, 10},  
        {11, 12, 13, 14, 15}  
    };  
    print_arr1(arr, 3, 5);  
    printf("\n");  
    // æ•°ç»„åarrï¼Œæ˜¯æ•°ç»„é¦–å…ƒç´ çš„åœ°å€  
    // å¯¹äºäºŒç»´æ•°ç»„arrï¼Œå…¶é¦–å…ƒç´ æ˜¯è¯¥æ•°ç»„çš„ç¬¬ä¸€è¡Œ  
    // æ‰€ä»¥è¿™é‡Œä¼ é€’arrï¼Œå…¶å®ä¼ é€’çš„æ˜¯ç¬¬ä¸€è¡Œçš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯ä¸€ç»´æ•°ç»„çš„åœ°å€  
    // å°±æ˜¯å¯ä»¥ç”¨æŒ‡é’ˆæ•°ç»„æ¥æ¥æ”¶  
    print_arr2(arr, 3, 5);  
}
```

å­¦äº†æŒ‡é’ˆæ•°ç»„å’Œæ•°ç»„æŒ‡é’ˆæˆ‘ä»¬æ¥ä¸€èµ·å›é¡¾å¹¶çœ‹çœ‹ä¸‹é¢ä»£ç çš„æ„æ€ï¼š
```c
int arr[5];
int *parr1[10];
int (*parr2)[10];
int (*parr3[10])[5];
```

åˆ†åˆ«æ˜¯ï¼š
- ä¸€ç»´æ•°ç»„ï¼Œå…ƒç´ æ˜¯int
- ä¸€ç»´æ•°ç»„ï¼Œå…ƒç´ æ˜¯intæŒ‡é’ˆ
- ä¸€ç»´æ•°ç»„çš„æŒ‡é’ˆï¼Œå…ƒç´ æ˜¯int
- å…ˆçœ‹`parr3[10]`ï¼Œè¿™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå†çœ‹`(*)[5]`ï¼Œè¡¨ç¤º10ä¸ªå…ƒç´ éƒ½æ˜¯æ•°ç»„æŒ‡é’ˆ
## 5 æ•°ç»„å‚æ•°ã€æŒ‡é’ˆå‚æ•°

åœ¨å†™ä»£ç çš„æ—¶å€™éš¾å…è¦æŠŠã€æ•°ç»„ã€‘æˆ–è€…ã€æŒ‡é’ˆã€‘ä¼ ç»™å‡½æ•°ï¼Œé‚£å‡½æ•°çš„å‚æ•°è¯¥å¦‚ä½•è®¾è®¡å‘¢ï¼Ÿ 
- å–å†³äºä¼ è¿‡å»çš„æ˜¯ä»€ä¹ˆï¼ï¼ï¼
### 5.1 ä¸€ç»´æ•°ç»„ä¼ å‚

ä¸‹é¢å†™æ³•éƒ½æ˜¯okçš„
```c
void test(int arr[10]){}  // âˆš
void test(int arr[]){}    // çœç•¥æ•°ç»„å¤§å° âˆš
void test(int *arr){}     // éœ€è¦æŒ‡é’ˆï¼Œæ•°ç»„åè¡¨ç¤ºé¦–å…ƒç´ åœ°å€ï¼Œâˆš

int main(){
	int arr[10] = {0};  
	test(arr);
}
```

çœ‹çœ‹ä¸‹é¢çš„å†™æ³•
```c
void test(int *arr[10]){}  // å‚æ•°æ ¼å¼å’Œæ•°ç»„ä¸€è‡´ï¼Œâˆšï¼Œ20å¯ä»¥çœç•¥
void test(int **arr){}    // éœ€è¦æŒ‡é’ˆçš„åœ°å€ï¼Œæ•°ç»„åæ˜¯ç¬¬ä¸€ä¸ªint*åœ°å€ï¼Œâˆš

int main(){
	int *arr[10] = {0};  // æŒ‡é’ˆæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯int*
	test(arr);
}
```
### 5.2 äºŒç»´æ•°ç»„ä¼ å‚

```c
void test(int arr[3][5]){}  // ä¸€è‡´ï¼Œâˆš
void test(int arr[][]){}    // ä¸èƒ½å°‘äº†åˆ—ï¼ŒÃ—
void test(int arr[][5]){}   // âˆš

void test(int *arr){}       // éœ€è¦ intå‹æŒ‡é’ˆï¼ŒÃ—
void test(int *arr[5]){}    // éœ€è¦ æŒ‡é’ˆæ•°ç»„ï¼Œä¼ çš„æ˜¯æŒ‡é’ˆï¼ŒÃ—
void test(int (*arr)[5]){}  // éœ€è¦ æ•°ç»„æŒ‡é’ˆï¼Œä¼ çš„æ˜¯æŒ‡é’ˆä¸”æ˜¯æ•°ç»„æŒ‡é’ˆï¼Œâˆš
void test(int **arr){}      // éœ€è¦äºŒçº§æŒ‡é’ˆï¼ˆæŒ‡é’ˆå˜é‡çš„åœ°å€ï¼‰ï¼ŒÃ—

int main(){
	int arr[3][5] = {0};
	test(arr);    // æ•°ç»„å ---> ç¬¬ä¸€è¡Œæ•°ç»„çš„åœ°å€  ---> æ•°ç»„æŒ‡é’ˆ
}
```
### 5.3 ä¸€çº§æŒ‡é’ˆä¼ å‚

```c
void print(int *p, int sz) {  
    int i = 0;  
    for (i = 0; i < sz; i++) {  
        printf("%d\n", *(p + i));  
    }  
}  
  
int main() {  
    int arr[10] = {1, 2, 3, 4, 5, 6, 7, 8, 9};  
    int *p = arr;  
    int sz = sizeof(arr) / sizeof(arr[0]);  
    //ä¸€çº§æŒ‡é’ˆpï¼Œä¼ ç»™å‡½æ•°  
    print(p, sz);  
    return 0;  
}
```

**å½“ä¸€ä¸ªå‡½æ•°çš„å‚æ•°éƒ¨åˆ†ä¸ºä¸€çº§æŒ‡é’ˆçš„æ—¶å€™ï¼Œå‡½æ•°èƒ½æ¥æ”¶ä»€ä¹ˆå‚æ•°ï¼Ÿ**
```c
void test1(int *p){}
int a = 10;
int * p = &a;
int arr[10] = {0}
test1(&a);
test1(p);
test1(arr);


void test2(char *p){}
```
### 5.4 äºŒçº§æŒ‡é’ˆä¼ å‚

```c
void test(int **ptr) {  
    printf("num = %d\n", **ptr);  
}  
  
int main() {  
    int n = 10;  
    int *p = &n;  
    int **pp = &p;  
    test(pp);  
    test(&p);  
    return 0;  
}
```

**å½“å‡½æ•°çš„å‚æ•°ä¸ºäºŒçº§æŒ‡é’ˆçš„æ—¶å€™ï¼Œå¯ä»¥æ¥æ”¶ä»€ä¹ˆå‚æ•°ï¼Ÿ**
```c
void test(char **p) {  
}  
  
int main() {  
    char c = 'b';  
    char *pc = &c;  
    char **ppc = &pc;  
    char *arr[10];   // æŒ‡é’ˆæ•°ç»„ï¼Œé¦–å…ƒç´ charæŒ‡é’ˆçš„åœ°å€
    test(&pc);  
    test(ppc);  
    test(arr);//Ok?   âˆš
    return 0;  
}
```
## 6 å‡½æ•°æŒ‡é’ˆ

```c
void test(){  
    printf("test\n");  
}  
  
int main(){  
    printf("%p\n",test);  
    printf("%p\n",&test);  
    return 0;  
}
```

è¾“å‡ºç»“æœ
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/f571c5696b431bb4dc837da5fd4defa8.png)
- è¾“å‡ºçš„æ˜¯ä¸¤ä¸ªåœ°å€ï¼Œè¿™ä¸¤ä¸ªåœ°å€æ˜¯ `test` å‡½æ•°çš„åœ°å€

**é‚£æˆ‘ä»¬çš„å‡½æ•°çš„åœ°å€è¦æƒ³ä¿å­˜èµ·æ¥ï¼Œæ€ä¹ˆä¿å­˜ï¼Ÿç»§ç»­çœ‹ä¸‹é¢ä»£ç **
```c
void test(){
	printf("test\n");
}

//ä¸‹é¢pfun1å’Œpfun2å“ªä¸ªæœ‰èƒ½åŠ›å­˜æ”¾testå‡½æ•°çš„åœ°å€ï¼Ÿ
void (*pfun1)();
void *pfun2();
void *(*pfun3)();
```

æˆ‘ä»¬å¯ä»¥ç±»æ¯”æŒ‡é’ˆæ•°ç»„å’Œæ•°ç»„æŒ‡é’ˆ
- pfun1ï¼šå…ˆçœ‹æ‹¬å·å†…éƒ¨ï¼Œæ˜¯ä¸ªæŒ‡é’ˆï¼Œæ‰€ä»¥æ˜¯å‡½æ•°æŒ‡é’ˆ
- pfun2ï¼šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›å€¼æ˜¯voidæŒ‡é’ˆï¼ˆæŒ‡å‘ä»»æ„ç±»å‹çš„æŒ‡é’ˆï¼‰
- pfun3ï¼šå…ˆçœ‹æ‹¬å·å†…éƒ¨ï¼Œå‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å‘çš„å‡½æ•°è¿”å›å€¼æ˜¯voidæŒ‡é’ˆï¼ˆæŒ‡å‘ä»»æ„ç±»å‹çš„æŒ‡é’ˆï¼‰

å¦‚æœè¦å­˜æ”¾testå‡½æ•°ï¼Œå°±éœ€è¦ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯pfun1å¯ä»¥å­˜æ”¾testå‡½æ•°
- è¡¥å……ï¼špfun1æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œ**æŒ‡å‘çš„å‡½æ•°æ— å‚æ— è¿”å›å€¼**

**é˜…è¯»ä¸¤ä¸ªæœ‰è¶£çš„ä»£ç ï¼š**
```c
// ä»£ç 1
(*(void (*)())0)();
// ä»£ç 2
void (*signal(int,void(*)(int)))(int);
```

**ä»£ç 1**
- `(void (*)())` è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œå‡è®¾æ˜¯P
-  `P0` å³0è¿™ä¸ªintç±»å‹è¢«å¼ºè½¬ä¸ºä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œå³å‡½æ•°çš„åœ°å€
- `*P0` è§£å¼•ç”¨è¯¥å‡½æ•°æŒ‡é’ˆ
- `()` è°ƒç”¨è¯¥å‡½æ•°
- **ä¸Šè¿°ä»£ç æ˜¯ä¸€æ¬¡å‡½æ•°è°ƒç”¨ï¼Œè°ƒç”¨çš„æ˜¯åœ°å€ä¸º0å¤„çš„å‡½æ•°**

**ä»£ç 2ï¼š**
- siganl å‡½æ•°åï¼Œå‚æ•°åˆ†åˆ«ä¸º int å’Œ `void(*)(int)`å‡½æ•°æŒ‡é’ˆ
- é‚£ä¹ˆè¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
- ç®€åŒ–ä¸€ä¸‹ï¼Œå»æ‰å‡½æ•°åå’Œå½¢å‚ï¼Œå‰©ä¸‹ `void (*)(int)` ä¹Ÿæ˜¯å‡½æ•°æŒ‡é’ˆ
- æ‰€ä»¥signalè¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ
- `ä»£ç å¯ä»¥ç®€åŒ–å¦‚ä¸‹`
```c
// æŠŠvoid(*)(int)è¿™ä¸ªå‡½æ•°æŒ‡é’ˆç±»å‹ï¼Œé‡å‘½åä¸ºpfun_t
typedef void (*pfun_t)(int);
pfun_t signal(int,pfun_t);
```
## 7 å‡½æ•°æŒ‡é’ˆæ•°ç»„

æŠŠå‡½æ•°çš„åœ°å€å­˜åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œé‚£è¿™ä¸ªæ•°ç»„å°±å«å‡½æ•°æŒ‡é’ˆæ•°ç»„ï¼Œé‚£å‡½æ•°æŒ‡é’ˆçš„æ•°ç»„å¦‚ä½•å®šä¹‰å‘¢ï¼Ÿ
```c
int (*parr1[10])();
int *parr2[10]();
int (*)() parr3[10];
```

**ä½¿ç”¨çš„æ˜¯parr1ï¼Œåˆ†æå¦‚ä¸‹ï¼š**
- æ‹¬å·å†…éƒ¨æ˜¯æŒ‡é’ˆæ•°ç»„ï¼Œå³å…ƒç´ æ˜¯æŒ‡é’ˆï¼ŒåŠ ä¸Šå¤–éƒ¨çš„å½¢å‚å’Œè¿”å›å€¼ï¼Œ---> å‡½æ•°æŒ‡é’ˆæ•°ç»„
- ä¹Ÿå°±æ˜¯ `parr1[10]` æ­é… `int(*)()`

**ç”¨é€”ï¼šè½¬ç§»è¡¨ï¼ˆæä¾›è·³è½¬çš„åŠŸèƒ½ï¼‰**
ä¸¾ä¾‹ï¼šè®¡æ•°å™¨ä¾‹å­

```c
#include <stdio.h>  
  
int add(int a, int b) {  
    return a + b;  
}  
  
int sub(int a, int b) {  
    return a - b;  
}  
  
int mul(int a, int b) {  
    return a * b;  
}  
  
int div(int a, int b) {  
    return a / b;  
}  
  
int main() {  
    int x, y;  
    int input = 1;  
    int ret = 0;  
    do{  
        printf( "*************************\n" );  
        printf( " 1:add 2:sub \n" );  
        printf( " 3:mul 4:div \n" );  
        printf( "*************************\n" );  
        printf( "è¯·é€‰æ‹©ï¼š" );  
        fflush(stdout);  
        scanf("%d",&input);  
        switch (input) {  
            case 1:  
                printf("è¯·è¾“å…¥ä¸¤ä¸ªæ•°ï¼š");  
                fflush(stdout);  
                scanf("%d %d",&x,&y);  
                ret = add(x,y);  
                printf("ç»“æœä¸ºï¼š%d\n",ret);  
                break;  
            case 2:  
                printf("è¯·è¾“å…¥ä¸¤ä¸ªæ•°ï¼š");  
                fflush(stdout);  
                scanf("%d %d",&x,&y);  
                ret = sub(x,y);  
                printf("ç»“æœä¸ºï¼š%d\n",ret);  
                break;  
            case 3:  
                printf("è¯·è¾“å…¥ä¸¤ä¸ªæ•°ï¼š");  
                fflush(stdout);  
                scanf("%d %d",&x,&y);  
                ret = mul(x,y);  
                printf("ç»“æœä¸ºï¼š%d\n",ret);  
                break;  
            case 4:  
                printf("è¯·è¾“å…¥ä¸¤ä¸ªæ•°ï¼š");  
                fflush(stdout);  
                scanf("%d %d",&x,&y);  
                ret = div(x,y);  
                printf("ç»“æœä¸ºï¼š%d\n",ret);  
                break;  
            case 0:  
                printf("é€€å‡ºç¨‹åº\n");  
                break;  
            default:  
                printf("è¾“å…¥é”™è¯¯\n");  
                break;  
        }  
    } while (input);  
    return 0;  
}
```

**ä½¿ç”¨æŒ‡é’ˆå‡½æ•°çš„å®ç°**
```c
int main() {  
    int x, y;  
    int input = 1;  
    int ret = 0;  
    int (*fun[5])(int x, int y) = {0, add, sub, mul, div};  
    do {  
        printf("*************************\n");  
        printf(" 1:add 2:sub \n");  
        printf(" 3:mul 4:div \n");  
        printf("*************************\n");  
        printf("è¯·é€‰æ‹©ï¼š");  
        fflush(stdout);  
        scanf("%d", &input);  
        if (input <= 4 && input >= 1) {  
            printf("è¯·è¾“å…¥ä¸¤ä¸ªæ•°å­—ï¼š");  
            fflush(stdout);  
            scanf("%d %d", &x, &y);
            // ä¼ ç»Ÿè°ƒç”¨æ–¹å¼
            // ret = (*fun[input])(x, y); 
            ret = fun[input](x, y);  
        } else  
            printf("è¾“å…¥é”™è¯¯\n");  
        printf("ç»“æœä¸ºï¼š%d\n", ret);  
    } while (input);  
    return 0;  
}
```

## 8 æŒ‡å‘å‡½æ•°æŒ‡é’ˆæ•°ç»„çš„æŒ‡é’ˆï¼ˆäº†è§£ï¼‰

**ç”¨çš„æ¯”è¾ƒå°‘ï¼ŒçŸ¥é“å³å¯**

æŒ‡å‘å‡½æ•°æŒ‡é’ˆæ•°ç»„çš„æŒ‡é’ˆï¼Œå°±æ˜¯ä¸€ä¸ª`æŒ‡é’ˆ`ï¼Œæœ¬è´¨å°±æ˜¯æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„å…ƒç´ æ˜¯å‡½æ•°æŒ‡é’ˆ

å¦‚ä½•å®šä¹‰ï¼Ÿ
```c
void test(const char* str){
	printf("%s\n",str);
}

int main(){
	// å‡½æ•°æŒ‡é’ˆpfun
	void (*pfun)(const char*) = test;
	// å‡½æ•°æŒ‡é’ˆçš„æ•°ç»„
	void (*pfunArr[5])(const char* str);
	pfunArr[0] = test;
	// æŒ‡å‘å‡½æ•°æŒ‡é’ˆæ•°ç»„pfunArrçš„æŒ‡é’ˆppfunArr
	void (*(*ppfunArr)[5])(const char*) = &pfunArr;
}
```

å¦‚ä½•ç†è§£å‘¢ï¼Ÿ
- `*ppfunArr` æ˜¯ä¸€ä¸ªæŒ‡é’ˆ
- åé¢å¸¦ä¸Šäº† `[5]` ï¼Œè¯´æ˜æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡é’ˆ
- æœ€åå‰©ä¸‹ `void (*)(const char*)` ï¼Œè¯´è¿™ä¸ªæ•°ç»„æ˜¯å‡½æ•°æŒ‡é’ˆçš„æ•°ç»„
## 9 å›è°ƒå‡½æ•°

**å›è°ƒå‡½æ•°å°±æ˜¯ä¸€ä¸ªé€šè¿‡å‡½æ•°æŒ‡é’ˆè°ƒç”¨çš„å‡½æ•°**
- å¦‚æœä½ æŠŠå‡½æ•°çš„æŒ‡é’ˆï¼ˆåœ°å€ï¼‰`ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°`ï¼Œå½“è¿™ä¸ªæŒ‡é’ˆè¢«ç”¨æ¥è°ƒç”¨å…¶æ‰€æŒ‡å‘çš„å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å°±è¯´è¿™æ˜¯å›è°ƒå‡½æ•°
- å›è°ƒå‡½æ•°ä¸æ˜¯ç”±è¯¥å‡½æ•°çš„å®ç°æ–¹ç›´æ¥è°ƒç”¨ï¼Œè€Œæ˜¯åœ¨ç‰¹å®šçš„äº‹ä»¶æˆ–æ¡ä»¶å‘ç”Ÿæ—¶`ç”±å¦å¤–çš„ä¸€æ–¹è°ƒç”¨çš„`ï¼Œç”¨äºå¯¹è¯¥äº‹ä»¶æˆ–æ¡ä»¶è¿›è¡Œå“åº”ã€‚

é¦–å…ˆæ¼”ç¤ºä¸€ä¸‹qsortå‡½æ•°çš„ä½¿ç”¨ï¼š
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/d99ac52e6921471e95b1885408f25841.png)
```c
#include <stdio.h>  
#include <stdlib.h>  
  
//qsortå‡½æ•°çš„ä½¿ç”¨éœ€è¦å®ç°ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°  
int int_cmp(const void *p1,const void *p2){  
    return *(int *)p1 - *(int *)p2;  
}  
  
int main(){  
    int arr[] = {1,3,5,7,9,2,4,6,8,0};  
    qsort(arr, sizeof(arr)/ sizeof(arr[0]), sizeof(int), int_cmp);  
    for (int i = 0; i < sizeof(arr)/ sizeof(arr[0]); ++i) {  
        printf("%d ", arr[i]);  
    }  
    printf("\n");  
    return 0;  
}
```

**`void * `æŒ‡é’ˆçš„ä½œç”¨**


ä½¿ç”¨å›è°ƒå‡½æ•°ï¼Œæ¨¡å¼å®ç°qsortï¼ˆå†’æ³¡æ’åºçš„æ–¹å¼ï¼Œå¿«æ’ä¹‹åå¼„ï¼‰
```c
#include <stdio.h>  
#include <stdlib.h>  
  
int int_cmp(const void *a, const void *b) {  
    return *(int *) a - *(int *) b;  
}  
  
void _swap(void *a, void *b, int size) {  
    for (int i = 0; i < size; ++i) {  
        char tmp = *((char *) a + i);  
        *((char *) a + i) = *((char *) b + i);  
        *((char *) b + i) = tmp;  
    }  
}  
  
void bubble(void *base, int count, int size, int(*cmp)(const void *, const void *)) {  
    for (int i = 0; i < count - 1; ++i) {  
        for (int j = 0; j < count - i - 1; ++j) {  
            if (cmp((char *) base + j * size, (char *) base + (j + 1) * size) > 0) {  
                _swap((char *) base + j * size, (char *) base + (j + 1) * size, size);  
            }  
        }  
    }  
}  
  
int main() {  
    int arr[] = {1, 3, 5, 7, 9, 2, 4, 6, 8, 0};  
    bubble(arr, sizeof(arr) / sizeof(arr[0]), sizeof(int), int_cmp);  
    for (int i = 0; i < sizeof(arr) / sizeof(arr[0]); ++i) {  
        printf("%d ", arr[i]);  
    }  
    printf("\n");  
    return 0;  
}
```

## 10 æŒ‡é’ˆå’Œæ•°ç»„ç¬”è¯•é¢˜ğŸ“•

```c
//ä¸€ç»´æ•°ç»„
int a[] = {1,2,3,4};
printf("%d\n",sizeof(a));
printf("%d\n",sizeof(a+0));
printf("%d\n",sizeof(*a));
printf("%d\n",sizeof(a+1));
printf("%d\n",sizeof(a[1]));
printf("%d\n",sizeof(&a));
printf("%d\n",sizeof(*&a));
printf("%d\n",sizeof(&a+1));
printf("%d\n",sizeof(&a[0]));
printf("%d\n",sizeof(&a[0]+1));

//å­—ç¬¦æ•°ç»„
char arr[] = {'a','b','c','d','e','f'};
printf("%d\n", sizeof(arr));
printf("%d\n", sizeof(arr+0));
printf("%d\n", sizeof(*arr));
printf("%d\n", sizeof(arr[1]));
printf("%d\n", sizeof(&arr));
printf("%d\n", sizeof(&arr+1));
printf("%d\n", sizeof(&arr[0]+1));
printf("%d\n",sizeof(arr[0]+1));

printf("%d\n", strlen(arr));
printf("%d\n", strlen(arr+0));
printf("%d\n", strlen(*arr));
printf("%d\n", strlen(arr[1]));
printf("%d\n", strlen(&arr));
printf("%d\n", strlen(&arr+1));
printf("%d\n", strlen(&arr[0]+1));

char arr[] = "abcdef";
printf("%d\n", sizeof(arr));
printf("%d\n", sizeof(arr+0));
printf("%d\n", sizeof(*arr));
printf("%d\n", sizeof(arr[1]));
printf("%d\n", sizeof(&arr));
printf("%d\n", sizeof(&arr+1));
printf("%d\n", sizeof(&arr[0]+1));

printf("%d\n", strlen(arr));
printf("%d\n", strlen(arr+0));
printf("%d\n", strlen(*arr));
printf("%d\n", strlen(arr[1]));
printf("%d\n", strlen(&arr));
printf("%d\n", strlen(&arr+1));
printf("%d\n", strlen(&arr[0]+1));

char *p = "abcdef";
printf("%d\n", sizeof(p));
printf("%d\n", sizeof(p+1));
printf("%d\n", sizeof(*p));
printf("%d\n", sizeof(p[0]));
printf("%d\n", sizeof(&p));
printf("%d\n", sizeof(&p+1));
printf("%d\n", sizeof(&p[0]+1));

printf("%d\n", strlen(p));
printf("%d\n", strlen(p+1));
printf("%d\n", strlen(*p));
printf("%d\n", strlen(p[0]));
printf("%d\n", strlen(&p));
printf("%d\n", strlen(&p+1));
printf("%d\n", strlen(&p[0]+1));

//äºŒç»´æ•°ç»„
int a[3][4] = {0};
printf("%d\n",sizeof(a));
printf("%d\n",sizeof(a[0][0]));
printf("%d\n",sizeof(a[0]));
printf("%d\n",sizeof(a[0]+1));
printf("%d\n",sizeof(*(a[0]+1)));
printf("%d\n",sizeof(a+1));
printf("%d\n",sizeof(*(a+1)));
printf("%d\n",sizeof(&a[0]+1));
printf("%d\n",sizeof(*(&a[0]+1)));
printf("%d\n",sizeof(*a));
printf("%d\n",sizeof(a[3]));
```

**ç­”æ¡ˆï¼š**
```c
//ä¸€ç»´æ•°ç»„
int a[] = {1,2,3,4};
printf("%d\n",sizeof(a));         //æ•´ä¸ªæ•°ç»„ï¼Œ4*4=16
printf("%d\n",sizeof(a+0));       //é¦–å…ƒç´ çš„åœ°å€ï¼ŒæŒ‡é’ˆç±»å‹ï¼Œ8
printf("%d\n",sizeof(*a));        //é¦–å…ƒç´ è§£å¼•ç”¨ï¼Œintç±»å‹ï¼Œ4
printf("%d\n",sizeof(a+1));       //ç¬¬äºŒä¸ªå…ƒç´ åœ°å€ï¼ŒæŒ‡é’ˆç±»å‹ï¼Œ8
printf("%d\n",sizeof(a[1]));      //ç¬¬äºŒä¸ªå…ƒç´ ï¼Œintç±»å‹ï¼Œ4
printf("%d\n",sizeof(&a));        //æ•´ä¸ªæ•°ç»„æŒ‡é’ˆï¼ŒæŒ‡é’ˆç±»å‹ï¼Œ8
printf("%d\n",sizeof(*&a));       //è§£å¼•ç”¨åï¼Œè¿˜æ˜¯aï¼Œæ•´ä¸ªæ•°ç»„ï¼Œ4*4=16
printf("%d\n",sizeof(&a+1));      //æ•´ä¸ªæ•°ç»„åçš„åœ°å€ï¼ŒæŒ‡é’ˆç±»å‹ï¼Œ8
printf("%d\n",sizeof(&a[0]));     //ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€ï¼ŒæŒ‡é’ˆç±»å‹ï¼Œ8
printf("%d\n",sizeof(&a[0]+1));   //ç¬¬äºŒä¸ªå…ƒç´ åœ°å€ï¼ŒæŒ‡é’ˆç±»å‹ï¼Œ8

//å­—ç¬¦æ•°ç»„
char arr[] = {'a','b','c','d','e','f'};
// è¿™ä¸ªæœ€åä¸€ä¸ªå…ƒç´ ä¸æ˜¯ '\0'ï¼Œè€Œæ˜¯'f'
printf("%d\n", sizeof(arr));       //æ•´ä¸ªæ•°ç»„ï¼Œ6*1=6
printf("%d\n", sizeof(arr+0));     //é¦–å…ƒç´ åœ°å€ï¼ŒæŒ‡é’ˆç±»å‹ï¼Œ8
printf("%d\n", sizeof(*arr));      //é¦–å…ƒç´ è§£å¼•ç”¨ï¼Œcharç±»å‹ï¼Œ1
printf("%d\n", sizeof(arr[1]));    //é¦–å…ƒç´ ï¼Œcharç±»å‹ï¼Œ1
printf("%d\n", sizeof(&arr));      //æ•´ä¸ªæ•°ç»„åœ°å€ï¼ŒæŒ‡é’ˆç±»å‹ï¼Œ8
printf("%d\n", sizeof(&arr+1));    //æ•´ä¸ªæ•°ç»„åçš„åœ°å€ï¼ŒæŒ‡é’ˆç±»å‹ï¼Œ8
printf("%d\n", sizeof(&arr[0]+1)); //ç¬¬äºŒä¸ªå…ƒç´ åœ°å€ï¼ŒæŒ‡é’ˆç±»å‹ï¼Œ8
printf("%d\n",sizeof(arr[0]+1));   //charå’Œintè¿ç®—ï¼Œæ•´å‹æå‡ï¼Œintç±»å‹ï¼Œ4

// strlenå‡½æ•°çš„å‚æ•°ç±»å‹åº”è¯¥æ˜¯charç±»å‹æŒ‡é’ˆ
// åªè¦æ˜¯åœ°å€ï¼ˆæŒ‡é’ˆï¼‰ï¼Œå°±ä¼šè®¡ç®—å­—ç¬¦ä¸²é•¿åº¦ï¼Œæ‰¾åˆ°'\0' ä¸ºæ­¢
printf("%d\n", strlen(arr));       //é¦–å…ƒç´ åœ°å€å¼€å§‹ï¼Œæ‰¾åˆ°'\0'ä¸ºæ­¢ï¼Œéšæœº
printf("%d\n", strlen(arr+0));     //é¦–å…ƒç´ åœ°å€å¼€å§‹ï¼Œæ‰¾åˆ°'\0'ä¸ºæ­¢ï¼Œéšæœº
printf("%d\n", strlen(*arr));      //é¦–å…ƒç´ è§£å¼•ç”¨ï¼Œcharç±»å‹ï¼Œå‚æ•°éæ³•
printf("%d\n", strlen(arr[1]));    //é¦–å…ƒç´ ï¼Œcharç±»å‹ï¼Œå‚æ•°éæ³•
printf("%d\n", strlen(&arr));      //æ•´ä¸ªæ•°ç»„åœ°å€å¼€å§‹ï¼Œæ‰¾åˆ°'\0'ä¸ºæ­¢ï¼Œéšæœº
printf("%d\n", strlen(&arr+1));    //æ•´ä¸ªæ•°ç»„åçš„åœ°å€å¼€å§‹ï¼Œæ‰¾åˆ°'\0'ä¸ºæ­¢ï¼Œéšæœº - 6
printf("%d\n", strlen(&arr[0]+1)); //ç¬¬äºŒä¸ªå…ƒç´ åœ°å€å¼€å§‹ï¼Œæ‰¾åˆ°'\0'ä¸ºæ­¢ï¼Œéšæœº - 1

char arr[] = "abcdef";
// æœ€åä¸€ä¸ªå…ƒç´ æ˜¯ '\0'
printf("%d\n", sizeof(arr));       //æ•´ä¸ªæ•°ç»„ï¼Œå«0ï¼Œ7
printf("%d\n", sizeof(arr+0));     //é¦–å…ƒç´ åœ°å€ï¼ŒæŒ‡é’ˆï¼Œ8
printf("%d\n", sizeof(*arr));      //é¦–å…ƒç´ è§£å¼•ç”¨ï¼Œcharç±»å‹ï¼Œ1
printf("%d\n", sizeof(arr[1]));    //é¦–å…ƒç´ ï¼Œcharç±»å‹ï¼Œ1
printf("%d\n", sizeof(&arr));      //æ•´ä¸ªæ•°ç»„åœ°å€ï¼ŒæŒ‡é’ˆï¼Œ8
printf("%d\n", sizeof(&arr+1));    //æ•´ä¸ªæ•°ç»„åçš„åœ°å€ï¼ŒæŒ‡é’ˆï¼Œ8
printf("%d\n", sizeof(&arr[0]+1)); //ç¬¬äºŒä¸ªå…ƒç´ çš„åœ°å€ï¼ŒæŒ‡é’ˆï¼Œ8

printf("%d\n", strlen(arr));       //é¦–å…ƒç´ åœ°å€å¼€å§‹ï¼Œæ‰¾åˆ°'\0'ï¼Œ6
printf("%d\n", strlen(arr+0));     //ä¸€æ ·ï¼Œ6
printf("%d\n", strlen(*arr));      //å‚æ•°éæ³•ï¼ŒæŠŠa--97æ”¾å…¥ï¼Œæ‰¾åœ°å€ä¸º97çš„å†…å­˜ä½ç½®å¼€å§‹
printf("%d\n", strlen(arr[1]));    //å‚æ•°éæ³•
printf("%d\n", strlen(&arr));      //æ•´ä¸ªæ•°ç»„çš„åœ°å€å¼€å§‹ï¼Œ6
printf("%d\n", strlen(&arr+1));    //æ•´ä¸ªæ•°ç»„åçš„åœ°å€ï¼Œéšæœºå€¼-6
printf("%d\n", strlen(&arr[0]+1)); //ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼Œ5

char *p = "abcdef";
printf("%d\n", sizeof(p));         //æŒ‡é’ˆçš„å¤§å°ï¼Œ8
printf("%d\n", sizeof(p+1));       //æŒ‡é’ˆåä¸€ä¸ªå¤§å°ï¼Œä¹Ÿæ˜¯æŒ‡é’ˆï¼Œ8
printf("%d\n", sizeof(*p));        //æŒ‡é’ˆè§£å¼•ç”¨ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œcharç±»å‹ï¼Œ1
printf("%d\n", sizeof(p[0]));      //ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œcharç±»å‹ï¼Œ1
printf("%d\n", sizeof(&p));        //æŒ‡é’ˆçš„æŒ‡é’ˆï¼ŒäºŒçº§æŒ‡é’ˆï¼Œ8
printf("%d\n", sizeof(&p+1));      //äºŒçº§æŒ‡é’ˆï¼Œåä¸€ä¸ªï¼Œä¹Ÿæ˜¯æŒ‡é’ˆï¼Œ8
printf("%d\n", sizeof(&p[0]+1));   //ç¬¬äºŒä¸ªå…ƒç´ çš„åœ°å€ï¼ŒæŒ‡é’ˆï¼Œ8

printf("%d\n", strlen(p));         //é¦–å…ƒç´ åœ°å€å¼€å§‹ï¼Œæ‰¾åˆ°'\0'ï¼Œ6
printf("%d\n", strlen(p+1));       //ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼Œ5
printf("%d\n", strlen(*p));        //æŒ‡é’ˆè§£å¼•ç”¨ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œéæ³•
printf("%d\n", strlen(p[0]));      //ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œéæ³•
printf("%d\n", strlen(&p));        //æŒ‡é’ˆçš„æŒ‡é’ˆï¼ŒäºŒçº§æŒ‡é’ˆï¼Œéšæœºå€¼
printf("%d\n", strlen(&p+1));      //äºŒçº§æŒ‡é’ˆï¼Œåä¸€ä¸ªï¼Œéšæœºå€¼
printf("%d\n", strlen(&p[0]+1));   //ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼Œ5

//äºŒç»´æ•°ç»„
int a[3][4] = {0};
printf("%d\n",sizeof(a));          //æ•´ä¸ªæ•°ç»„ï¼Œ3*4*4 = 48
printf("%d\n",sizeof(a[0][0]));    //ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œintç±»å‹ï¼Œ4
printf("%d\n",sizeof(a[0]));       //ç¬¬ä¸€è¡Œå…ƒç´ ï¼Œæ•´ä¸ªä¸€ç»´æ•°ç»„ï¼Œ4*4=16
printf("%d\n",sizeof(a[0]+1));     //ä¸€ç»´æ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ åœ°å€ï¼Œ8
printf("%d\n",sizeof(*(a[0]+1)));  //ä¸Šé¢å…ƒç´ è§£å¼•ç”¨ï¼Œintç±»å‹ï¼Œ4
printf("%d\n",sizeof(a+1));        //ï¼ï¼ç¬¬äºŒè¡Œæ•°ç»„çš„æŒ‡é’ˆï¼Œ8
printf("%d\n",sizeof(*(a+1)));     //ç¬¬äºŒè¡Œæ•°ç»„è§£å¼•ç”¨ï¼Œæ•´ä¸ªæ•°ç»„ï¼Œ4*4=16
printf("%d\n",sizeof(&a[0]+1));    //ç¬¬äºŒè¡Œæ•°ç»„çš„æŒ‡é’ˆï¼Œ8
printf("%d\n",sizeof(*(&a[0]+1))); //ç¬¬äºŒè¡Œæ•°ç»„è§£å¼•ç”¨ï¼Œæ•´ä¸ªæ•°ç»„ï¼Œ4*4=16
printf("%d\n",sizeof(*a));         //ç¬¬ä¸€è¡Œæ•´ä¸ªæ•°ç»„ï¼Œæ•´ä¸ªæ•°ç»„ï¼Œ4*4=16
printf("%d\n",sizeof(a[3]));       //è¶Šç•Œï¼ä½†æ˜¯ç®—ç¬¬å››è¡Œæ•´ä¸ªæ•°ç»„ï¼Œ4*4=16
//ç±»æ¯”ä¸ sizeof(int)ï¼Œç›´æ¥æ¨æ–­ç±»å‹å ç”¨çš„å­—èŠ‚
```

sizeofå’Œstrlenæ€»ç»“ï¼š
- sizeofåªå…³æ³¨å ç”¨å†…å­˜ç©ºé—´çš„å¤§å°ï¼Œä¸åœ¨ä¹å†…å­˜ä¸­æ”¾çš„æ˜¯ä»€ä¹ˆ
- strlenæ±‚å­—ç¬¦é•¿åº¦ï¼Œå…³æ³¨çš„æ˜¯å­—ç¬¦ä¸²åˆ° \0 ä¹‹å‰çš„å­—ç¬¦ä¸ªæ•°

æ•°ç»„åçš„æ„ä¹‰ï¼š
- sizeof(æ•°ç»„å)ï¼Œè¿™é‡Œçš„æ•°ç»„åè¡¨ç¤ºæ•´ä¸ªæ•°ç»„ï¼Œè®¡ç®—çš„æ˜¯æ•´ä¸ªæ•°ç»„çš„å¤§å°
- &æ•°ç»„åï¼Œè¿™é‡Œçš„æ•°ç»„åè¡¨ç¤ºæ•´ä¸ªæ•°ç»„ï¼Œå–å‡ºçš„æ˜¯æ•´ä¸ªæ•°ç»„çš„åœ°å€
- é™¤æ­¤ä¹‹å¤–æ‰€æœ‰çš„æ•°ç»„åéƒ½è¡¨ç¤ºé¦–å…ƒç´ çš„åœ°å€
- **äºŒç»´æ•°ç»„çš„é¦–å…ƒç´ åœ°å€æ˜¯ç¬¬ä¸€è¡Œæ•°ç»„çš„åœ°å€ï¼ï¼ï¼**

## 11 æŒ‡é’ˆç¬”è¯•é¢˜

### 11.1 é¢˜1

```c
int main() {  
    int a[5] = {1, 2, 3, 4, 5};  
    int *ptr = (int *) (&a + 1);  
    printf("%d,%d,%d",*(a+1),*(ptr+1),*(ptr-1));  
    return 0;  
}
```

- a+1ï¼šæ•°ç»„ç¬¬äºŒä¸ªå…ƒç´ çš„åœ°å€ï¼Œè§£å¼•ç”¨åä¸º2
- ptr+1ï¼š&aè¡¨ç¤ºæ•´ä¸ªæ•°ç»„ï¼Œ+1åä¸ºæ•´ä¸ªæ•°ç»„åé¢çš„åœ°å€ï¼ˆæœªçŸ¥ï¼‰ï¼Œé‚£ä¹ˆptr+1ä¹Ÿæ˜¯æœªçŸ¥çš„ï¼Œé‡æŒ‡é’ˆ
- ptr-1ï¼š-1è¡¨ç¤ºä»æ•°ç»„åé¢çš„åœ°å€ï¼Œå‰ç§»ä¸€ä¸ªintç±»å‹å¤§å°ï¼Œå³æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ 5

### 11.2 é¢˜2ğŸ“•

```c
struct Test {  
    int Num;  
    char *pcName;  
    short sDate;  
    char cha[2];  
    short sBa[4];  
} *p = (struct Test*)0x100000;
  
//å‡è®¾p çš„å€¼ä¸º0x100000ã€‚ å¦‚ä¸‹è¡¨è¡¨è¾¾å¼çš„å€¼åˆ†åˆ«ä¸ºå¤šå°‘ï¼Ÿ  
//å·²çŸ¥ï¼Œç»“æ„ä½“Testç±»å‹çš„å˜é‡å¤§å°æ˜¯20ä¸ªå­—èŠ‚  
int main() {  
    printf("%p\n", p);  
    printf("%p\n", p + 0x1);  
    printf("%p\n", (unsigned long)p + 0x1);  
    printf("%p\n", (unsigned int *)p + 0x1);  
    return 0;  
}
```

- **ä¸»è¦æ˜¯çœ‹æŒ‡é’ˆçš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Œç„¶åå†è¿›è¡ŒæŒ‡é’ˆçš„è¿ç®—**
- ç»“æ„ä½“æŒ‡é’ˆ+1ï¼šè·³è¿‡ä¸€ä¸ªç»“æ„ä½“ç±»å‹çš„å¤§å°ï¼Œæ‰€ä»¥å€¼ä¸º0x100014ï¼›
- `(unsigned long)p` ï¼šåœ°å€å¼ºè½¬ä¸ºä¸€ä¸ªæ•´æ•°ï¼Œæ•´æ•°+1å³å¯
  ![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/f3d16abab29e493fd278ac2993e29559.png)
- `(unsigned int *)p` ï¼šç»“æ„ä½“æŒ‡é’ˆå¼ºè½¬ä¸ºintæŒ‡é’ˆï¼Œ+1ï¼Œå°±æ˜¯åŠ ä¸€ä¸ªintç±»å‹å¤§å°ï¼Œå³+4

### 11.3 é¢˜3

```c
int main() {  
    int a[4] = {1, 2, 3, 4};  
    int *p1 = (int *) (&a + 1);  
    int *p2 = (int *) ((int) a + 1);  
    printf("%x\n",a);  
    printf("%x %x\n", p1[-1], *p2);  
    return 0;  
}
```

- p1ï¼š&aæ•´ä¸ªæ•°ç»„çš„åœ°å€ï¼Œå¾€åï¼Œå³p1çš„åœ°å€ = açš„åœ°å€ + 16å­—èŠ‚ï¼ˆ0x10ï¼‰
- p2ï¼šé¦–å…ƒç´ çš„åœ°å€å¼ºè½¬ä¸ºintç±»å‹ï¼Œå³p2çš„åœ°å€ = é¦–å…ƒç´ åœ°å€/açš„åœ°å€ + 1ï¼ˆ0x1ï¼‰
- `p1[-1]` ï¼š å‡æ‰ä¸€ä¸ªintç±»å‹å¤§å°ï¼Œå³**açš„æœ€åä¸€ä¸ªå…ƒç´ çš„åœ°å€**

### 11.4 é¢˜4

```c
int main() {  
    int a[3][2] = {0,1,2,3,4,5};  
    int *p;  
    p = a[0];  
    printf("%d\n", p[0]);  
    return 0;  
}
```

pï¼šäºŒç»´æ•°ç»„é¦–å…ƒç´ çš„åœ°å€ï¼Œå³ç¬¬ä¸€è¡Œçš„åœ°å€ï¼Œæ‰€ä»¥`p[0] = 0`
### 11.5 é¢˜5ğŸ“•

```c
int main() {  
    int a[5][5];  
    int (*p)[4];  
    p = a;  
    printf("%p,%d\n",&p[4][2] - &a[4][2],&p[4][2] - &a[4][2]);  
    return 0;  
}
```

- `p=a`ï¼š
	- aæŒ‡å‘äºŒç»´æ•°ç»„çš„é¦–å…ƒç´ ï¼Œå³ç¬¬ä¸€è¡Œå…ƒç´ ï¼Œç±»å‹æ˜¯ `int(*)[5]` ï¼Œè€Œpçš„ç±»å‹æ˜¯ `int(*)[4]` è¿™é‡Œç¼–è¯‘å™¨ä¼šè­¦å‘Šï¼Œä¸è¿‡å¯ä»¥èµ‹å€¼
	- æ­¤æ—¶pæŒ‡å‘çš„æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€
	- ä¸è¿‡ï¼Œpä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œæ¯æ¬¡è·³è¿‡çš„æ˜¯4ä¸ªintæ•´å‹ï¼ï¼ï¼
- `a[4][2]` ï¼šè¿™é‡Œå¾ˆç®€å•ï¼Œç›´æ¥æ‰¾åˆ°å¯¹åº”çš„åœ°å€å³å¯
- `p[4][2]`ï¼šè¿™é‡Œéœ€è¦æ³¨æ„äº†ï¼Œå¯ä»¥ç­‰äº `*(*(p+4)+2)` ï¼Œçœ‹ä¸‹å›¾
  ![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/536d28d4c33cb0f51c51d0019505f208.png)
- æ‰€ä»¥ç­”æ¡ˆï¼Œéƒ½æ˜¯-4ï¼Œä¸è¿‡%péœ€è¦è½¬æ¢ä¸€ä¸‹ä¸º16è¿›åˆ¶
### 11.6 é¢˜6ğŸ“•

```c
int main() {  
    int a[2][5] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};  
    int *p1 = (int *) (&a + 1);  
    int *p2 = (int *) (*(a + 1));  
    printf("%d %d\n", *(p1 - 1), *(p2 - 1));  
    return 0;  
}
```

`p1`ï¼šæ•´ä¸ªæ•°ç»„+1ï¼ŒæŒ‡å‘æ•´ä¸ªæ•°ç»„åä¸€ä½çš„åœ°å€ï¼Œæ‰€ä»¥p1-1ï¼Œå‰ç§»ä¸€ä¸ªintç±»å‹å¤§å°ï¼Œå€¼ä¸º10
`p2`ï¼ša+1è¡¨ç¤ºç¬¬äºŒè¡Œæ•°ç»„çš„åœ°å€ï¼Œè§£å¼•ç”¨åè¿˜æ˜¯ç¬¬äºŒè¡Œæ•°ç»„ï¼ŒæŒ‡é’ˆæŒ‡å‘6ï¼Œp2-1åçš„å€¼ä¸º5

### 11.7 é¢˜7

```c
int main() {  
    char *a[] = {"work","at","alibaba"};  
    char **pa = a;  
    pa++;  
    printf("%s\n", *pa);  
    return 0;  
}
```

- é¦–å…ˆaæ˜¯ä¸€ä¸ªcharæŒ‡é’ˆçš„æ•°ç»„ï¼Œå•ç‹¬açš„æ—¶å€™è¡¨ç¤ºé¦–å…ƒç´ çš„åœ°å€ï¼Œå³ç¬¬ä¸€ä¸ªcharæŒ‡é’ˆçš„åœ°å€
- æ‰€ä»¥paæ˜¯æŒ‡å‘açš„ç¬¬ä¸€ä¸ªcharæŒ‡é’ˆçš„æŒ‡é’ˆï¼ˆäºŒçº§æŒ‡é’ˆï¼‰
- pa++åï¼ŒæŒ‰ç…§ç±»å‹ä¸ºchar*ï¼Œç§»åŠ¨ä¸€ä½ï¼ŒpaæŒ‡å‘ç¬¬äºŒä¸ªcharæŒ‡é’ˆçš„æŒ‡é’ˆ
- ç»“æœä¸ºat

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/896baac93e30bbe63e78ba7bd65fe74f.png)

### 11.8 é¢˜8

```c
int main() {  
    char *c[] = {"ENTER", "NEW", "POINT", "FIRST"};  
    char **cp[] = {c + 3, c + 2, c + 1, c};  
    char ***cpp = cp;  
    printf("%s\n", **++cpp);  
    printf("%s\n", *--*++cpp + 3);  
    printf("%s\n", *cpp[-2] + 4);  
    printf("%s\n", cpp[-1][-1] + 1);  
    return 0;  
}
```

- cï¼šcharæŒ‡é’ˆæ•°ç»„
- cpï¼šäºŒçº§æŒ‡é’ˆæ•°ç»„ï¼Œå…¶ä¸­çš„å…ƒç´ ï¼ˆäºŒçº§æŒ‡é’ˆï¼‰å€’è¿‡æ¥æŒ‡å‘cä¸­çš„ä¸€çº§æŒ‡é’ˆ
- cppï¼šcpè¡¨ç¤ºäºŒçº§æŒ‡é’ˆæ•°ç»„çš„é¦–å…ƒç´ ï¼Œæ‰€ä»¥cppæŒ‡å‘cpçš„é¦–ä¸ªäºŒçº§æŒ‡é’ˆï¼Œå¯ä»¥çœ‹ä¸‹å›¾
  ![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/86f20ff964175d422a43777afcd97aa1.png)
- `**++cpp` ï¼šcppå…ˆåŠ åŠ ï¼ŒæŒ‡å‘0x222è¿™ä¸ªåœ°å€ï¼Œç„¶åè§£å¼•ç”¨ä¸€æ¬¡ä¸º0x33ï¼Œ0x33åœ¨è§£å¼•ç”¨ä¸º0x3ï¼Œç»“æœä¸ºPOINT
- `*--*++cpp + 3` ï¼šæ³¨æ„cppä½ç½®åœ¨0x222ï¼Œ++åä¸º0x333ï¼Œè§£å¼•ç”¨æŒ‡å‘0x22ï¼Œå†--ä¸º0x11ï¼ˆå³ENTERï¼‰ï¼Œå†+3ï¼Œè¡¨ç¤ºä»Tè¿™ä¸ªå­—ç¬¦å¼€å§‹ï¼Œç»“æœä¸ºER
- `*cpp[-2] + 4` ï¼šæ³¨æ„cppä½ç½®åœ¨0x333ï¼Œ-2åæŒ‡å‘ä¸º0x111ï¼ˆ**cppæ²¡æœ‰ç§»åŠ¨ï¼**ï¼‰ï¼Œè§£å¼•ç”¨æŒ‡å‘0x44ï¼ˆå³FIRSTï¼‰ï¼Œå†+4ï¼Œè¡¨ç¤ºä»Så¼€å§‹ï¼Œç»“æœä¸ºT
- `cpp[-1][-1] + 1` ï¼šæ³¨æ„cppä½ç½®ä¸º0x111ï¼Œ`*(*(cpp-1)-1)` ï¼Œ-1æŒ‡å‘0x33ï¼Œå†-1æŒ‡å‘0x22ï¼ˆå³NEWï¼‰ï¼Œå†+1ï¼Œè¡¨ç¤ºä»Nå¼€å§‹ï¼Œç»“æœä¸ºEW
