## 1 根文件系统简介

根文件系统首先是**内核启动时所mount的第一个文件系统**，内核代码映像文件保存在根文件系统中，而系统引导启动程序会在根文件系统挂载之后从中把一些基本的初始化脚本和服务等加载到内存中去运行。 相当于windows下的C盘，保存了系统启动后的应用程序和系统配置
## 2 根文件系统目录简介

进入板卡的 `/` 根目录查看
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/9e67735aa2f342bbb8d5669836e7f7f6.png)

### 2.1 bin目录

- 该目录下的**命令**可以被root与一般账号所使用，由于这些命令在挂接其它文件系统之前就可以使用，所以/bin目录必须和根文件系统在同一个分区中
- /bin目录下常用的命令有：cat、chgrp、chmod、cp、ls、sh、kill、mount、umount、mkdir等
- 之后在利用Busybox制作根文件系统时，在生成的bin目录下，可以看到一些可执行的文件，也就是可用的一些命令

### 2.2 sbin目录

- **存放系统命令**，即只有系统管理员（俗称最高权限的root）能够使用的命令，系统命令还可以存放在/usr/sbin,/usr/local/sbin目录下
- /sbin目录中存放的是基本的系统命令，它们用于启动系统和修复系统等，与/bin目录相似，在挂接其他文件系统之前就可以使用/sbin，所以/sbin目录必须和根文件系统在同一个分区中
-  /sbin目录下常用的命令有：shutdown、reboot、fdisk、fsck、init等，本地用户自己安装的系统命令放在/usr/local/sbin目录下

### 2.3 dev目录

- **存放的是设备与设备接口的文件**
- 设备文件是Linux中特有的文件类型，在Linux系统下，以文件的方式访问各种设备，即通过读写某个设备文件操作某个具体硬件
- 比如
	- 通过”dev/ttySAC0”文件可以操作串口0
	- 通过”/dev/mtdblock1”可以访问MTD设备的第2个分区
- 比较重要的文件有/dev/null, /dev/zero, /dev/tty, /dev/lp*等

### 2.4 etc目录

- **存放着系统主要的配置文件**，例如人员的账号密码文件、各种服务的其实文件等
- 此目录的各文件属性是可以让一般用户查阅的，但是只有root有权限修改
- 对于PC上的Linux系统，/etc目录下的文件和目录非常多，这些目录文件是可选的，它们依赖于系统中所拥有的应用程序，依赖于这些程序是否需要配置文件。**在嵌入式系统中，这些内容可以大为精减**
### 2.5 lib目录

- **存放共享库和可加载（驱动程序）**，共享库用于启动系统
- 运行根文件系统中的可执行程序，比如：/bin /sbin 目录下的程序
### 2.6 home目录

- **系统默认的用户文件夹**，它是可选的
- 对于每个普通用户，在/home目录下都有一个以用户名命名的子目录，里面存放用户相关的配置文件
### 2.7 root目录

- **系统管理员（root）的主文件夹**，即是根用户的目录
- 与此对应，普通用户的目录是/home下的某个子目录
### 2.8 usr目录

- /usr目录的内容可以存在另一个分区中，在系统启动后再挂接到根文件系统中的/usr目录下
- 里面**存放的是共享、只读的程序和数据**，这表明/usr目录下的内容可以在多个主机间共享，这些主要也符合FHS标准的
- /usr中的文件应该是只读的，其他主机相关的，可变的文件应该保存在其他目录下，比如/var
- **/usr目录在嵌入式中可以精减**
### 2.9 var目录

- 与/usr目录相反，**/var目录中存放可变的数据**，比如spool目录（mail,news），log文件，临时文件
### 2.10 proc目录

- 这是一个空目录，常**作为proc文件系统的挂接点**
- proc文件系统是个虚拟的文件系统，它没有实际的存储设备，里面的**目录，文件都是由内核 临时生成的，用来表示系统的运行状态，也可以操作其中的文件控制系统**
### 2.11 mnt目录

- 用于**临时挂载某个文件系统的挂接点**，通常是空目录
- 也可以在里面创建一引起空的子目录，比如/mnt/cdram /mnt/hda1 。用来临时挂载光盘、移动存储设备等。
### 2.12 tmp目录

- 存放临时文件，通常是空目录，一些需要生成临时文件的程序用到的/tmp目录下，所以/tmp目录必须存在并可以访问
### 2.13 总结

对于嵌入式Linux系统的根文件系统来说，一般可能没有上面所列出的那么复杂
- 嵌入式系统通常都不是针对多用户的，所以/home这个目录在一般嵌入式Linux中可能就很少用到
- 而`/boot`目录的作用和内容，取决于你所使用的启动加载程序（BootLoader）能否在内核启动之前，从你的根文件系统（root filesystem）中重新加载或获取内核映像（kernel image）
	- 有些启动加载程序（如GRUB）会直接从 `/boot` 目录读取内核映像文件（比如 `vmlinuz`）来启动系统
	- 有些启动加载程序可能设计成在内核启动时，能**从根文件系统（也就是系统的主要分区）动态获取或重新加载内核映像**
- 一般说来，只有/bin，/dev，/etc，/lib，/proc，/var，/usr这些需要的，而其他都是可选的。

## 3 常见根文件系统

根文件系统本质都是一些文件和配置信息组成，之间的界限没有很明确的界定，以下大致列出一些根文件系统的特点
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/0ecfcef329c61e8e5bc6b3bbb3338de2.png)

