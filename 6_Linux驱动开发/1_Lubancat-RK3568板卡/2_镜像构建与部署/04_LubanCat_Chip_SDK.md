
**æ³¨æ„1ï¼š** LubanCat_Chip_SDKå°†äº2024å¹´9æœˆ10æ—¥èµ·é€æ­¥åœæ­¢æ”¯æŒï¼Œrk356xæ¿å¡å’Œrk3588æ¿å¡åç»­å¼€å‘æ”¯æŒå·²ç»è½¬ç§»åˆ°LubanCat_Gen_SDK

**æ³¨æ„2ï¼š** LubanCatä¸“ç”¨é•œåƒå·²äº2023å¹´4æœˆ11æ—¥åœæ­¢æ”¯æŒï¼Œéƒ¨åˆ†ä¸ä¸“ç”¨é•œåƒç›¸å…³çš„å†…å®¹å¹¶æœªåˆ é™¤ï¼Œè¿™äº›å†…å®¹ä»…ä¾›å‚è€ƒï¼ŒåŒæ—¶æœ¬æ–‡æ¡£åœ¨ç›¸å…³ä½ç½®ä¹Ÿä¼šæ·»åŠ Â **å·²åœæ­¢æ”¯æŒ**Â çš„æ ‡è®°

**æ³¨æ„3ï¼š** LubanCat Buildrootç›¸å…³å†…å®¹å·²äº2023å¹´8æœˆ3æ—¥åœæ­¢æ”¯æŒï¼Œéƒ¨åˆ†ä¸Buildrootæ„å»ºç›¸å…³çš„å†…å®¹å¹¶æœªåˆ é™¤ï¼Œè¿™äº›å†…å®¹ä»…ä¾›å‚è€ƒï¼ŒåŒæ—¶æœ¬æ–‡æ¡£åœ¨ç›¸å…³ä½ç½®ä¹Ÿä¼šæ·»åŠ Â **å·²åœæ­¢æ”¯æŒ**Â çš„æ ‡è®°
## 1 ç®€ä»‹

LubanCat_Chip_SDKæ˜¯åŸºäºç‘èŠ¯å¾®é€šç”¨Linux SDKå·¥ç¨‹çš„æ·±åº¦å®šåˆ¶ç‰ˆæœ¬ï¼Œé€‚ç”¨äºä»¥Rockchipå¤„ç†å™¨ä¸ºä¸»èŠ¯ç‰‡çš„LubanCat-RKç³»åˆ—æ¿å¡ã€‚

æ•´ä¸ªSDKå·¥ç¨‹ï¼Œç›®å½•åŒ…å«æœ‰ buildrootã€debianã€appã€kernelã€u-bootã€deviceã€external ç­‰ç›®å½•ã€‚ æ¯ä¸ªç›®å½•æˆ–å…¶å­ç›®å½•ä¼šå¯¹åº”ä¸€ä¸ª git å·¥ç¨‹ï¼Œæäº¤éœ€è¦åœ¨å„è‡ªçš„ç›®å½•ä¸‹è¿›è¡Œã€‚

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/d38e5ba31431c5167e77d42c9df2e615.png)

- `app`ï¼š(**å·²åœæ­¢æ”¯æŒ**) å­˜æ”¾ä¸Šå±‚åº”ç”¨ appï¼Œä¸»è¦æ˜¯ qcamera/qfm/qplayer/settings ç­‰ä¸€äº›åº”ç”¨ç¨‹åºï¼Œåœ¨buildrootæ„å»ºæ—¶ä¼šä½¿ç”¨åˆ°è¿™äº›ç¨‹åºã€‚
- `buildroot`ï¼š (**å·²åœæ­¢æ”¯æŒ**) åŸºäº buildroot (2018.02-rc3) å¼€å‘çš„æ ¹æ–‡ä»¶ç³»ç»Ÿã€‚
- `debian`ï¼šDebianæ ¹æ–‡ä»¶ç³»ç»Ÿæ„å»ºè„šæœ¬ã€‚
- `device/rockchip`ï¼š å­˜æ”¾å„èŠ¯ç‰‡æ¿çº§é…ç½®å’ŒParameteræ–‡ä»¶ï¼Œä»¥åŠä¸€äº›æ„å»ºä¸æ‰“åŒ…å›ºä»¶çš„è„šæœ¬å’Œé¢„å¤‡æ–‡ä»¶ã€‚
- `external`ï¼š(**å·²åœæ­¢æ”¯æŒ**) å­˜æ”¾ç¬¬ä¸‰æ–¹ç›¸å…³ä»“åº“,åŒ…æ‹¬éŸ³é¢‘ã€è§†é¢‘ã€ç½‘ç»œã€recovery ç­‰ï¼Œåœ¨buildrootæ„å»ºæ—¶å°†ä¼šç”¨åˆ°ã€‚
- `kernel`ï¼š å­˜æ”¾ kernel æºç ã€‚
- `prebuilts`ï¼š å­˜æ”¾**äº¤å‰ç¼–è¯‘å·¥å…·é“¾**ã€‚
- `rkbin`ï¼š å­˜æ”¾ Rockchip ç›¸å…³çš„ Binary å’Œå·¥å…·ã€‚
- `rockdev`ï¼š å­˜æ”¾ç¼–è¯‘è¾“å‡ºå›ºä»¶ã€‚
- `tools`ï¼š å­˜æ”¾ Linux å’Œ Windows æ“ä½œç³»ç»Ÿç¯å¢ƒä¸‹å¸¸ç”¨å·¥å…·ã€‚
- `u-boot`ï¼šå­˜æ”¾åŸºäºv2017.09ç‰ˆæœ¬è¿›è¡Œå¼€å‘çš„ubootä»£ç ã€‚
- `ubuntu`: Ubuntuæ ¹æ–‡ä»¶ç³»ç»Ÿæ„å»ºè„šæœ¬
## 2 extbootä¸rkbootåˆ†åŒºå¯¹æ¯”

**æ³¨æ„1ï¼š** ç”±äºåŸºäºrkbootåˆ†åŒºçš„LubanCatä¸“ç”¨é•œåƒå·²åœæ­¢æ”¯æŒï¼Œç›¸å…³SDKé…ç½®æ–‡ä»¶å·²ç§»åŠ¨è‡³ device/rockchip/rk356x/.others ç›®å½•ä¸‹ï¼Œä»¥ä¸‹ç›¸å…³å†…å®¹ä»…åšå‚è€ƒã€‚
### 2.1 extbootåˆ†åŒºç³»ç»Ÿé•œåƒç‰¹ç‚¹

extbootåˆ†åŒºç³»ç»Ÿæ˜¯é‡ç«åŸºäºç‘èŠ¯å¾®Linux_SDKæ¡†æ¶æ­å»ºçš„ä¸€ç§LubanCat-RKç³»åˆ—æ¿å¡é€šç”¨é•œåƒå®ç°æ–¹å¼ã€‚å®ç°ä¸€ä¸ªé•œåƒçƒ§å½•åˆ°Lubancatä½¿ç”¨ç›¸åŒå¤„ç†å™¨çš„æ‰€æœ‰æ¿å¡ï¼Œè§£å†³äº†é»˜è®¤rkbootåˆ†åŒºå›ºå®šè®¾å¤‡æ ‘å¯¼è‡´ä¸€ä¸ªé•œåƒåªèƒ½å¤±é…ä¸€æ¬¾æ¿å¡çš„é—®é¢˜ï¼Œå¤§å¤§é™ä½äº†å‹å·ä¼—å¤šå¯¼è‡´çš„åæœŸç»´æŠ¤å¤æ‚æ€§ã€‚

extbootåˆ†åŒºä½¿ç”¨ext4æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å°†æ‰€æœ‰LubanCat-RKç³»åˆ—æ¿å¡è®¾å¤‡æ ‘éƒ½ç¼–è¯‘å¹¶æ‰“åŒ…åˆ°åˆ†åŒºå†…ï¼Œ å¹¶å€ŸåŠ©SDRADCè¯»å–æ¿å¡ç¡¬ä»¶IDï¼Œæ¥å®ç°è®¾å¤‡æ ‘è‡ªåŠ¨åˆ‡æ¢ã€‚åŒæ—¶æ”¯æŒè®¾å¤‡æ ‘æ’ä»¶ï¼Œè‡ªåŠ¨æ›´æ–°å†…æ ¸debåŒ…ï¼Œåœ¨çº¿æ›´æ–°å†…æ ¸å’Œé©±åŠ¨æ¨¡å—ç­‰åŠŸèƒ½ã€‚

è¿˜å¯¹ç³»ç»Ÿé•œåƒçš„åˆ†åŒºåšäº†è°ƒæ•´ï¼Œåˆ å‡ä¸€äº›å†—ä½™åŠŸèƒ½ï¼Œä»…åŒ…å«ubootã€bootã€rootfsåˆ†åŒºï¼Œå®ç°äº†å¯¹ç³»ç»Ÿå­˜å‚¨çš„é«˜æ•ˆåˆ©ç”¨ã€‚
### 2.2 rkbootåˆ†åŒºç³»ç»Ÿé•œåƒç‰¹ç‚¹ï¼ˆåœæ­¢æ”¯æŒï¼‰

rkbootåˆ†åŒºæ˜¯ä½¿ç”¨ç‘èŠ¯å¾®Linux_SDKè‡ªå¸¦çš„bootåˆ†åŒºæ‰“åŒ…è„šæœ¬æ‰€æ„å»ºçš„åˆ†åŒºï¼Œä»…ä¿®æ”¹äº†kernelé…ç½®æ–‡ä»¶å’Œé€‚é…æ¿å¡è®¾å¤‡æ ‘ï¼Œç³»ç»Ÿæ›´åŠ åŸæ±åŸå‘³ã€‚ ä½¿ç”¨æ­¤ç±»å‹bootåˆ†åŒºçš„ä¼˜ç‚¹æ˜¯å¯åŠ¨å¿«ï¼Œå†—ä½™åŠŸèƒ½å¼ºï¼Œè¿›ä¸€æ­¥é…ç½®å¯ä»¥å®ç°OTAï¼Œå¤šç³»ç»Ÿï¼Œé•œåƒæ ¡éªŒç­‰åŠŸèƒ½(éœ€äºŒæ¬¡å¼€å‘è‡ªè¡Œé€‚é…)ï¼Œä½†æ˜¯åƒè®¾å¤‡æ ‘æ’ä»¶è¿™äº›åŠŸèƒ½æ˜¯ç¼ºå¤±çš„ã€‚

rkbootåˆ†åŒºçš„ç³»ç»Ÿé•œåƒï¼Œä¸€ä¸ªå‹å·çš„æ¿å¡è¦å¯¹åº”ä¸€ä¸ªå‹å·çš„ç³»ç»Ÿé•œåƒï¼Œå¦‚æœç¡¬ä»¶å‘ç”Ÿæ”¹å˜è¦ä¿®æ”¹è®¾å¤‡æ ‘ï¼Œå°±è¦é‡æ–°æ„å»ºé•œåƒã€‚
### 2.3 å¯¹æ¯”

|   |   |   |
|---|---|---|
|åŠŸèƒ½|extboot|rkboot|
|å¯åŠ¨é€Ÿåº¦|ç¨æ…¢|å¿«|
|ä½¿ç”¨ç›¸åŒå¤„ç†å™¨æ¿å¡é•œåƒé€šç”¨|æ”¯æŒ|ä¸æ”¯æŒ|
|ç³»ç»Ÿå†…åˆ‡æ¢è®¾å¤‡æ ‘|æ”¯æŒ|ä¸æ”¯æŒ|
|è®¾å¤‡æ ‘æ’ä»¶|æ”¯æŒ|ä¸æ”¯æŒ|
|å­˜å‚¨ç©ºé—´åˆ©ç”¨ç‡|è¾ƒé«˜|è¾ƒä½|
|åœ¨çº¿å‡çº§å†…æ ¸|æ”¯æŒ|ä¸æ”¯æŒ|

å¯¹äºä¸¤ç§ç±»å‹åˆ†åŒºçš„ç³»ç»Ÿé•œåƒï¼Œå…¶ubootåšäº†é€šç”¨å¤„ç†ï¼Œrootfsä¹Ÿåšäº†é€šç”¨å¤„ç†ï¼Œæ‰€ä»¥**uboot.imgå’Œrootfs.imgæ˜¯å¯ä»¥é€šç”¨çš„**
## 3 SDK å¼€å‘ç¯å¢ƒæ­å»º

LubanCat_Chip_SDKæ˜¯åŸºäºUbuntu LTS ç³»ç»Ÿå¼€å‘æµ‹è¯•çš„ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸»è¦æ˜¯ç”¨Ubuntu 20.04ç‰ˆæœ¬ï¼Œ ä¸ºäº†ä¸å¿…è¦çš„éº»çƒ¦ï¼Œæ¨èç”¨æˆ·ä½¿ç”¨Ubuntu20.04åŠä»¥ä¸Šç‰ˆæœ¬

**æ³¨æ„ï¼š** LubanCat-RK3588ç³»åˆ—SDKä¸æ”¯æŒUbuntu20.04ä»¥ä¸‹ç‰ˆæœ¬ç¯å¢ƒè¿›è¡Œé•œåƒæ„å»º

å®‰è£…SDKä¾èµ–çš„è½¯ä»¶åŒ…
```shell
# å®‰è£…SDKæ„å»ºæ‰€éœ€è¦çš„è½¯ä»¶åŒ…
# æ•´ä½“å¤åˆ¶ä¸‹é¢å†…å®¹åˆ°ç»ˆç«¯ä¸­å®‰è£…
sudo apt install git ssh make gcc libssl-dev liblz4-tool u-boot-tools curl \
expect g++ patchelf chrpath gawk texinfo chrpath diffstat binfmt-support \
qemu-user-static live-build bison flex fakeroot cmake gcc-multilib g++-multilib \
unzip device-tree-compiler python3-pip libncurses5-dev python3-pyelftools dpkg-dev
```
## 4 å®‰è£…repo

```shell
mkdir ~/bin
curl https://storage.googleapis.com/git-repo-downloads/repo > ~/bin/repo
# å¦‚æœä¸Šé¢çš„åœ°å€æ— æ³•è®¿é—®ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ï¼š
# curl -sSL  'https://gerrit-googlesource.proxy.ustclug.org/git-repo/+/master/repo?format=TEXT' |base64 -d > ~/bin/repo
chmod a+x ~/bin/repo
echo PATH=~/bin:$PATH >> ~/.bashrc
source ~/.bashrc
```

æ‰§è¡Œå®Œä¸Šé¢çš„å‘½ä»¤åæ¥éªŒè¯repoæ˜¯å¦å®‰è£…æˆåŠŸèƒ½æ­£å¸¸è¿è¡Œ
```shell
repo --version

#è¿”å›ä»¥ä¸‹ä¿¡æ¯
#è¿”å›çš„ä¿¡æ¯æ ¹æ®Ubuntuç‰ˆæœ¬çš„ä¸åŒç•¥æœ‰å·®å¼‚
<repo not installed>
repo launcher version 2.32
    (from /home/he/bin/repo)
git 2.25.1
Python 3.8.10 (default, Nov 14 2022, 12:59:47)
[GCC 9.4.0]
OS Linux 5.15.0-60-generic (#66~20.04.1-Ubuntu SMP Wed Jan 25 09:41:30 UTC 2023)
CPU x86_64 (x86_64)
Bug reports: https://bugs.chromium.org/p/gerrit/issues/entry?template=Repo+tool+issue
```
## 5 SDKæºç è·å–ï¼ˆåœ¨çº¿è·å–ï¼‰

LubanCat_Chip_SDKçš„ä»£ç è¢«åˆ’åˆ†ä¸ºäº†è‹¥å¹²gitä»“åº“åˆ†åˆ«è¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œ å¯ä»¥ä½¿ç”¨repoå·¥å…·å¯¹è¿™äº›gitä»“åº“è¿›è¡Œç»Ÿä¸€çš„ä¸‹è½½ï¼Œæäº¤ï¼Œåˆ‡æ¢åˆ†æ”¯ç­‰æ“ä½œã€‚

è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†åœ¨å½“å‰ç”¨æˆ·çš„å®¶ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºLubanCat_SDKçš„ç›®å½•ï¼Œç”¨æ¥æ”¾å…¥SDKæºç 
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/2afead854fef37648f20ee435ed9beaa.png)
### 5.1 åˆ‡æ¢PY3ç‰ˆæœ¬

```shell
#æŸ¥çœ‹å½“å‰Pythonç‰ˆæœ¬
python -V
```

è‹¥è¿”å›çš„ç‰ˆæœ¬å·ä¸ºPython3ç‰ˆæœ¬ï¼Œåˆ™æ— éœ€å†åˆ‡æ¢Pythonç‰ˆæœ¬ã€‚è‹¥ä¸ºPython2ç‰ˆæœ¬æˆ–æœªå‘ç°pythonï¼Œåˆ™å¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼åˆ‡æ¢ï¼š
```shell
#æŸ¥çœ‹å½“å‰ç³»ç»Ÿå®‰è£…çš„Pythonç‰ˆæœ¬æœ‰å“ªäº›
ls /usr/bin/python*

#å°†pythoné“¾æ¥åˆ°python3
sudo ln -sf /usr/bin/python3 /usr/bin/python

#é‡æ–°æŸ¥çœ‹é»˜è®¤Pythonç‰ˆæœ¬
python -V
```

æ­¤æ—¶ç³»ç»Ÿé»˜è®¤Pythonç‰ˆæœ¬åˆ‡æ¢ä¸ºpython3
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/cc61ea4588a648337324da283286ebb4.png)
### 5.2 Gité…ç½®

è®¾ç½®è‡ªå·±çš„gitä¿¡æ¯ï¼Œä»¥ç¡®ä¿åç»­æ‹‰å–ä»£ç æ—¶æ­£å¸¸è¿›è¡Œï¼Œå¦‚æœä¸éœ€è¦æäº¤ä»£ç çš„è¯å¯ä»¥éšæ„è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±åœ°å€
```shell
git config --global user.name "your name"
git config --global user.email "your mail"
```
### 5.3 SDKåœ¨çº¿ä¸‹è½½å¹¶åŒæ­¥

LubanCat_Chip_SDKå¯ä»¥é€‚é…ä¸åŒçš„æ¿å¡ã€‚ç”±äºä½¿ç”¨è¿™ç§æ–¹å¼è¦ä»Githubæ‹‰å–å¤§é‡çš„ä»“åº“ï¼Œ ä½“ç§¯å¾ˆå¤§ï¼Œå¯¹äºä¸èƒ½å¿«é€Ÿè®¿é—®Githubçš„ç”¨æˆ·ä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼

```shell
cd ~/LubanCat_SDK

# æ‹‰å–LubanCat-RK356xç³»åˆ—Linux_SDK
repo init -u https://github.com/LubanCat/manifests.git -b linux -m rk356x_linux_release.xml

# æ‹‰å–LubanCat-RK3588ç³»åˆ—Linux_SDK
repo init -u https://github.com/LubanCat/manifests.git -b linux -m rk3588_linux_release.xml

#å¦‚æœè¿è¡Œä»¥ä¸Šå‘½ä»¤å¤±è´¥ï¼Œæç¤ºï¼šfatal: Cannot get https://gerrit.googlesource.com/git-repo/clone.bundle
#åˆ™å¯ä»¥åœ¨ä»¥ä¸Šå‘½ä»¤ä¸­æ·»åŠ é€‰é¡¹ --repo-url https://mirrors.tuna.tsinghua.edu.cn/git/git-repo

.repo/repo/repo sync -c -j4
```

å¦‚æœåŒæ­¥å¤±è´¥å¯ä»¥é‡æ–°è¿è¡Œsyncå‘½ä»¤æ¥åŒæ­¥
### 5.4 SDKç¦»çº¿å®‰è£…ä¸‹è½½

ç”±äºGithubæœåŠ¡å™¨åœ¨å›½å¤–ï¼Œæ‹‰å–è¿™ä¹ˆå¤šçš„ä»“åº“éœ€è¦å¾ˆå¤šæ—¶é—´ï¼Œè¿˜å¯èƒ½å› ä¸ºç½‘ç»œä¸ç•…é€šè€Œå¯¼è‡´ä¸‹è½½å¤±è´¥ã€‚ ä¸ºæ­¤ï¼Œå°†éœ€è¦ä½¿ç”¨çš„ä»“åº“æ•´ä½“æ‰“åŒ…ï¼Œä½¿ç”¨ç½‘ç›˜ä¸‹è½½çš„æ–¹å¼ï¼Œä»¥å‡å°‘è¿æ¥Githubå¯¼è‡´çš„é—®é¢˜ã€‚

**ä¸‹è½½åœ°å€**
- è®¿é—®ç™¾åº¦ç½‘ç›˜èµ„æºä»‹ç»é¡µé¢è·å–SDKæºç å‹ç¼©åŒ…:Â [8-SDKæºç å‹ç¼©åŒ…](https://doc.embedfire.com/linux/rk356x/quick_start/zh/latest/quick_start/baidu_cloud/baidu_cloud.html#id1)
- æ ¹æ®é²ç­çŒ«æ¿å¡çš„å‹å·ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„æœ€è¿‘æ—¥æœŸçš„å‹ç¼©åŒ…å³å¯
  ![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/5948558adaafafa5e0f5851e73acd52b.png)
**æ³¨æ„ï¼š** åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå½“SDKæºç è¿›å…¥Releaseç‰ˆæœ¬æˆ–æœ‰é‡å¤§Bugæ—¶ï¼Œå°†ä¼šæ›´æ–°æºç å‹ç¼©åŒ…ã€‚æºç å‹ç¼©åŒ…è§£å‹åˆ°æœ¬åœ°åï¼Œå½“æœ‰Releaseç‰ˆæœ¬æ›´æ–°æ—¶ï¼Œå¯ä»¥å€ŸåŠ©Githubæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚

**è§£å‹æºç ï¼š**
- ä»¥ä¸‹è¿‡ç¨‹ä»¥LubanCat_Linux_rk356x_SDKè¿›è¡Œæ¼”ç¤ºï¼Œå®é™…æ–‡ä»¶åç§°ä»¥è‡ªå·±ä¸‹è½½çš„SDKä¸ºå‡†
```shell
# å®‰è£…tarå‹ç¼©å·¥å…·,ä¸€èˆ¬æ¥è¯´ç³»ç»Ÿé»˜è®¤å®‰è£…äº†
sudo apt install tar

# åœ¨ç”¨æˆ·å®¶ç›®å½•åˆ›å»ºLubanCat_SDKç›®å½•
mkdir ~/LubanCat_SDK

# å°†ä¸‹è½½çš„SDKæºç ç§»åŠ¨åˆ°LubanCat_SDKç›®å½•ä¸‹ï¼Œxxxä¸ºæ—¥æœŸ
mv LubanCat_Linux_rk356x_SDK_xxx.tgz ~/LubanCat_SDK

# è¿›å…¥LubanCat_SDKç›®å½•
cd ~/LubanCat_SDK

# è§£å‹SDKå‹ç¼©åŒ…
tar -xzvf LubanCat_Linux_rk356x_SDK_xxx.tgz

# æ£€å‡º.repoç›®å½•ä¸‹çš„gitä»“åº“
.repo/repo/repo sync -l

# å°†æ‰€æœ‰çš„æºç ä»“åº“åŒæ­¥åˆ°æœ€æ–°ç‰ˆæœ¬
.repo/repo/repo sync -c
```

- å¦‚æœrepo sync -cæ‰§è¡Œæ—¶æç¤ºç½‘ç»œè¿æ¥è¶…æ—¶ï¼Œè¯·æ£€æŸ¥å¹¶èƒ½å¦é€šç•…è®¿é—®githubã€‚ ç¡®è®¤å¯ä»¥æ­£å¸¸è®¿é—®githubçš„è¯ï¼Œå¯ä»¥é‡å¤å¤šæ¬¡æ‰§è¡Œrepo sync -cå‘½ä»¤æ¥è¿›è¡ŒåŒæ­¥ã€‚ è‹¥æ— æ³•è®¿é—®githubï¼Œå¯ä»¥å¿½ç•¥åŒæ­¥æºç ä»“åº“åˆ°æœ€æ–°ç‰ˆæœ¬è¿™ä¸€æ­¥éª¤ã€‚
  ![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/776e98a2841a2550b7f7d04f8a53ef98.png)
- è§£å‹å®Œæˆåcheckoutåˆ°æŒ‡å®šçš„æäº¤ã€‚
  ![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/7e27699e2c242f2cb7240173173427c0.png)
- ä¸€èˆ¬æƒ…å†µä¸‹ç½‘ç›˜ä¿å­˜çš„ç¦»çº¿æºç åŒ…å·²ç»æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œå¦‚æœè·ç¦»ç¦»çº¿æºç åŒ…ä¸‹è½½æ—¶é—´ä¸ä¹…ï¼Œå¯ä»¥å¿½ç•¥ä»Githubåœ¨çº¿æ›´æ–°è¿™ä¸€æ­¥ã€‚
### 5.5 SDKæ›´æ–°

æˆ‘ä»¬ä¼šå¯¹LubanCat_Chip_SDKä¸æ–­æ›´æ–°ï¼Œå¹¶å°†ä¿®æ”¹çš„å†…å®¹å®æ—¶åŒæ­¥åˆ°Githubï¼Œ å¦‚æœéœ€è¦åœ¨æœ¬åœ°LubanCat_Chip_SDKåŒæ­¥æ›´æ–°å†…å®¹ï¼Œåˆ™å¯ä»¥å€ŸåŠ©repoæˆ–gitæ¥å®ç°ã€‚

**æ–¹å¼ä¸€ï¼šä½¿ç”¨repoæ›´æ–°æ•´ä¸ªSDK**
- é¦–å…ˆè¦æ›´æ–°.repo/manifestsï¼Œé‡Œé¢ä¿å­˜äº†repoçš„é…ç½®æ–‡ä»¶ï¼Œè®°å½•äº†ä»“åº“çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚
```shell
# è¿›å…¥.repo/manifestsç›®å½•
cd .repo/manifests

# åˆ‡æ¢åˆ†æ”¯åˆ°Linux
git checkout linux

# æ‹‰å–æœ€æ–°çš„manifests
git pull

#è¿”å›SDKæ ¹ç›®å½•
cd ~/LubanCat_SDK

# åŒæ­¥è¿œç«¯ä»“åº“
.repo/repo/repo sync -c
```

**æ–¹å¼äºŒï¼šä½¿ç”¨gitæ›´æ–°å•ç‹¬çš„æºç ä»“åº“**
- æœ‰æ—¶åªæƒ³æ›´æ–°æŸä¸ªä»“åº“ï¼Œè€Œä¸æ˜¯å»æ›´æ–°æ•´ä¸ªSDKã€‚ æˆ–è€…å·²ç»å¯¹SDKçš„æŸäº›ä»“åº“åšå‡ºäº†ä¿®æ”¹ï¼Œä½¿ç”¨repoåŒæ­¥çš„è¯å°±ä¼šå¤±è´¥ã€‚ æ­¤æ—¶å°±éœ€è¦å¯¹å•ä¸ªä»“åº“è¿›è¡Œæ›´æ–°äº†ã€‚
- è¿™é‡Œä»¥Kernelä»“åº“ä¸ºä¾‹
```shell
# è¿›å…¥kernelç›®å½•ä¸‹
cd kernel

# æ£€å‡ºåˆ°å½“å‰æäº¤æ‰€åœ¨çš„åˆ†æ”¯
# å¯ä»¥æŸ¥çœ‹.repo/manifests/rk356x_linux_release.xml
# name="kernel"æ¡ç›®ä¸­dest-branchå°±æ˜¯è¦åˆ‡æ¢çš„åˆ†æ”¯
git checkout stable-4.19-rk356x

# æ‹‰å–gitä»“åº“
git pull
```

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/32feb3db0a698ca4a869fd72edbf94be.png)

**æ³¨æ„ï¼š** ä¸åŒSDKæˆ–æ¿å¡ä½¿ç”¨çš„åˆ†æ”¯ä¸åŒï¼Œè¯¦ç»†åˆ†æ”¯æ”¯æŒæƒ…å†µè¯·æŸ¥çœ‹Â **Linuxå†…æ ¸çš„ç¼–è¯‘**Â ç« èŠ‚
## 6 è‡ªåŠ¨æ„å»º

LubanCatæ¿å¡å¯¹åº”çš„é…ç½®æ–‡ä»¶åˆ—è¡¨:

|   |   |   |   |
|---|---|---|---|
|é•œåƒè¯´æ˜|bootåˆ†åŒºç±»ä¼¼|æ–‡ä»¶ç³»ç»Ÿ|å¯¹åº”BoardConfigé…ç½®æ–‡ä»¶|
|LubanCat-RK3566ç³»åˆ—é€šç”¨é•œåƒ|extbootåˆ†åŒº|debian|BoardConfig-LubanCat-RK3566-debian-(ç‰ˆæœ¬).mk|
|LubanCat-RK3566ç³»åˆ—é€šç”¨é•œåƒ|extbootåˆ†åŒº|ubuntu|BoardConfig-LubanCat-RK3566-ubuntu-(ç‰ˆæœ¬).mk|
|LubanCat-RK3568ç³»åˆ—é€šç”¨é•œåƒ|extbootåˆ†åŒº|debian|BoardConfig-LubanCat-RK3568-debian-(ç‰ˆæœ¬).mk|
|LubanCat-RK3568ç³»åˆ—é€šç”¨é•œåƒ|extbootåˆ†åŒº|ubuntu|BoardConfig-LubanCat-RK3568-ubuntu-(ç‰ˆæœ¬).mk|

- LubanCat-RK3566é€šç”¨é•œåƒé€‚ç”¨äºLubanCat-1ç³»åˆ—å’ŒLubanCat-0ç³»åˆ—å…¨éƒ¨æ¿å¡
- LubanCat-RK3568é€šç”¨é•œåƒé€‚ç”¨äºLubanCat-2ç³»åˆ—å…¨éƒ¨æ¿å¡

LubanCat_Chip_SDKçš„æ„å»ºè„šæœ¬å¯ä»¥å®ç°è‡ªåŠ¨æ„å»ºï¼Œå…·ä½“æ“ä½œæ–¹å¼å¦‚ä¸‹ï¼š
- åœ¨SDKæ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä»¥`é€‰æ‹©SDKé…ç½®æ–‡ä»¶ï¼Œæ¥é€‰æ‹©è¦æ„å»ºçš„æ¿å¡å’Œæ–‡ä»¶ç³»ç»Ÿç±»å‹`
```shell
./build.sh lunch
```
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/51c9c21c5dae572df6a6c9e3359f1ccb.png)

- ä¹Ÿå¯ä»¥ç›´æ¥è®¾ç½®SDKé…ç½®æ–‡ä»¶ï¼Œæ–¹æ³•å¦‚ä¸‹
```shell
# é€‰æ‹©æ„å»ºLubanCat-RK3566ç³»åˆ—æ¿å¡é€šç”¨debiané•œåƒ
./build.sh BoardConfig-LubanCat-RK3568-debian-xfce.mk
```

é€‰æ‹©SDKé…ç½®æ–‡ä»¶ä»¥åï¼Œè¿˜è¦å®‰è£…debianæ ¹æ–‡ä»¶ç³»ç»Ÿæ„å»ºä¾èµ–çš„è½¯ä»¶åŒ…ï¼Œæ“ä½œå¦‚ä¸‹ã€‚
```shell
#å®‰è£…æœ¬åœ°è½¯ä»¶åŒ…
sudo dpkg -i debian/ubuntu-build-service/packages/*
sudo apt-get install -f
```

**æ³¨æ„ï¼š** ç”±äºdebianå’Œubuntuæ ¹æ–‡ä»¶ç³»ç»Ÿä¸åŒç‰ˆæœ¬æ„å»ºæ‰€éœ€çš„ä¾èµ–åŒ…ç‰ˆæœ¬ä¸åŒï¼Œå½“åˆ‡æ¢äº†æ ¹æ–‡ä»¶ç³»ç»Ÿç‰ˆæœ¬çš„é€‰æ‹©ä»¥åï¼Œå°±éœ€è¦æ ¹æ®è‡ªå·±æ‰€é€‰çš„æ ¹æ–‡ä»¶ç³»ç»Ÿç‰ˆæœ¬å®‰è£…ä¸åŒçš„ä¾èµ–åŒ…ã€‚

å¦‚æœé€‰æ‹©äº†ubuntuæ ¹æ–‡ä»¶ç³»ç»Ÿçš„SDKé…ç½®æ–‡ä»¶ï¼Œå°±éœ€è¦å®‰è£…ubuntuæ ¹æ–‡ä»¶ç³»ç»Ÿæ„å»ºçš„ä¾èµ–è½¯ä»¶åŒ…ï¼Œæ“ä½œå¦‚ä¸‹ã€‚
```shell
#å®‰è£…æœ¬åœ°è½¯ä»¶åŒ…
sudo dpkg -i ubuntu/ubuntu-build-service/packages/*
sudo apt-get install -f
```

å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯æ­£å¸¸ç°è±¡ï¼Œå¿½ç•¥å³å¯ã€‚å¾…è½¯ä»¶åŒ…å®‰è£…å®Œæˆåï¼Œå°±å¯ä»¥è¿›è¡Œä¸€é”®æ„å»ºäº†ã€‚
```shell
# ä¸€é”®ç¼–è¯‘u-Bootï¼Œkernelï¼ŒRootfså¹¶æ‰“åŒ…ä¸ºupdate.imgé•œåƒ
./build.sh
```

`è­¦å‘Šï¼š` å¦‚æœåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å‡ºç°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æç¤ºï¼Œè¯·æ ¹æ®å¯¹åº”è®¾å¤‡æ ‘æ–‡ä»¶ä¸­çš„&pmu_io_domainsèŠ‚ç‚¹ä¸­çš„ç”µå‹å€¼é€‰æ‹©ï¼Œ å¹¶æ³¨æ„é¡ºåºä»pmuio2-supplyå¼€å§‹ã€‚å…¶ä¸­vccio_acodecä¸º3v3ã€vccio_sdä¸º3v3
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/0ccfc5e304a4ab34fc3928a85e2e4cf7.png)

æ„å»ºå¥½çš„é•œåƒä¿å­˜åœ¨rockdev/ç›®å½•ä¸‹ï¼ŒåŒæ—¶åœ¨ä¹Ÿå¯ä»¥ä½¿ç”¨Â **./build.sh save**Â å‘½ä»¤åœ¨IMAGE/ç›®å½•ä¸‹è¿›è¡Œå¤‡ä»½ã€‚
## 7 åˆ†æ­¥æ„å»º

åœ¨è¿›è¡Œå›ºä»¶å¼€å‘æ—¶ï¼Œä¸€é”®æ„å»ºå°±æ˜¾å¾—è¿‡äºè€—æ—¶äº†ï¼Œæ¯ä¸€ä¸ªæ”¹åŠ¨éƒ½è¦æ„å»ºæ•´ä¸ªé•œåƒå¹¶é‡æ–°æ‰“åŒ…ï¼Œ è¿™æ— ç–‘æ˜¯å·¨å¤§çš„æ—¶é—´æµªè´¹ã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨SDKå•ä¸ªæ¨¡å—æ„å»ºçš„åŠŸèƒ½ã€‚
### 7.1 é€‰æ‹©SDKé…ç½®æ–‡ä»¶

é¦–å…ˆï¼Œè¿˜æ˜¯è¦é€‰æ‹©SDKçš„é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œä»¥LubanCat2ç³»åˆ—æ¿å¡çš„é€šç”¨debiané•œåƒä¸ºä¾‹
```shell
# é€‰æ‹©SDKé…ç½®æ–‡ä»¶
./build.sh BoardConfig-LubanCat-RK3568-debian-xfce.mk
```
### 7.2 U-Bootæ„å»º

```shell
./build.sh uboot
```

æ„å»ºç”Ÿæˆçš„U-booté•œåƒä¸º`u-boot/uboot.img`
### 7.3 kernelæ„å»º

**extbootåˆ†åŒº**

extbootåˆ†åŒºå†…æ ¸é•œåƒï¼Œä½¿ç”¨çš„é…ç½®æ–‡ä»¶ä¸ºBoardConfig-LubanCat-RK356x-xxx.mk

è¦å…ˆç”Ÿæˆå†…æ ¸debåŒ…ï¼Œç„¶åå†ç¼–è¯‘å†…æ ¸å¹¶å°†ç”Ÿæˆçš„debåŒ…æ‰“åŒ…è¿›extbootåˆ†åŒºã€‚

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è‡ªåŠ¨å®Œæˆ kernel çš„æ„å»ºåŠæ‰“åŒ…ã€‚
```shell
./build.sh kerneldeb

./build.sh extboot
```

æ„å»ºç”Ÿæˆçš„kernelé•œåƒä¸º`kernel/extboot.img`
### 7.4 rootfsæ„å»º

LubanCatä¸»è¦æ”¯æŒUbuntuã€Debianã€OpenWrtè¿™å‡ ç§rootfsï¼Œ ä¸åŒrootfsçš„æ„å»ºè¿‡ç¨‹ä¸åŒï¼Œè¿™é‡Œåˆ†å¼€è¯´æ˜ã€‚

**æ³¨æ„ï¼š** ç”±äºOpenWrtç³»ç»Ÿçš„æ„å»ºä¸ä½¿ç”¨LubanCat_Chip_SDKï¼Œæ‰€ä»¥ä¸åœ¨æ­¤å¤„è¯´æ˜ï¼Œå…·ä½“æ„å»ºè¿‡ç¨‹æŸ¥çœ‹LubanCatWRTæ„å»ºè¯´æ˜
#### 7.4.1 Debian

é¦–å…ˆè¦ç¡®ä¿SDKçš„é…ç½®æ–‡ä»¶ä¸è¦æ„å»ºçš„rootfsä¸€è‡´ï¼Œ å¦‚æœå½“å‰é…ç½®æ–‡ä»¶ä¸è¦æ„å»ºçš„rootfsä¸ä¸€è‡´ï¼Œéœ€è¦å…ˆåˆ‡æ¢é…ç½®æ–‡ä»¶ã€‚
```shell
# é€‰æ‹©SDKé…ç½®æ–‡ä»¶
./build.sh BoardConfig-LubanCat-RK3568-debian-xfce.mk

# æ„å»ºDebian
./build.sh debian
```

æ„å»ºç”Ÿæˆçš„rootfsé•œåƒä¸ºdebian/linaro-xfce-rootfs.imgï¼ŒåŒæ—¶è¢«è½¯é“¾æ¥åˆ°rockdev/rootfs.ext4

**æ³¨æ„ï¼š** åªæœ‰ä¸å­˜åœ¨debian/linaro-xfce-rootfs.imgæ—¶ï¼Œæ‰ä¼šé‡æ–°æ„å»ºDebianæ ¹æ–‡ä»¶ç³»ç»Ÿã€‚å¦‚æœè¦é‡æ–°æ„å»ºlinaro-xfce-rootfs.imgï¼Œéœ€è¦å…ˆæ‰‹åŠ¨åˆ é™¤ã€‚

**æç¤ºï¼š** ç”±äºæ„å»ºä¸åŒç‰ˆæœ¬çš„rootfså¾ˆå®¹æ˜“é‡åˆ°ç¯å¢ƒä¾èµ–é—®é¢˜ï¼Œæ¨èä¸éœ€è¦é‡æ–°æ„å»ºDebianæ ¹æ–‡ä»¶ç³»ç»Ÿçš„ç”¨æˆ·ç›´æ¥ä¸‹è½½æä¾›çš„å®šåˆ¶æ ¹æ–‡ä»¶ç³»ç»Ÿé•œåƒæˆ–ä½¿ç”¨Dockeræ„å»ºï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹Debianæ ¹æ–‡ä»¶ç³»ç»Ÿæ„å»ºç‹¬ç«‹ç« èŠ‚

ç”±äºä»å¤´æ„å»ºæ ¹æ–‡ä»¶ç³»ç»Ÿä¼šä»ç½‘ç»œè·å–å¾ˆå¤šæ–‡ä»¶ï¼Œå¹¶ä¸”è€—è´¹å¾ˆå¤šæ—¶é—´ã€‚ä¸éœ€è¦è‡ªè¡Œæ„å»ºæ ¹æ–‡ä»¶ç³»ç»Ÿçš„ç”¨æˆ·å¯ä»¥å°†å‘å¸ƒçš„ç³»ç»Ÿé•œåƒä¸­çš„rootfsåˆ†åŒºæå–å‡ºæ¥ç›´æ¥ä½¿ç”¨ã€‚

rootfsåˆ†åŒºæå–éœ€è¦ä½¿ç”¨è§£åŒ…å·¥å…·ï¼Œä½¿ç”¨æ–¹æ³•è¯·æŸ¥çœ‹æœ¬æ–‡æ¡£Â **å®Œæ•´é•œåƒçš„è§£åŒ…å’Œæ‰“åŒ…**Â ç« èŠ‚ã€‚

æå–å‡ºrootfs.imgé•œåƒä»¥åï¼Œå°†rootfs.imgé•œåƒç§»åŠ¨åˆ°SDKç›®å½•ä¸‹çš„debianç›®å½•ä¸­ï¼Œå¹¶æ ¹æ®è§£åŒ…çš„ç³»ç»Ÿé•œåƒçš„åç§°ï¼Œé‡å‘½åä¸ºlinaro-(æ¡Œé¢ç‰ˆæœ¬)-rootfs.imgï¼Œå¦‚linaro-xfce-rootfs.imgã€‚

é‡å‘½åå®Œæˆåï¼Œé‡æ–°é€‰æ‹©ä¸æ ¹æ–‡ä»¶ç³»ç»Ÿé•œåƒä¸€è‡´çš„é…ç½®æ–‡ä»¶è¿›è¡Œç¼–è¯‘
```shell
# é€‰æ‹©SDKé…ç½®æ–‡ä»¶
./build.sh BoardConfig-LubanCat-RK3568-debian-xfce.mk

# æ„å»ºDebian
./build.sh debian

# è¿”å›çš„æç¤ºä¿¡æ¯ï¼šè·³è¿‡é•œåƒæ„å»ºï¼Œåˆ é™¤rootfsé•œåƒåä»¥ä¾¿é‡æ–°æ„å»ºDebianæ ¹æ–‡ä»¶ç³»ç»Ÿé•œåƒ
[    Already Exists IMG,  Skip Make Debian Scripts    ]
[ Delate linaro-xfce-rootfs.img To Rebuild Debian IMG ]
```

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/62cb2fc0666fd24bafe3174d8b9cc6f3.png)


å¦‚æœè¿”å›çš„ä¿¡æ¯ä¸æ–‡ä¸­ä¸€è‡´ï¼Œåˆ™ä½¿ç”¨è§£åŒ…åçš„æ ¹æ–‡ä»¶ç³»ç»Ÿé•œåƒæˆåŠŸ
#### 7.4.2 Ubuntu

ç›®å‰æä¾›Ubuntu18.04/20.04/22.04çš„æ ¹æ–‡ä»¶ç³»ç»Ÿæ„å»ºè„šæœ¬ï¼Œé»˜è®¤ä½¿ç”¨20.04ç‰ˆæœ¬åˆ†æ”¯ï¼Œå¦‚è¦æ„å»ºå…¶ä»–ç‰ˆæœ¬ï¼Œåœ¨æ„å»ºå‰è¦å…ˆæ‹‰å–æ„å»ºæºç ä»“åº“å¹¶åˆ‡æ¢åˆ°å¯¹åº”åˆ†æ”¯ï¼Œå…·ä½“æ“ä½œè¯·æŸ¥çœ‹Ubuntuæ ¹æ–‡ä»¶ç³»ç»Ÿæ„å»ºç‹¬ç«‹ç« èŠ‚ã€‚

**æ³¨è§£ï¼š** æ¨èä½¿ç”¨Ubuntu20.04ç‰ˆæœ¬ï¼Œè¿™æ˜¯ä¸»è¦æ”¯æŒç‰ˆæœ¬ã€‚

é¦–å…ˆè¦ç¡®ä¿SDKçš„é…ç½®æ–‡ä»¶ä¸è¦æ„å»ºçš„rootfsä¸€è‡´ï¼Œ å¦‚æœå½“å‰é…ç½®æ–‡ä»¶ä¸è¦æ„å»ºçš„rootfsä¸ä¸€è‡´ï¼Œéœ€è¦å…ˆåˆ‡æ¢é…ç½®æ–‡ä»¶ã€‚
```shell
# é€‰æ‹©SDKé…ç½®æ–‡ä»¶
./build.sh BoardConfig-LubanCat-RK3568-ubuntu-xfce.mk

# æ„å»ºUbuntu
./build.sh ubuntu
```

æ„å»ºç”Ÿæˆçš„rootfsé•œåƒä¸ºubuntu/ubuntu-xfce-rootfs.imgï¼ŒåŒæ—¶è¢«è½¯é“¾æ¥åˆ°rockdev/rootfs.ext4

**âœï¸æ³¨æ„ï¼š** åªæœ‰ä¸å­˜åœ¨ubuntu/ubuntu-xfce-rootfs.imgæ—¶ï¼Œæ‰ä¼šé‡æ–°æ„å»ºUbuntuæ ¹æ–‡ä»¶ç³»ç»Ÿã€‚å¦‚æœè¦é‡æ–°æ„å»ºubuntu-xfce-rootfs.imgï¼Œéœ€è¦å…ˆæ‰‹åŠ¨åˆ é™¤ã€‚

**ğŸ’¡æç¤ºï¼š** ç”±äºæ„å»ºä¸åŒç‰ˆæœ¬çš„rootfså¾ˆå®¹æ˜“é‡åˆ°ç¯å¢ƒä¾èµ–é—®é¢˜ï¼Œæ¨èä¸éœ€è¦é‡æ–°æ„å»ºUbuntuæ ¹æ–‡ä»¶ç³»ç»Ÿçš„ç”¨æˆ·ç›´æ¥ä¸‹è½½æä¾›çš„å®šåˆ¶æ ¹æ–‡ä»¶ç³»ç»Ÿé•œåƒæˆ–ä½¿ç”¨Dockeræ„å»ºï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹Ubuntuæ ¹æ–‡ä»¶ç³»ç»Ÿæ„å»ºç‹¬ç«‹ç« èŠ‚

ç”±äºä»å¤´æ„å»ºæ ¹æ–‡ä»¶ç³»ç»Ÿä¼šä»ç½‘ç»œè·å–å¾ˆå¤šæ–‡ä»¶ï¼Œå¹¶ä¸”è€—è´¹å¾ˆå¤šæ—¶é—´ã€‚ä¸éœ€è¦è‡ªè¡Œæ„å»ºæ ¹æ–‡ä»¶ç³»ç»Ÿçš„ç”¨æˆ·å¯ä»¥å°†å‘å¸ƒçš„ç³»ç»Ÿé•œåƒä¸­çš„rootfsåˆ†åŒºæå–å‡ºæ¥ç›´æ¥ä½¿ç”¨ã€‚

rootfsåˆ†åŒºæå–éœ€è¦ä½¿ç”¨è§£åŒ…å·¥å…·ï¼Œä½¿ç”¨æ–¹æ³•è¯·æŸ¥çœ‹æœ¬æ–‡æ¡£Â **å®Œæ•´é•œåƒçš„è§£åŒ…å’Œæ‰“åŒ…**Â ç« èŠ‚ã€‚

æå–å‡ºrootfs.imgé•œåƒä»¥åï¼Œå°†rootfs.imgé•œåƒç§»åŠ¨åˆ°SDKç›®å½•ä¸‹çš„ubuntuç›®å½•ä¸­ï¼Œå¹¶æ ¹æ®è§£åŒ…çš„ç³»ç»Ÿé•œåƒçš„åç§°ï¼Œé‡å‘½åä¸ºubuntu-(æ¡Œé¢ç‰ˆæœ¬)-rootfs.imgï¼Œå¦‚ubuntu-xfce-rootfs.imgã€‚

é‡å‘½åå®Œæˆåï¼Œé‡æ–°é€‰æ‹©ä¸æ ¹æ–‡ä»¶ç³»ç»Ÿé•œåƒä¸€è‡´çš„é…ç½®æ–‡ä»¶è¿›è¡Œç¼–è¯‘
```shell
# é€‰æ‹©SDKé…ç½®æ–‡ä»¶
./build.sh BoardConfig-LubanCat-RK3568-ubuntu-xfce.mk

# æ„å»ºUbuntu
./build.sh ubuntu

# è¿”å›çš„æç¤ºä¿¡æ¯ï¼šè·³è¿‡é•œåƒæ„å»ºï¼Œåˆ é™¤rootfsé•œåƒåä»¥ä¾¿é‡æ–°æ„å»ºUbuntuæ ¹æ–‡ä»¶ç³»ç»Ÿé•œåƒ
[    Already Exists IMG,  Skip Make Ubuntu Scripts    ]
[ Delate ubuntu-xfce-rootfs.img To Rebuild Ubuntu IMG ]
```

å¦‚æœè¿”å›çš„ä¿¡æ¯ä¸æ–‡ä¸­ä¸€è‡´ï¼Œåˆ™ä½¿ç”¨è§£åŒ…åçš„æ ¹æ–‡ä»¶ç³»ç»Ÿé•œåƒæˆåŠŸ
### 7.5 é•œåƒæ‰“åŒ…

å½“u-Bootï¼Œkernelï¼ŒRootfséƒ½æ„å»ºå®Œæˆä»¥åï¼Œéœ€è¦å†æ‰§è¡Œ./mkfirmware.sh è¿›è¡Œå›ºä»¶æ‰“åŒ…ï¼Œ ä¸»è¦æ˜¯æ£€æŸ¥åˆ†åŒºè¡¨æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå„ä¸ªåˆ†åŒºæ˜¯å¦ä¸åˆ†åŒºè¡¨é…ç½®å¯¹åº”ï¼Œå¹¶æ ¹æ®é…ç½®æ–‡ä»¶å°†æ‰€æœ‰çš„æ–‡ä»¶å¤åˆ¶æˆ–é“¾æ¥åˆ°rockdev/å†…

ä¸ºäº†æ–¹ä¾¿é•œåƒçš„å‘å¸ƒï¼Œè¿˜å¯ä»¥å°†å„ä¸ªåˆ†ç«‹çš„åˆ†åŒºæ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰“åŒ…å¥½çš„æ–‡ä»¶å°±èƒ½ç”¨äºçƒ§å½•äº†ã€‚

```shell
# å›ºä»¶æ‰“åŒ…
./mkfirmware.sh

# ç”Ÿæˆupdate.img
./build.sh updateimg
```

ä»¥debianç³»ç»Ÿä¸ºä¾‹ï¼Œrockdev/ç›®å½•ä¸‹çš„æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤º
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/9873e38b057d4250843686c47a5c76a6.png)

## 8 SDKé…ç½®æ–‡ä»¶è¯´æ˜

å¦‚æœè¯´./build.sh è„šæœ¬æ˜¯è‚Œè‚‰ï¼Œå®ŒæˆSDKå„éƒ¨åˆ†çš„æ„å»ºå·¥ä½œï¼Œé‚£SDKçš„é…ç½®æ–‡ä»¶åˆ™æ˜¯å¤§è„‘ï¼Œæ§åˆ¶ç€è‚Œè‚‰çš„è¿ä½œæ–¹å¼ã€‚

è™½ç„¶çœ‹èµ·æ¥SDKçš„é…ç½®æ–‡ä»¶æ¡ç›®ç¹å¤šï¼Œä½†åœ¨ä½¿ç”¨ä¸­ï¼Œéœ€è¦å»ä¿®æ”¹çš„å¹¶ä¸å¤šã€‚

è¿™é‡Œä»¥LubanCat-RKç³»åˆ—é…ç½®æ–‡ä»¶ä¸ºä¾‹ï¼Œå…¶ä»–æ¿å¡çš„é…ç½®æ–‡ä»¶ä¹Ÿç±»ä¼¼
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/a70aaa7ebf4a8a2fced79478839c0755.png)

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/3bd8c9f1d9d9c8be355b8865ebd8425d.png)

- RK_ARCHï¼šå®šä¹‰å¤„ç†å™¨æ¶æ„ï¼Œæ— éœ€ä¿®æ”¹
- RK_UBOOT_DEFCONFIGï¼šUbooté…ç½®æ–‡ä»¶
- RK_KERNEL_DEFCONFIGï¼šKernelé…ç½®æ–‡ä»¶
- RK_KERNEL_DEFCONFIG_FRAGMENTï¼šKernelé…ç½®æ–‡ä»¶çš„å åŠ é…ç½®
- RK_KERNEL_DTSï¼šå†…æ ¸è®¾å¤‡æ ‘æ–‡ä»¶å
- RK_BOOT_IMGï¼šbootåˆ†åŒºé•œåƒåç§°ï¼Œæ— éœ€ä¿®æ”¹
- RK_KERNEL_IMGï¼šå†…æ ¸é•œåƒæ‰€åœ¨ä½ç½®ï¼šæ— éœ€ä¿®æ”¹
- RK_PARAMETERï¼šåˆ†åŒºè¡¨åç§°ï¼Œæ— éœ€ä¿®æ”¹
- RK_CFG_BUILDROOTï¼šBuildrooté…ç½®æ–‡ä»¶ï¼Œæ— éœ€ä¿®æ”¹
- RK_CFG_RECOVERYï¼šrevcoveryåˆ†åŒºæ„å»ºçš„é…ç½®æ–‡ä»¶ï¼Œæ— éœ€ä¿®æ”¹
- RK_JOBSï¼šç¼–è¯‘çº¿ç¨‹æ•°ï¼Œå¯æ ¹æ®ç”µè„‘é…ç½®é…Œæƒ…ä¿®æ”¹
- RK_TARGET_PRODUCTï¼šç›®æ ‡èŠ¯ç‰‡ï¼Œæ— éœ€ä¿®æ”¹
- RK_ROOTFS_TYPEï¼šrootfsçš„æ ¼å¼ï¼Œæ— éœ€ä¿®æ”¹
- RK_ROOTFS_IMGï¼šrootfsé•œåƒçš„ä½ç½®ï¼Œæ— éœ€ä¿®æ”¹
- RK_ROOTFS_SYSTEMï¼šrootfsçš„ç±»å‹ï¼Œç›®å‰æ”¯æŒubuntuã€debianï¼Œæ— éœ€ä¿®æ”¹
- RK_DEBIAN_VERSIONï¼šdebianå‘è¡Œç‰ˆæœ¬ï¼Œæš‚ä¸æ”¯æŒä¿®æ”¹
- RK_UBUNTU_VERSIONï¼šUbuntuå‘è¡Œç‰ˆæœ¬ï¼Œæš‚ä¸æ”¯æŒä¿®æ”¹
- RK_ROOTFS_TARGETï¼šrootfsæ˜¯å¦æ”¯æŒæ¡Œé¢æ˜¾ç¤ºï¼Œxfce:æ¡Œé¢ç‰ˆ liteï¼šæ§åˆ¶å°ç‰ˆ xfce-full:æ¡Œé¢ç‰ˆ+æ¨èè½¯ä»¶åŒ…
- RK_ROOTFS_DEBUGï¼šrootfsæ˜¯å¦æ·»åŠ Debugå·¥å…·ï¼Œdebugæ·»åŠ ã€noneä¸æ·»åŠ 
- RK_EXTBOOTï¼šæ˜¯å¦ä½¿ç”¨exbootå†…æ ¸åˆ†åŒº
