
==Dockerfile 是一个被用来构建 Docker 镜像的文本文件==，该文件中包含了一行行的指令（Instruction），这些指令对应着修改、安装、构建、操作的命令，每一行指令构建一层（layer），层层累积，于是有了一个完整的镜像。

说的通俗些，大家可以这样理解： Dockerfile 是一张建筑施工图纸，工人基于这张图纸，一层一层的建造起了一座高楼大厦。

## 1 为什么需要 Dockerfile ?

Dockfile 可以解决镜像如下问题：

### 1.1 镜像透明性问题

> 通常情况下，我们下载镜像都是从 DockerHub 官方仓库拉取镜像，这些镜像都是安全可靠的。但是仓库中也有别人上传的镜像，可以说是完全的黑盒镜像了，镜像被植入了病毒都是有可能的。有了 Dockerfile 就很好的解决了这个问题, 通过它可以清楚的看到镜像每一层的构建指令，从而判断该镜像是否安全可靠。

### 1.2 镜像 layer 层无法复用问题

> 镜像是由一层层的 layer 叠加而成，通过 Dockerfile 构建镜像时，如果发现本地存在可以重复利用的 layer，就不会重复下载，这样可以节省存储空间。
> 
> 举个例子🌰更容易理解：比如你之前已经构建了一个基于 Centos 的，并在其上安装了 JDK 1.8 的镜像；后续，你又有了新的需求，想在之前的镜像基础上，再安装一个 Tomcat， 那么在通过 Dockfile 构建镜像时，前面的 Centos 和 JDK 1.8 层都是可以被复用的。

### 1.3 镜像维护与分享问题

> 通过 Dockerfile 构建、定制的镜像也更易于被维护与分享，如果需要新的定制，直接改 Dockerfile 重新构建就好啦~