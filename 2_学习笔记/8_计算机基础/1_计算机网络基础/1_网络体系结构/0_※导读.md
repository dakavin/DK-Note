## 1、计算机网络在信息时代的作用

计算机网络已由一种`通信基础设施`发展成为一种重要的`信息服务基础设施`

计算机网络已经像水、电、煤气这些基础设施一样，成为我们`生活中不可获取`的一部分

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018001513.png)

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018001529.png)

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018001549.png)
## 2、因特网概述

### 2.1 网络、互联网和因特网

网络（Network）由若干节点（Node）和连接这些节点的链路（Link）组成。

多个网络还可以`通过路由器互连起来`，这样就构成了一个覆盖范围更大的网络，即互联网。因此互联网是“网络的网络（Network of Networks）”

因特网（Internet）是世界上最大的互连网络（用户数以亿计，互连的网络数以百万计）

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018001924.png)

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018002024.png)
### 2.2 因特网发展的三个阶段

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018152036.png)

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018002228.png)

- 因特网服务提供者ISP（Internet Service Provider）![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018002315.png)
- 基于ISP的三层结构的因特网![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018002504.png)
### 2.3 因特网的标准化工作

因特网的标准化工作对因特网的发展起到了非常重要的作用。

因特网在制定其标准上的一个很大特点是`面向公众`
- 因特网所有的`RFC`(Request For Comments)技术文档都可以从因特网免费下载；[http://www.ietf.org/rfc.html]
- 任何人都可以随时用电子邮件发表对某个文档的意见或建议。

`因特网协会ISOC`是一个国际性组织，它负责对因特网进行全面管理，以及在世界范围内促进其发展和使用。
- 因特网体系结构委员会IAD，负责管理因特网有关协议的开发
- 因特网工程部IETF，负责研究中短期工程问题，主要针对协议的开发和标准化
- 因特网研究部IRTF，从事理论方面的研究和开发一些需要长期考虑的问题![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018002930.png)
制定因特网的正式标准要经过一下`4个阶段`：
1. 因特网草案（在这个阶段还不是RFC文档）
2. 建议标准（从这个阶段开始就成为RFC文档）
3. 草案标准
4. 因特网标准

### 2.4 因特网的组成

边缘部分
- 有所有连接在因特网上的`主机`组成。这部分是`用户直接使用`的，用来进行`通信`（传输数据、音频或视频）和`资源共享`。

核心部分
- 由`大量网络`和连接这些网络的`路由器`组成。这部分是`为边缘部分提供服务`的（提供连通性和交换）。

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018003303.png)

## 3、三种交换方式

### 3.1 电路交换（Circuit Switching）

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018003513.png)

电话交换机接通电话线的方式称为电路交换

从通信资源的分配角度来看，交换（Switching）就是按照某种方式动态地分配传输线路的资源

电路交换的三个步骤：
1. 建立连接（分配通信资源）
2. 谈话（一致占用通信资源）
3. 释放连接（归还通信资源）

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018003711.png)

`当使用电路交换来传送计算机数据时，其线路的传输效率往往很低`

### 3.2 分组交换（Packet Switching）

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018003920.png)

发送方：构造分组，发送分组
路由器：缓存分组，转发分组
接收方：接收分组，还原报文
### 3.3 报文交换

主要用于早起的电报通信网，现在较少使用，通常被较先进的分组交换方式锁取代，所以不在赘述；

### 3.4 区别

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018004544.png)

## 4、计算机网络的定义和分类

### 4.1 定义

计算机网络的精确定义并为统一

计算机网络的最简单的定义是：一些`互相连接`的，`自治`的计算机的`集合`
- 互连：是指计算机之前可以通过有线或无线的方式进行数据通信
- 自治：是指独立的计算机，它有自己的硬件和软件，可以单独运行使用
- 集合：是指至少需要两台计算机

计算机网络的较好的定义是：计算机网络主要是由一些`通用的、可编程的硬件`互连而成的，而这些硬件并非专门用来实现某一特定目的（例如，传送数据或视频信号）。这些可编程的硬件能够用来`传送多种不同类型的数据`，并能`支持广泛的和日益增长的应用`。
- 计算机网络所连接的硬件，并不限于一般的计算机，而是包括了只能手机等智能硬件
- 计算机网络并非专门用来传输数据，而是能够支持很多种的应用（包括今后可能出现的各种应用）

### 4.2 分类

按交换技术分类：
- 电路交换网络
- 报文交换网络
- 分组交换网络

按使用者分类
- 公用网
- 专用网

按传输介质分类
- 有线网络
- 无线网络

按覆盖范围分类
- 广域网WAN（Wide Area Network）
- 城域网MAN（Metropolitan Area Network）
- 局域网LAN（Local  Area Network）
- 个域网PAN

按拓扑结构分类
- 总线型网络
- 星型网络
- 环型网络
- 网状型网络

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018005547.png)

## 5、计算机网络的性能指标

性能指标可以从不同的方面来度量计算机网络的性能。

常用的计算机网络的性能指标有以下8个：
- 速率
- 带宽
- 吞吐量
- 时延
- 时延带宽积
- 往返时间
- 利用率
- 丢包率

### 5.1 比特Bit

计算机中`数据量的单位`，也是信息论中信息量的单位。一个比特就是二进制数字汇总的一个1或0

常用数据量单位：
```
8 bit = 1 Byte
KB = 2^10 B
MB = 2^10 KB = 2^20 B
GB = 2^10 MB = 2^20 KB = 2^30 B
TB = 2^10 GB = 2^20 MB = 2^30 KB = 2^40 B
```

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018123647.png)

### 5.2 速率

连接在计算机网络上的主机在数字信道上传送比特的速率，也成为比特率或数据率

常用数据率单位
```
bit/s (b/s,bps)
kb/s = 10^3 b/s(bps)
Mb/s = 10^3 kb/s = 10^6 b/s
Gb/s = 10^3 Mb/s = 10^6 kb/s = 10^9 b/s
Tb/s = 10^3 Gb/s = 10^6 Mb/s = 10^9 kb/s = 10^12 b/s
```

例1：有一个待发送的数据块，大小为100MB，网卡的发送速率为100Mbps，则网卡发送完该数据块需要多长时间？
```
数据转为Byte
100MB = 100 * 2^10 KB = 100 * 2^20 Byte = 100 * 8 * 2^20 bit

速率转为bps
100Mbps = 100 * 10^3 Kbps = 100 * 10^6 bps

所以需要的时间为
Time = （100 * 8 * 2^20）/（100 * 10^6）s = 8.388608s
```

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018124631.png)

### 5.3 带宽

带宽在`模拟信号系统`中的意义：
- 信号所包含的各种不同频率成分所占据的频率范围
- 单位：Hz（kHz，MHz，GHz）
- 在传统的通信线路上传送的电话信号的标准带宽为3.1kHz（300Hz ~ 3.4kHz）

带宽在计算机网络中的意义
- 用来表示网络的`通信线路`所能传送数据的能力，因此网络带宽表示在单位时间内从网络中的某一点到另一点所能通过的“`最高数据率`”
- 单位：b/s（kb/s，Mb/s，Gb/s，Tb/s）

`其实，“带宽”的这两种表述之间有着密切的联系。一条通信线路的“频带宽度”越宽，其所传输数据的“最高数据率”也越高。`
### 5.4 吞吐量

表示在`单位时间内通过某个网络（或信道，接口）的数据量`

被经常用于对现实世界中的网络的一种测量，以便知道实际上到底有多少数据能够通过网络

`受网络的带宽或额定速率的限制`

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018125618.png)

### 5.5 时延

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018125653.png)

`发送时延`：H6主机（源主机）将分组发送至N3（传输线路）所花费的时间，

`传播时延`：在N3（传输线路）上传输所花费的时间

`处理时延`：R1（路由器）收到分组后，对其进行储存转发所花费的时间

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018125926.png)

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018130205.png)

例题：数据块程度为100MB，信道带宽为1Mb/s，传送举例为1000Km，计算发送时延和传播时延
```shell
发送时延 = 100MB / 1Mb/s = 100 * 2^20 * 8 B / 10^6 = 838.8608s

传播时延： 1000000m / 2 * 10^8 = 0.005s
```

`很显然，在本地中发送时延占据主导地位`

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018130744.png)

`很显然，不能想当然的认为发生时延或者传播时延占据主导地位，要具体问题具体分析`

### 5.6 时延带宽积

时延带宽积 =  传播时延 * 带宽

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018130935.png)

- 若发送端连续发送数据，则在锁发送的第一个比特即将到达终点是，发送端就已经发送了时延带宽积个比特；
- 链路的时延带宽积有称为`以比特为单位的链路长度`

### 5.7 往返时间

- 在许多情况下，因特网上的信息不仅仅单方向传输，而是双向交互
- 我们有时很需要知道双向交互一次所需时间
- 因此，往返时间`RTT（Round-Trip Time）`也是一个重要的性能指标

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018131303.png)

一般情况下：卫星时延的耗时较多
### 5.8 利用率

`信道利用率`：用来表示某信道有百分之几的时间是被利用的（有数据通过）
`网络利用率`：全网络的信道利用率的加权平均

根据排队论，当某信道的利用率增大时，该信道引起的时延也会迅速增加；

因此，`信道利用率并非越高越好`

如果令D0表示网络空闲时的时延，D表示网络当前的时延，那么在适当的假定条件下，可以用下面的简单公式来表示D、D0和利用率U之间的关系：
$D=D0/(1-U)$

![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018131909.png)

也不能使信道利用率太低，这会使宝贵的通信资源被白白浪费。应该使用一些机制，可以根据情况动态调整输入到网络中的通信量，使网络利用率保持在一个合理的范围内。

### 5.9 丢包率

即分组的丢失率，是指在一定时间范围内，传输过程中`丢失分组数量与总分组数量的比率`

具体可以分为接口丢包率、结点丢包率、链路丢包率、路径丢包率、网络丢包率等

丢包率是网络运维人员非常关系的一个网络性能指标，但对于普通用户来说往往并不关心这个指标，因为他们通常意识不到网络丢包

分组丢失主要有两种情况：
- 分组在传输过程中出现`误码`，被节点丢弃；![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018132322.png)
- 分组到达一台队列已满的分组交换机时被丢弃；在通信量较大时就可能造成`网络拥塞`。![](https://image-for.oss-cn-guangzhou.aliyuncs.com/for-obsidian/Java_Study/2_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Pasted%20image%2020231018132413.png)
因此，丢包率反映了网络的拥塞情况：
- 无拥塞时路径丢包率为0
- 轻度拥塞时路径丢包率为1% ~ 4%
- 严重拥塞时路径丢包率为5% ~ 15%