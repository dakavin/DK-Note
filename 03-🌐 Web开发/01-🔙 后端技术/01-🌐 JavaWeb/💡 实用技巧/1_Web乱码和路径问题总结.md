---
æ–‡ç« æ ‡é¢˜: "[[1_Webä¹±ç å’Œè·¯å¾„é—®é¢˜æ€»ç»“]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  ç³»ç»Ÿä»‹ç»Webå¼€å‘ä¸­çš„ä¹±ç å’Œè·¯å¾„é—®é¢˜ï¼Œè¯¦ç»†åˆ†æHTMLä¹±ç ã€è¯·æ±‚å“åº”ä¹±ç çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼Œä»¥åŠç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„æ¦‚å¿µã€åº”ç”¨åœºæ™¯å’Œæ­£ç¡®å¤„ç†æ–¹å¼ã€‚
tags:
- "Webå¼€å‘"
- "ä¹±ç é—®é¢˜"
- "å­—ç¬¦ç¼–ç "
- "è·¯å¾„å¤„ç†"
- "JavaWeb"
- "Tomcat"
- "UTF-8"
- "å‰ç«¯å¼€å‘"
ç›¸å…³æ–‡ç« :
- "[[5_JaveWebè½¯ä»¶ç¯å¢ƒéƒ¨ç½²åŠç›¸å…³è®¾ç½®]]"
- "[[3_æ ‡ç­¾ç®¡ç†é¡µé¢å¼€å‘]]"
- "[[3_å­—ç¬¦é›†è¯¦è§£]]"
- "[[4_å­—ç¬¦ç¼–ç å’Œå­—ç¬¦é›†]]"
- "[[6_æ•´åˆ Tailwind CSSç»„ä»¶åº“ï¼šFlowbite]]"
æ–‡ç« åˆ†ç±»: "ğŸŒ Webå¼€å‘"
æ–‡ç« è·¯å¾„: "03-ğŸŒ Webå¼€å‘/01-ğŸ”™ åç«¯æŠ€æœ¯/01-ğŸŒ JavaWeb/ğŸ’¡ å®ç”¨æŠ€å·§/1_Webä¹±ç å’Œè·¯å¾„é—®é¢˜æ€»ç»“.md"
æ–‡ç« éš¾åº¦: åˆçº§ ğŸ’§
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­ æ ¸å¿ƒèƒ½åŠ›
åˆ›å»ºæ—¶é—´: 2024-08-11 18:15:12
ä¿®æ”¹æ—¶é—´: 2025-05-27 23:59:22
---


### åˆ†æè¯´æ˜

è¿™ç¯‡æ–‡ç« ç³»ç»Ÿåœ°ä»‹ç»äº†Webå¼€å‘ä¸­ä¸¤ä¸ªåŸºç¡€ä½†é‡è¦çš„é—®é¢˜ï¼š

1. **ä¹±ç é—®é¢˜**ï¼šä»å­—ç¬¦é›†å…¼å®¹æ€§å‡ºå‘"
- "è¯¦ç»†åˆ†æäº†HTMLä¹±ç ã€Tomcatæ§åˆ¶å°ä¹±ç ã€GET/POSTè¯·æ±‚ä¹±ç ä»¥åŠå“åº”ä¹±ç çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆ"
- "å¼ºè°ƒäº†ç¼–ç è§£ç ä¸€è‡´æ€§çš„é‡è¦æ€§ã€‚

2. **è·¯å¾„é—®é¢˜**ï¼šå…¨é¢è®²è§£äº†ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„æ¦‚å¿µã€åº”ç”¨åœºæ™¯"
- "ä»¥åŠåœ¨å‰ç«¯ä»£ç ã€è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„æ­£ç¡®å¤„ç†æ–¹å¼ã€‚

æ–‡ç« å±äºåˆçº§éš¾åº¦"
- "å› ä¸ºæ¶‰åŠçš„éƒ½æ˜¯Webå¼€å‘çš„åŸºç¡€æ¦‚å¿µ"
- "ä½†å¯¹äºåˆå­¦è€…æ¥è¯´æ˜¯å¿…é¡»æŒæ¡çš„çŸ¥è¯†ç‚¹ã€‚é‡è¦æ€§è¯„ä¸º4æ˜Ÿ"
- "å› ä¸ºè¿™äº›é—®é¢˜åœ¨å®é™…å¼€å‘ä¸­éå¸¸å¸¸è§"
- "è§£å†³è¿™äº›é—®é¢˜æ˜¯Webå¼€å‘çš„åŸºæœ¬æŠ€èƒ½è¦æ±‚ã€‚"
ç›¸å…³æ–‡ç« :
- "[[5_JaveWebè½¯ä»¶ç¯å¢ƒéƒ¨ç½²åŠç›¸å…³è®¾ç½®]]"
- "[[7_Servletã€HTTPå’ŒRequest]]"
- "[[3_å­—ç¬¦é›†è¯¦è§£]]"
- "[[4_å­—ç¬¦ç¼–ç å’Œå­—ç¬¦é›†]]"
- "[[6_Servlet]]"
æ–‡ç« åˆ†ç±»: "ğŸŒ Webå¼€å‘"
æ–‡ç« è·¯å¾„: "03-ğŸŒ Webå¼€å‘/01-ğŸ”™ åç«¯æŠ€æœ¯/01-ğŸŒ JavaWeb/ğŸ’¡ å®ç”¨æŠ€å·§/1_Webä¹±ç å’Œè·¯å¾„é—®é¢˜æ€»ç»“.md"
æ–‡ç« éš¾åº¦: ä¸­çº§ ğŸŒ³
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­ é‡è¦æŠ€èƒ½
åˆ›å»ºæ—¶é—´: 2024-08-11 18:15:12
ä¿®æ”¹æ—¶é—´: 2025-05-27 23:59:02
---

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```


### åˆ†æè¯´æ˜

è¿™ç¯‡æ–‡ç« ç³»ç»Ÿåœ°ä»‹ç»äº†Webå¼€å‘ä¸­ä¸¤ä¸ªåŸºç¡€ä½†é‡è¦çš„é—®é¢˜ï¼š

1. **ä¹±ç é—®é¢˜**ï¼šä»å­—ç¬¦é›†å…¼å®¹æ€§å‡ºå‘"
- "è¯¦ç»†åˆ†æäº†HTMLä¹±ç ã€Tomcatæ§åˆ¶å°ä¹±ç ã€GET/POSTè¯·æ±‚ä¹±ç ä»¥åŠå“åº”ä¹±ç çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆ"
- "å¼ºè°ƒäº†ç¼–ç è§£ç ä¸€è‡´æ€§çš„é‡è¦æ€§ã€‚

2. **è·¯å¾„é—®é¢˜**ï¼šå…¨é¢è®²è§£äº†ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„æ¦‚å¿µã€åº”ç”¨åœºæ™¯"
- "ä»¥åŠåœ¨å‰ç«¯ä»£ç ã€è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„æ­£ç¡®å¤„ç†æ–¹å¼ã€‚

æ–‡ç« å±äºåˆçº§éš¾åº¦"
- "å› ä¸ºæ¶‰åŠçš„éƒ½æ˜¯Webå¼€å‘çš„åŸºç¡€æ¦‚å¿µ"
- "ä½†å¯¹äºåˆå­¦è€…æ¥è¯´æ˜¯å¿…é¡»æŒæ¡çš„çŸ¥è¯†ç‚¹ã€‚é‡è¦æ€§è¯„ä¸º4æ˜Ÿ"
- "å› ä¸ºè¿™äº›é—®é¢˜åœ¨å®é™…å¼€å‘ä¸­éå¸¸å¸¸è§"
- "è§£å†³è¿™äº›é—®é¢˜æ˜¯Webå¼€å‘çš„åŸºæœ¬æŠ€èƒ½è¦æ±‚ã€‚"
ç›¸å…³æ–‡ç« :
- "[[5_JaveWebè½¯ä»¶ç¯å¢ƒéƒ¨ç½²åŠç›¸å…³è®¾ç½®]]"
- "[[7_Servletã€HTTPå’ŒRequest]]"
- "[[3_å­—ç¬¦é›†è¯¦è§£]]"
- "[[4_å­—ç¬¦ç¼–ç å’Œå­—ç¬¦é›†]]"
- "[[6_Servlet]]"
æ–‡ç« åˆ†ç±»: "ğŸŒ Webå¼€å‘"
æ–‡ç« è·¯å¾„: "03-ğŸŒ Webå¼€å‘/01-ğŸ”™ åç«¯æŠ€æœ¯/01-ğŸŒ JavaWeb/ğŸ’¡ å®ç”¨æŠ€å·§/1_Webä¹±ç å’Œè·¯å¾„é—®é¢˜æ€»ç»“.md"
æ–‡ç« éš¾åº¦: ä¸­çº§ ğŸŒ³
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­ é‡è¦æŠ€èƒ½
åˆ›å»ºæ—¶é—´: 2024-08-11 18:15:12
ä¿®æ”¹æ—¶é—´: 2025-05-27 23:59:02
---

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```

## 1 ä¹±ç é—®é¢˜

> ç é—®é¢˜äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ

1. `æ•°æ®çš„ç¼–ç å’Œè§£ç ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†`
2. `ä½¿ç”¨äº†ä¸æ”¯æŒæŸä¸ªè¯­è¨€æ–‡å­—çš„å­—ç¬¦é›†`
    

> å„ä¸ªå­—ç¬¦é›†çš„å…¼å®¹æ€§

![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2905e0762e77a8ffee17fd227315ec0e.png)

- ç”±ä¸Šå›¾å¾—çŸ¥,ä¸Šè¿°å­—ç¬¦é›†éƒ½å…¼å®¹äº†ASCII
    
- ASCIIä¸­æœ‰ä»€ä¹ˆ? è‹±æ–‡å­—æ¯å’Œä¸€äº›é€šå¸¸ä½¿ç”¨çš„ç¬¦å·,æ‰€ä»¥è¿™äº›ä¸œè¥¿æ— è®ºä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†éƒ½ä¸ä¼šä¹±ç 
### 1.1 HTMLä¹±ç 

> è®¾ç½®é¡¹ç›®æ–‡ä»¶çš„å­—ç¬¦é›†è¦ä½¿ç”¨ä¸€ä¸ªæ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†

+ æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„å­—ç¬¦é›†![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/391c5161fbc55afa6fe0108127cc92db.png)
+ æŸ¥çœ‹é¡¹ç›®å­—ç¬¦é›† é…ç½®,å°†Global Encoding å…¨å±€å­—ç¬¦é›†,Project Encoding é¡¹ç›®å­—ç¬¦é›†, Properties Files å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†è®¾ç½®ä¸ºUTF-8![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a95023f7ec6612310a564bcb27d5d546.png)
> å½“å‰è§†å›¾æ–‡ä»¶çš„å­—ç¬¦é›†é€šè¿‡<meta charset="UTF-8"> æ¥å‘ŠçŸ¥æµè§ˆå™¨é€šè¿‡ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ä¸­æ–‡
</body>
</html>
```

### 1.2 Tomcatæ§åˆ¶å°ä¹±ç 

> åœ¨tomcat10.1.7è¿™ä¸ªç‰ˆæœ¬ä¸­,ä¿®æ”¹ tomcat/conf/logging.propertiesä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯

+ ä¿®æ”¹å‰![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bab5d5f0a2bdac6915ef3de52371c8ef.png)
+ ä¿®æ”¹å![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/992abb26749bfc3fe7972ad6fc1e9b92.png)
> soutä¹±ç é—®é¢˜,è®¾ç½®JVMåŠ è½½.classæ–‡ä»¶æ—¶ä½¿ç”¨UTF-8å­—ç¬¦é›†

- è®¾ç½®è™šæ‹ŸæœºåŠ è½½.classæ–‡ä»¶çš„å­—ç¬¦é›†å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´![||380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/18b826c1d59ae2331b98c16bb977628b.png)
### 1.3 è¯·æ±‚ä¹±ç 

#### 1.3.1 GETè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ GETæ–¹å¼æäº¤å‚æ•°çš„æ–¹å¼æ˜¯å°†å‚æ•°æ”¾åˆ°URLåé¢,å¦‚æœä½¿ç”¨çš„ä¸æ˜¯UTF-8,é‚£ä¹ˆä¼šå¯¹å‚æ•°è¿›è¡ŒURLç¼–ç å¤„ç†
+ HTMLä¸­çš„ `<meta charset='å­—ç¬¦é›†'/>` å½±å“äº†GETæ–¹å¼æäº¤å‚æ•°çš„URLç¼–ç 
+ tomcat10.1.7çš„URIç¼–ç é»˜è®¤ä¸º UTF-8
+ å½“GETæ–¹å¼æäº¤çš„å‚æ•°URLç¼–ç å’Œtomcat10.1.7é»˜è®¤çš„URIç¼–ç ä¸ä¸€è‡´æ—¶,å°±ä¼šå‡ºç°ä¹±ç 

> GETè¯·æ±‚æ–¹å¼ä¹±ç æ¼”ç¤º

+ æµè§ˆå™¨è§£æçš„æ–‡æ¡£çš„`<meta charset="GBK" /> `![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3a75786d284abb032f68e6d614abe5f9.png)
+ GETæ–¹å¼æäº¤æ—¶,ä¼šå¯¹æ•°æ®è¿›è¡ŒURLç¼–ç å¤„ç† ,æ˜¯`å°†GBK è½¬ç ä¸º "ç™¾åˆ†å·ç "`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/36e59cd8cb284ffa9133b575686dd651.png)
+ tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å¯¹URIè¿›è¡Œè§£æ,é€ æˆå‰åç«¯ä½¿ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´,å‡ºç°ä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4f7a7ddd46f9196f7ce928d1f534fa5f.png)
> GETè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

- æ–¹å¼1 :è®¾ç½®GETæ–¹å¼æäº¤çš„ç¼–ç å’ŒTomcat10.1.7çš„URIé»˜è®¤è§£æç¼–ç ä¸€è‡´å³å¯ (æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/04473298ad8bea31a3fb55a7af4b02b9.png)
- æ–¹å¼2 : è®¾ç½®Tomcat10.1.7çš„URIè§£æå­—ç¬¦é›†å’ŒGETè¯·æ±‚å‘é€æ—¶æ‰€ä½¿ç”¨URLè½¬ç æ—¶çš„å­—ç¬¦é›†ä¸€è‡´å³å¯,ä¿®æ”¹conf/server.xmlä¸­ Connecter æ·»åŠ  URIEncoding="GBK" (ä¸æ¨è)![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/81bb22be6505bce323acb2a8840e7518.png)

#### 1.3.2 POSTè¯·æ±‚æ–¹å¼ä¹±ç åˆ†æ

+ POSTè¯·æ±‚å°†å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€
+ è¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“
+ Tomcat10.1.7 é»˜è®¤ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“è¿›è¡Œè§£æ
+ å¦‚æœè¯·æ±‚ä½“çš„URLè½¬ç å’ŒTomcatçš„è¯·æ±‚ä½“è§£æç¼–ç ä¸ä¸€è‡´,å°±å®¹æ˜“å‡ºç°ä¹±ç 

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†`<meta charset="å­—ç¬¦é›†"/>` çš„å½±å“

> POSTæ–¹å¼ä¹±ç æ¼”ç¤º

+ POSTè¯·æ±‚è¯·æ±‚ä½“å—åˆ°äº†<meta charset="å­—ç¬¦é›†"/> çš„å½±å“![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f5c5cfd34d6dd716bb6a04e8fe0e88e1.png)

+ è¯·æ±‚ä½“ä¸­,å°†GBKæ•°æ®è¿›è¡Œ URLç¼–ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3245d4d68b47911e6d6971165508e350.png)

+ åç«¯é»˜è®¤ä½¿ç”¨UTF-8è§£æè¯·æ±‚ä½“,å‡ºç°å­—ç¬¦é›†ä¸ä¸€è‡´,å¯¼è‡´ä¹±ç ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9f58e0fd9373492ad55cad1f7fd0749d.png)
> POSTè¯·æ±‚æ–¹å¼ä¹±ç è§£å†³

+ æ–¹å¼1 : è¯·æ±‚æ—¶,ä½¿ç”¨UTF-8å­—ç¬¦é›†æäº¤è¯·æ±‚ä½“ (æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/db7af758f582c4a99aaa74ab04e230d4.png)

+ æ–¹å¼2 : åç«¯åœ¨è·å–å‚æ•°å‰,è®¾ç½®è§£æè¯·æ±‚ä½“ä½¿ç”¨çš„å­—ç¬¦é›†å’Œè¯·æ±‚å‘é€æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ (ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8a24f66eb47c43558b3507f4edd7bad7.png)

### 1.4 å“åº”ä¹±ç 

> å“åº”ä¹±ç åˆ†æ

+ åœ¨Tomcat10.1.7ä¸­,å‘å“åº”ä½“ä¸­æ”¾å…¥çš„æ•°æ®é»˜è®¤ä½¿ç”¨äº†å·¥ç¨‹ç¼–ç  UTF-8
+ æµè§ˆå™¨åœ¨æ¥æ”¶å“åº”ä¿¡æ¯æ—¶,ä½¿ç”¨äº†ä¸åŒçš„å­—ç¬¦é›†æˆ–è€…æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„å­—ç¬¦é›†å°±ä¼šå‡ºç°ä¹±ç 

> å“åº”ä¹±ç æ¼”ç¤º

+ æœåŠ¡ç«¯é€šè¿‡responseå¯¹è±¡å‘å“åº”ä½“æ·»åŠ æ•°æ®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/af734d435069adbe8f35e4fcf3b2bc9a.png)
+ æµè§ˆå™¨æ¥æ”¶æ•°æ®è§£æä¹±ç ![|400|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/fd408bd785d53d46641c80fb50869687.png)
> å“åº”ä¹±ç è§£å†³

+ æ–¹å¼1 : æ‰‹åŠ¨è®¾å®šæµè§ˆå™¨å¯¹æœ¬æ¬¡å“åº”ä½“è§£ææ—¶ä½¿ç”¨çš„å­—ç¬¦é›†(ä¸æ¨è)
	+ edgeå’Œ chromeæµè§ˆå™¨æ²¡æœ‰æä¾›ç›´æ¥çš„æ¯”è¾ƒæ–¹ä¾¿çš„å…¥å£,ä¸æ–¹ä¾¿

+ æ–¹å¼2: åç«¯é€šè¿‡è®¾ç½®å“åº”ä½“çš„å­—ç¬¦é›†å’Œæµè§ˆå™¨è§£æå“åº”ä½“çš„é»˜è®¤å­—ç¬¦é›†ä¸€è‡´(ä¸æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/1e00550829caa17d24190d5ececf426c.png)

æ–¹å¼3: é€šè¿‡è®¾ç½®content-typeå“åº”å¤´,å‘Šè¯‰æµè§ˆå™¨ä»¥æŒ‡å®šçš„å­—ç¬¦é›†è§£æå“åº”ä½“(æ¨è)![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/30e0217800467cb83d3328e70176916c.png)
## 2 è·¯å¾„é—®é¢˜

> ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

+ ç›¸å¯¹è·¯å¾„
	+ ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº
	+ ç›¸å¯¹è·¯å¾„ä¸ä»¥ / å¼€å¤´
	+ åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„
	+ åœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨ ./è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™
	+ ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨../è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ 

+ ç»å¯¹è·¯å¾„
	+ ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»
	+ ç»å¯¹è·¯å¾„è¦ä»¥/ å¼€å¤´
	+ ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥ä¸ä¼šå‡ºç°  ./ å’Œ../
	+ ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š
	+ ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´

+ åº”ç”¨åœºæ™¯
	1. å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§
		- æ ¹æ®é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®å®šç»å¯¹è·¯å¾„
		- æ ¹æ®å½“å‰èµ„æºæ‰€åœ¨ç›®å½•ï¼Œç¡®å®šç›¸å¯¹è·¯å¾„
	2. è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„
		- è½¬å‘
			- ç›¸å¯¹è·¯å¾„ï¼šå†™æ³•å’Œå‰ç«¯ä¸€æ ·
			- `ç»å¯¹è·¯å¾„ï¼šforwardæ–¹æ³•è‡ªå¸¦é¡¹ç›®æ ¹è·¯å¾„`
		- é‡å®šå‘ï¼š
			- ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„çš„å†™æ³•å’Œå‰ç«¯ä¸€æ ·

### 2.1 å‰ç«¯è·¯å¾„é—®é¢˜

å‰ç«¯é¡¹ç›®ç»“æ„![|200|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2d2948b1ae1d4638075bd937938e3ac4.png)
#### 2.1.1 ç›¸å¯¹è·¯å¾„

> ç›¸å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ å½“å‰èµ„æºä¸º                      :  index.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
	+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º      :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ å½“å‰èµ„æºä¸º                      :  test.html
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/a/b/c/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†       : `<img src="../../../static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/a/b/c/)åæ‹¼æ¥srcå±æ€§å€¼(../../../static/img/logo.png),å…¶ä¸­ ../å¯ä»¥æŠµæ¶ˆä¸€å±‚è·¯å¾„,æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

> ç›¸å¯¹è·¯å¾„æƒ…å†µ3:web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ å½“å‰èµ„æºä¸º                      :  view1Servlet
+ å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸º  : http://localhost:8080/web03_war_exploded/
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(http://localhost:8080/web03_war_exploded/)åæ‹¼æ¥srcå±æ€§å€¼(static/img/logo.png),æ­£å¥½æ˜¯ç›®æ ‡èµ„æºæ­£å¸¸è·å–çš„url(http://localhost:8080/web03_war_exploded/static/img/logo.png)

#### 2.1.2 ç»å¯¹è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ1:`web/index.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®index.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/index.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ index.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

> ç»å¯¹è·¯å¾„æƒ…å†µ2:`web/a/b/c/test.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ è®¿é—®test.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/a/b/c/test.html
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ test.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/web03_war_exploded/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

``` html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- ç»å¯¹è·¯å¾„å†™æ³• -->
    <img src="/web03_war_exploded/static/img/logo.png">
</body>
</html>
```

> ç»å¯¹è·¯å¾„æƒ…å†µ3:`web/WEB-INF/views/view1.htmlä¸­å¼•å…¥web/static/img/logo.png`

+ view1.htmlåœ¨WEB-INFä¸‹,éœ€è¦é€šè¿‡Servletè¯·æ±‚è½¬å‘è·å¾—

``` java
@WebServlet("/view1Servlet")
public class View1Servlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        RequestDispatcher requestDispatcher = req.getRequestDispatcher("WEB-INF/views/view1.html");
        requestDispatcher.forward(req,resp);
    }
}
```

+ è®¿é—®view1.htmlçš„urlä¸º   :  http://localhost:8080/web03_war_exploded/view1Servlet
+ ç»å¯¹è·¯å¾„çš„åŸºå‡†è·¯å¾„ä¸º  :  http://localhost:8080
+ è¦è·å–çš„ç›®æ ‡èµ„æºurlä¸º :  http://localhost:8080/web03_war_exploded/static/img/logo.png
+ view1.htmlä¸­å®šä¹‰çš„äº†    : `<img src="/web03_war_exploded/static/img/logo.png"/>`
+ å¯»æ‰¾æ–¹å¼å°±æ˜¯åœ¨åŸºå‡†è·¯å¾„(http://localhost:8080)åé¢æ‹¼æ¥srcå±æ€§å€¼(/static/img/logo.png),å¾—åˆ°çš„æ­£æ˜¯ç›®æ ‡èµ„æºè®¿é—®çš„æ­£ç¡®è·¯å¾„

#### 2.1.3 baseæ ‡ç­¾çš„ä½¿ç”¨

> baseæ ‡ç­¾å®šä¹‰é¡µé¢ç›¸å¯¹è·¯å¾„å…¬å…±å‰ç¼€

+ base æ ‡ç­¾å®šä¹‰åœ¨headæ ‡ç­¾ä¸­,ç”¨äºå®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€
+ `base æ ‡ç­¾å®šä¹‰çš„å…¬å…±å‰ç¼€åªåœ¨ç›¸å¯¹è·¯å¾„ä¸Šæœ‰æ•ˆ,ç»å¯¹è·¯å¾„ä¸­æ— æ•ˆ`
+ å¦‚æœç›¸å¯¹è·¯å¾„å¼€å¤´æœ‰ ./ æˆ–è€…../ä¿®é¥°,åˆ™baseæ ‡ç­¾å¯¹è¯¥è·¯å¾„åŒæ ·æ— æ•ˆ

> index.html å’Œa/b/c/test.html ä»¥åŠview1Servlet ä¸­çš„è·¯å¾„å¤„ç†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„-->
    <base href="/web03_war_exploded/">
</head>
<body>
    <img src="static/img/logo.png">
</body>
</html>
```

#### 2.1.4 ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„

> é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–é—®é¢˜

+ é€šè¿‡ baseæ ‡ç­¾è™½ç„¶è§£å†³äº†ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„é—®é¢˜,ä½†æ˜¯baseä¸­å®šä¹‰çš„æ˜¯é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„
+ é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å¯ä»¥éšæ„å˜åŒ–çš„
+ ä¸€æ—¦é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å‘ç”Ÿå˜åŒ–,æ‰€æœ‰baseæ ‡ç­¾ä¸­çš„è·¯å¾„éƒ½éœ€è¦æ”¹

> è§£å†³æ–¹æ¡ˆ

+ `å°†é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„è¿›è¡Œç¼ºçœè®¾ç½®,è®¾ç½®ä¸º /,æ‰€æœ‰çš„ç»å¯¹è·¯å¾„ä¸­å°±ä¸å¿…å¡«å†™é¡¹ç›®çš„ä¸Šä¸‹æ–‡äº†,ç›´æ¥å°±æ˜¯/å¼€å¤´å³å¯`
### 2.2 é‡å®šå‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±/x/y/z/servletAé‡å®šå‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        
    }
}

```

#### 2.2.1 ç›¸å¯¹è·¯å¾„å†™æ³•

``` java
@WebServlet("/x/y/z/servletA")
public class ServletA extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        // ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html
        resp.sendRedirect("../../../a/b/c/test.html");
    }
}
```

#### 2.2.2 ç»å¯¹è·¯å¾„å†™æ³•

  ``` java
  //ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect("/web03_war_exploded/a/b/c/test.html");
  // é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„
  //resp.sendRedirect(getServletContext().getContextPath()+"/a/b/c/test.html");
  // ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯
  resp.sendRedirect("/a/b/c/test.html");
  ```

`å¯ä»¥é€šè¿‡getContextPathæ–¹æ³•è·å–é¡¹ç›®çš„æ ¹è·¯å¾„ï¼ˆä¸Šä¸‹æ–‡è·¯å¾„ï¼‰`

### 2.3 è¯·æ±‚è½¬å‘ä¸­çš„è·¯å¾„é—®é¢˜

> ç›®æ ‡ :ç”±x/y/servletBè¯·æ±‚è½¬å‘åˆ°a/b/c/test.html

``` java
@WebServlet("/x/y/servletB")
public class ServletB extends HttpServlet {
    @Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    }
}
```

#### 2.3.1 ç›¸å¯¹è·¯å¾„å†™æ³•

  ``` java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("../../a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  
  
  ```

#### 2.3.2 ç»å¯¹è·¯å¾„å†™æ³•

  ```java
  @WebServlet("/x/y/servletB")
  public class ServletB extends HttpServlet {
      @Override
      protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
          RequestDispatcher requestDispatcher = req.getRequestDispatcher("/a/b/c/test.html");
          requestDispatcher.forward(req,resp);
      }
  }
  ```

#### 2.3.3 ç›®æ ‡èµ„æºå†…ç›¸å¯¹è·¯å¾„å¤„ç†

+ æ­¤æ—¶éœ€è¦æ³¨æ„,è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º,æµè§ˆå™¨ä¸çŸ¥é“,åœ°å€æ ä¸å˜åŒ–,ç›¸å½“äºæˆ‘ä»¬è®¿é—®test.htmlçš„è·¯å¾„ä¸ºhttp://localhost:8080/web03_war_exploded/x/y/servletB

+ é‚£ä¹ˆæ­¤æ—¶ test.htmlèµ„æºçš„æ‰€åœ¨è·¯å¾„å°±æ˜¯http://localhost:8080/web03_war_exploded/x/y/æ‰€ä»¥test.htmlä¸­ç›¸å¯¹è·¯å¾„è¦åŸºäºè¯¥è·¯å¾„ç¼–å†™,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„åˆ™ä¸ç”¨è€ƒè™‘

  ``` html
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Title</title>
  </head>
  <body>
      <!--
  		å½“å‰èµ„æºè·¯å¾„æ˜¯     http://localhost:8080/web03_war_exploded/x/y/servletB
          å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„æ˜¯  http://localhost:8080/web03_war_exploded/x/y/
          ç›®æ ‡èµ„æºè·¯å¾„=æ‰€åœ¨èµ„æºè·¯å¾„+srcå±æ€§å€¼ 
  		http://localhost:8080/web03_war_exploded/x/y/../../static/img/logo.png
          http://localhost:8080/web03_war_exploded/static/img/logo.png
  		å¾—åˆ°ç›®æ ‡è·¯å¾„æ­£æ˜¯ç›®æ ‡èµ„æºçš„è®¿é—®è·¯å¾„	
      -->
  <img src="../../static/img/logo.png">
  </body>
  </html>
  ```
