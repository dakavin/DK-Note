---
æ–‡ç« æ ‡é¢˜: "[[10_EL&JSTL]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  ä»‹ç»JSPé«˜çº§ç‰¹æ€§ã€MVCå¼€å‘æ¨¡å¼ã€ELè¡¨è¾¾å¼ã€JSTLæ ‡ç­¾åº“ï¼Œå¹¶é€šè¿‡ç”¨æˆ·ç®¡ç†ç³»ç»Ÿæ¡ˆä¾‹å®è·µä¸‰å±‚æ¶æ„å¼€å‘ã€‚
tags:
- "JSP"
- "MVCæ¶æ„"
- "ELè¡¨è¾¾å¼"
- "JSTLæ ‡ç­¾åº“"
- "ä¸‰å±‚æ¶æ„"
- "JavaWeb"
- "ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ"
- "åˆ†é¡µæŸ¥è¯¢"
ç›¸å…³æ–‡ç« :
- "[[2_ğŸ“•ğŸ“•å‰å°é¦–é¡µï¼šæ–‡ç« åˆ†é¡µæ¥å£å¼€å‘]]"
- "[[2_ä¼˜åŒ–æ–‡ç« åˆ†é¡µæŸ¥è¯¢ç»“æœå±•ç¤º]]"
- "[[3_ğŸ“•æ–‡ç« åˆ†ç±»ï¼šåˆ†é¡µæ¥å£å¼€å‘]]"
- "[[4_JavaEEçš„13é¡¹è§„èŒƒ]]"
- "[[0_å‚è€ƒæ–‡ç« ç´¢å¼•]]"
æ–‡ç« åˆ†ç±»: "ğŸŒ Webå¼€å‘"
æ–‡ç« è·¯å¾„: "03-ğŸŒ Webå¼€å‘/01-ğŸ”™ åç«¯æŠ€æœ¯/01-ğŸŒ JavaWeb/2_JavaWeb(é»‘é©¬)/10_EL&JSTL.md"
æ–‡ç« éš¾åº¦: ä¸­çº§ ğŸŒ³
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­ æ ¸å¿ƒèƒ½åŠ›
åˆ›å»ºæ—¶é—´: 2024-08-11 18:15:12
ä¿®æ”¹æ—¶é—´: 2025-05-27 23:34:19
---

## 1 JSPå‰©ä½™å†…å®¹

### 1.1 æŒ‡ä»¤

* `ä½œç”¨`ï¼šç”¨äºé…ç½®JSPé¡µé¢ï¼Œå¯¼å…¥èµ„æºæ–‡ä»¶

* `æ ¼å¼`ï¼š
	`<%@ æŒ‡ä»¤åç§° å±æ€§å1=å±æ€§å€¼1 å±æ€§å2=å±æ€§å€¼2 ... %>`
	
* `åˆ†ç±»`ï¼š
1. `page		ï¼š é…ç½®JSPé¡µé¢çš„`
	* contentTypeï¼šç­‰åŒäºresponse.setContentType()
		1. è®¾ç½®å“åº”ä½“çš„mimeç±»å‹ä»¥åŠå­—ç¬¦é›†
		2. è®¾ç½®å½“å‰jspé¡µé¢çš„ç¼–ç ï¼ˆåªèƒ½æ˜¯é«˜çº§çš„IDEæ‰èƒ½ç”Ÿæ•ˆï¼Œå¦‚æœä½¿ç”¨<font color="#00b050">ä½çº§å·¥å…·ï¼Œåˆ™éœ€è¦è®¾ç½®pageEncodingå±æ€§è®¾ç½®å½“å‰é¡µé¢çš„å­—ç¬¦é›†</font>ï¼‰
	* importï¼šå¯¼åŒ…
	* errorPageï¼šå½“å‰é¡µé¢å‘ç”Ÿå¼‚å¸¸åï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°æŒ‡å®šçš„é”™è¯¯é¡µé¢
	* isErrorPageï¼šæ ‡è¯†å½“å‰ä¹Ÿæ˜¯æ˜¯å¦æ˜¯é”™è¯¯é¡µé¢ã€‚
		* trueï¼šæ˜¯ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®å¯¹è±¡exception
		* falseï¼šå¦ã€‚é»˜è®¤å€¼ã€‚ä¸å¯ä»¥ä½¿ç”¨å†…ç½®å¯¹è±¡exception
2. `include	ï¼š é¡µé¢åŒ…å«çš„ã€‚å¯¼å…¥é¡µé¢çš„èµ„æºæ–‡ä»¶`
```jsp
<%@include file="top.jsp"%>
```

3. `taglib	ï¼š å¯¼å…¥èµ„æº` ,  prefixï¼šå‰ç¼€ï¼Œè‡ªå®šä¹‰çš„
```jsp
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
```


### 1.2 æ³¨é‡Š

1. htmlæ³¨é‡Šï¼š
	`<!-- -->`ï¼šåªèƒ½æ³¨é‡Šhtmlä»£ç ç‰‡æ®µ
2. jspæ³¨é‡Šï¼šæ¨èä½¿ç”¨
	`<%-- --%>`ï¼šå¯ä»¥æ³¨é‡Šæ‰€æœ‰

### 1.3 å†…ç½®å¯¹è±¡

* åœ¨jspé¡µé¢ä¸­ä¸éœ€è¦åˆ›å»ºï¼Œç›´æ¥ä½¿ç”¨çš„å¯¹è±¡
* ä¸€å…±æœ‰9ä¸ªï¼š

|å˜é‡å|çœŸå®ç±»å‹|ä½œç”¨|
|---|---|--------|
|pageContext|PageContext|å½“å‰é¡µé¢å…±äº«æ•°æ®ï¼Œè¿˜å¯ä»¥è·å–å…¶ä»–å…«ä¸ªå†…ç½®å¯¹è±¡
|request|HttpServletRequest|ä¸€æ¬¡è¯·æ±‚è®¿é—®çš„å¤šä¸ªèµ„æº(è½¬å‘)
|session|HttpSession|ä¸€æ¬¡ä¼šè¯çš„å¤šä¸ªè¯·æ±‚é—´
|application|ServletContext|æ‰€æœ‰ç”¨æˆ·é—´å…±äº«æ•°æ®
|response|HttpServletResponse|å“åº”å¯¹è±¡
| page	|Object|å½“å‰é¡µé¢(Servlet)çš„å¯¹è±¡  this
|out|JspWriter|è¾“å‡ºå¯¹è±¡ï¼Œæ•°æ®è¾“å‡ºåˆ°é¡µé¢ä¸Š
|config|ServletConfig|Servletçš„é…ç½®å¯¹è±¡
|exception|Throwable|å¼‚å¸¸å¯¹è±¡




## 2 MVCå¼€å‘æ¨¡å¼

- `æ³¨æ„ä¸æ˜¯è®¾è®¡æ¨¡å¼`

### 2.1 jspæ¼”å˜å†å²

1. æ—©æœŸåªæœ‰servletï¼Œåªèƒ½ä½¿ç”¨responseè¾“å‡ºæ ‡ç­¾æ•°æ®ï¼Œéå¸¸éº»çƒ¦
2. åæ¥åˆjspï¼Œç®€åŒ–äº†Servletçš„å¼€å‘ï¼Œå¦‚æœè¿‡åº¦ä½¿ç”¨jspï¼Œåœ¨jspä¸­å³å†™å¤§é‡çš„javaä»£ç ï¼Œæœ‰å†™htmlè¡¨ï¼Œé€ æˆéš¾äºç»´æŠ¤ï¼Œéš¾äºåˆ†å·¥åä½œ
3. å†åæ¥ï¼Œjavaçš„webå¼€å‘ï¼Œå€Ÿé‰´mvcå¼€å‘æ¨¡å¼ï¼Œä½¿å¾—ç¨‹åºçš„è®¾è®¡æ›´åŠ åˆç†æ€§

### 2.2 MVC

1. `Mï¼šModelï¼Œæ¨¡å‹ã€‚JavaBean`
	* å®Œæˆå…·ä½“çš„ä¸šåŠ¡æ“ä½œï¼Œå¦‚ï¼šæŸ¥è¯¢æ•°æ®åº“ï¼Œå°è£…å¯¹è±¡
2. `Vï¼šViewï¼Œè§†å›¾ã€‚JSP`
	* å±•ç¤ºæ•°æ®
3. `Cï¼šControllerï¼Œæ§åˆ¶å™¨ã€‚Servlet`
	* è·å–ç”¨æˆ·çš„è¾“å…¥
	* è°ƒç”¨æ¨¡å‹
	* å°†æ•°æ®äº¤ç»™è§†å›¾è¿›è¡Œå±•ç¤º
- ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/6c6cfbf862b1c61efe703f36a4c5971f.png)



### 2.3 ä¼˜ç¼ºç‚¹

- ä¼˜ç‚¹ï¼š
	1. è€¦åˆæ€§ä½ï¼Œæ–¹ä¾¿ç»´æŠ¤ï¼Œå¯ä»¥åˆ©äºåˆ†å·¥åä½œ
	2. é‡ç”¨æ€§é«˜

- ç¼ºç‚¹ï¼š
	1. ä½¿å¾—é¡¹ç›®æ¶æ„å˜å¾—å¤æ‚ï¼Œå¯¹å¼€å‘äººå‘˜è¦æ±‚é«˜


## 3 ELè¡¨è¾¾å¼

### 3.1 æ¦‚å¿µï¼šExpression Language è¡¨è¾¾å¼è¯­è¨€

### 3.2 ä½œç”¨ï¼šæ›¿æ¢å’Œç®€åŒ–jspé¡µé¢ä¸­javaä»£ç çš„ç¼–å†™

### 3.3 è¯­æ³•ï¼š${è¡¨è¾¾å¼}

### 3.4 æ³¨æ„

* jspé»˜è®¤æ”¯æŒelè¡¨è¾¾å¼çš„ã€‚å¦‚æœè¦å¿½ç•¥elè¡¨è¾¾å¼
	1. è®¾ç½®jspä¸­pageæŒ‡ä»¤ä¸­ï¼šisELIgnored="true" å¿½ç•¥å½“å‰jspé¡µé¢ä¸­æ‰€æœ‰çš„elè¡¨è¾¾å¼
	2. `\${è¡¨è¾¾å¼}` ï¼šåœ¨$ç¬¦å·å‰åŠ ä¸Šä¸€ä¸ª`â€œ\â€`å¿½ç•¥å½“å‰è¿™ä¸ªelè¡¨è¾¾å¼

### 3.5 ä½¿ç”¨

- `è¿ç®—`
	1. ç®—æ•°è¿ç®—ç¬¦ï¼š + - * /(div) %(mod)
	2. æ¯”è¾ƒè¿ç®—ç¬¦ï¼š > < >= <= == !=
	3. é€»è¾‘è¿ç®—ç¬¦ï¼š &&(and) ||(or) !(not)
	4. ç©ºè¿ç®—ç¬¦ï¼š empty
		* åŠŸèƒ½ï¼š<font color="#00b050">ç”¨äºåˆ¤æ–­å­—ç¬¦ä¸²ã€é›†åˆã€æ•°ç»„å¯¹è±¡æ˜¯å¦ä¸ºnullæˆ–è€…é•¿åº¦æ˜¯å¦ä¸º0</font>
		* ${empty list}:åˆ¤æ–­å­—ç¬¦ä¸²ã€é›†åˆã€æ•°ç»„å¯¹è±¡æ˜¯å¦ä¸ºnullæˆ–è€…é•¿åº¦ä¸º0
		* ${not empty str}:è¡¨ç¤ºåˆ¤æ–­å­—ç¬¦ä¸²ã€é›†åˆã€æ•°ç»„å¯¹è±¡æ˜¯å¦ä¸ä¸ºnull å¹¶ä¸” é•¿åº¦>0

- `è·å–å€¼`
- elè¡¨è¾¾å¼åªèƒ½ä»åŸŸå¯¹è±¡ä¸­è·å–å€¼ï¼Œè¯­æ³•è§„åˆ™å¦‚ä¸‹
	1. `${åŸŸåç§°.é”®å}`ï¼šä»æŒ‡å®šåŸŸä¸­è·å–æŒ‡å®šé”®çš„å€¼
		* åŸŸåç§°ï¼š
			1. pageScope		--> pageContext
			2. requestScope 	--> request
			3. sessionScope 	--> session
			4. applicationScope --> applicationï¼ˆServletContextï¼‰
		* ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a3a2b825ef7b50056968b664d2b5d460.png)


	2. `${é”®å}`ï¼šè¡¨ç¤ºä¾æ¬¡ä»æœ€å°çš„åŸŸä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰è¯¥é”®å¯¹åº”çš„å€¼ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚
	3. `è·å–å¯¹è±¡ã€Listé›†åˆã€Mapé›†åˆçš„å€¼`
		- å¯¹è±¡ï¼š${åŸŸåç§°.é”®å.å±æ€§å}ï¼Œæœ¬è´¨ä¸Šä¼šå»è°ƒç”¨å¯¹è±¡çš„getteræ–¹æ³•![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f9e448eef548aadd448f6aa1b206bdc9.png)
		- Listé›†åˆï¼š${åŸŸåç§°.é”®å[ç´¢å¼•]}
		- Mapé›†åˆï¼š
			* ${åŸŸåç§°.é”®å.keyåç§°}
			* ${åŸŸåç§°.é”®å["keyåç§°"]}

- `éšå¼å¯¹è±¡`ï¼š
	* elè¡¨è¾¾å¼ä¸­æœ‰11ä¸ªéšå¼å¯¹è±¡
	* pageContextï¼š
		* è·å–jspå…¶ä»–å…«ä¸ªå†…ç½®å¯¹è±¡
			* ${pageContext.request.contextPath}ï¼šåŠ¨æ€è·å–è™šæ‹Ÿç›®å½•


## 4 JSTL

### 4.1 æ¦‚å¿µ

- `JavaServer Pages Tag Library`  JSPæ ‡å‡†æ ‡ç­¾åº“
* æ˜¯ç”±Apacheç»„ç»‡æä¾›çš„å¼€æºçš„å…è´¹çš„jspæ ‡ç­¾    <æ ‡ç­¾>

### 4.2 ä½œç”¨

- `ç”¨äºç®€åŒ–å’Œæ›¿æ¢jspé¡µé¢ä¸Šçš„javaä»£ç `

### 4.3 ä½¿ç”¨æ­¥éª¤

1. å¯¼å…¥jstlç›¸å…³jaråŒ…
2. å¼•å…¥æ ‡ç­¾åº“ï¼štaglibæŒ‡ä»¤ï¼š  `<%@ taglib %>`
3. ä½¿ç”¨æ ‡ç­¾

### 4.4 å¸¸ç”¨çš„JSTLæ ‡ç­¾

1. `if`:ç›¸å½“äºjavaä»£ç çš„`ifè¯­å¥`
	1. å±æ€§ï¼š
		* test å¿…é¡»å±æ€§ï¼Œæ¥å—booleanè¡¨è¾¾å¼
			* å¦‚æœè¡¨è¾¾å¼ä¸ºtrueï¼Œåˆ™æ˜¾ç¤ºifæ ‡ç­¾ä½“å†…å®¹ï¼Œå¦‚æœä¸ºfalseï¼Œåˆ™ä¸æ˜¾ç¤ºæ ‡ç­¾ä½“å†…å®¹
			* ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œtestå±æ€§å€¼ä¼šç»“åˆelè¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨
	 2. æ³¨æ„ï¼š
		 * c:ifæ ‡ç­¾æ²¡æœ‰elseæƒ…å†µï¼Œæƒ³è¦elseæƒ…å†µï¼Œåˆ™å¯ä»¥å†å®šä¹‰ä¸€ä¸ªc:ifæ ‡ç­¾
2. `choose`:ç›¸å½“äºjavaä»£ç çš„`switchè¯­å¥`
	1. ä½¿ç”¨chooseæ ‡ç­¾å£°æ˜         			ç›¸å½“äºswitchå£°æ˜
	2. ä½¿ç”¨whenæ ‡ç­¾åšåˆ¤æ–­         			ç›¸å½“äºcase
	3. ä½¿ç”¨otherwiseæ ‡ç­¾åšå…¶ä»–æƒ…å†µçš„å£°æ˜    	ç›¸å½“äºdefault

3. `foreach`:ç›¸å½“äºjavaä»£ç çš„`forè¯­å¥`![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/8404cb6c125ac7067823e19c616757c0.png)

### 4.5 ç»ƒä¹ 

* éœ€æ±‚ï¼šåœ¨requeståŸŸä¸­æœ‰ä¸€ä¸ªå­˜æœ‰Userå¯¹è±¡çš„Listé›†åˆã€‚éœ€è¦ä½¿ç”¨jstl+elå°†listé›†åˆæ•°æ®å±•ç¤ºåˆ°jspé¡µé¢çš„è¡¨æ ¼tableä¸­

```jsp
<%@ page contentType="text/html;charset=UTF-8" language="java" %>  
<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>  
<html>  
<head>  
    <title>jtslå°ç»ƒä¹ </title>  
</head>  
<body>  
<%--    åœ¨requeståŸŸä¸­æœ‰ä¸€ä¸ªå­˜æœ‰Userå¯¹è±¡çš„Listé›†åˆã€‚  
        éœ€è¦ä½¿ç”¨jstl+elå°†listé›†åˆæ•°æ®å±•ç¤ºåˆ°jspé¡µé¢çš„è¡¨æ ¼tableä¸­  
--%>  
    <%  
        List<User> list = new ArrayList<>();  
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");  
        for (int i = 1; i <=3; i++) {  
            try {  
                list.add(new User("user"+i,i+20,sdf.parse("1999-05-0"+i)));  
            } catch (ParseException e) {  
                throw new RuntimeException(e);  
            }  
        }  
        request.setAttribute("list",list);  
    %>  
  
    <table border="1px" width="500px" align="center">  
        <tr>  
            <th>åºå·</th>  
            <th>å§“å</th>  
            <th>å¹´é¾„</th>  
            <th>ç”Ÿæ—¥</th>  
        </tr>  
        <c:forEach items="${list}" var="list" varStatus="s">  
            <c:if test="${s.count%2==0}">  
                <tr bgcolor="#ffc0cb">  
                    <td>${s.count}</td>  
                    <td>${list.name}</td>  
                    <td>${list.age}</td>  
                    <td>${list.birStr}</td>  
                </tr>  
            </c:if>  
            <c:if test="${s.count%2!=0}">  
                <tr bgcolor="#00ffff">  
                    <td>${s.count}</td>  
                    <td>${list.name}</td>  
                    <td>${list.age}</td>  
                    <td>${list.birStr}</td>  
                </tr>  
            </c:if>  
        </c:forEach>  
    </table>  
  
</body>  
</html>
```

## 5 ä¸‰å±‚æ¶æ„:è½¯ä»¶è®¾è®¡æ¶æ„

1. ç•Œé¢å±‚(è¡¨ç¤ºå±‚)ï¼šç”¨æˆ·çœ‹çš„å¾—ç•Œé¢ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ç•Œé¢ä¸Šçš„ç»„ä»¶å’ŒæœåŠ¡å™¨è¿›è¡Œäº¤äº’
2. ä¸šåŠ¡é€»è¾‘å±‚ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘çš„ã€‚
3. æ•°æ®è®¿é—®å±‚ï¼šæ“ä½œæ•°æ®å­˜å‚¨æ–‡ä»¶ã€‚
4. ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/ffa6ab2bb470ca5bf9a0784d2e773d37.png)



## 6 æ¡ˆä¾‹

### 6.1 å¼€å‘æµç¨‹

1. `éœ€æ±‚`ï¼šç”¨æˆ·ä¿¡æ¯çš„å¢åˆ æ”¹æŸ¥æ“ä½œ
2. `è®¾è®¡`ï¼š
	1. `æŠ€æœ¯é€‰å‹`ï¼šServlet+JSP+MySQL+JDBCTempleat+Duird+BeanUtilS+tomcat
	2. `æ•°æ®åº“è®¾è®¡`ï¼š
```mysql
create database day17; -- åˆ›å»ºæ•°æ®åº“
use day17; 			   -- ä½¿ç”¨æ•°æ®åº“
create table user(   -- åˆ›å»ºè¡¨
	id int primary key auto_increment,
	name varchar(20) not null,
	gender varchar(5),
	age int,
	address varchar(32),
	qq	varchar(20),
	email varchar(50)
);
```

3. `å¼€å‘`ï¼š
	- ç¯å¢ƒæ­å»º
		- åˆ›å»ºæ•°æ®åº“ç¯å¢ƒ
		- åˆ›å»ºé¡¹ç›®ï¼Œå¯¼å…¥éœ€è¦çš„jaråŒ…
			- Servlet ---> Tomcatä¸­çš„jaråŒ…
			- JSP ---> jstlæ ‡ç­¾æ‰€éœ€è¦çš„jaråŒ…
			- JDBC ---> æ•°æ®åº“è¿æ¥åŠè¿æ¥æ± ï¼Œæ“ä½œå·¥å…·ç±»ï¼Œ
			- æ“ä½œJavaBean ---> BeanUtils
		- å¯¼å…¥å‰ç«¯å·²ç»ç¼–å†™å¥½çš„é™æ€é¡µé¢

	- ç¼–ç 
	- é¡µé¢å±‚
		- ä¸»ç•Œé¢index.jsp
			- æœ‰ä¸€ä¸ªaæ ‡ç­¾è·³è½¬åˆ°list.jspé¡µé¢
		- æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯é¡µé¢list.jsp
			- å¯¼å…¥æ•°æ®åº“ä¸­çš„æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ELå’ŒJSTLåœ¨JSPé¡µé¢ç›´æ¥è·å–æ‰€æœ‰ç”¨æˆ·çš„é›†åˆï¼Œå¹¶éå†
			- å…¶ä¸­æ‰€æœ‰ç”¨æˆ·çš„é›†åˆé€šè¿‡é€»è¾‘å±‚è¿›è¡Œè·å–
			- å¯ä»¥å¯¹ç”¨æˆ·è¿›è¡Œä¿®æ”¹å’Œåˆ é™¤æ“ä½œ
		- ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯é¡µé¢update.jsp
			- ç®€å•ä¸šåŠ¡é€»è¾‘æ“ä½œå³å¯
			- `æ³¨æ„ç”¨æˆ·åä¸ç”¨ä¿®æ”¹çš„æƒ…å†µï¼Œç”¨æˆ·åå¦‚ä½•è·å–å€¼`
		- åˆ é™¤ç”¨æˆ·ä¿¡æ¯
			- ç®€å•ä¸šåŠ¡é€»è¾‘æ“ä½œå³å¯
			- `æ³¨æ„åˆ é™¤ä¿æŠ¤æœºåˆ¶`ï¼Œ`è¿˜æœ‰ç”¨æˆ·ååº”è¯¥æ€ä¹ˆä¼ å€¼é—®é¢˜`
			- ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/d1c9b5706c7577fa69570275d01404da.png)


		- å¢åŠ ç”¨æˆ·ä¿¡æ¯é¡µé¢add.jsp
			- ç®€å•ä¸šåŠ¡é€»è¾‘æ“ä½œå³å¯
		- ç®¡ç†å‘˜ç™»é™†é¡µé¢login.jsp
			- ç”¨æˆ·ç™»é™†é¡µé¢
			- ä¸šåŠ¡é€»è¾‘ä¸ºé€šè¿‡è¾“å…¥ä¿¡æ¯åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æ­£ç¡®

	- ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆUserServiceã€UserServiceImplï¼‰
		- `ç®€å•åŠŸèƒ½`
		- è·å–æ‰€æœ‰ç”¨æˆ·çš„é›†åˆï¼ˆæŸ¥è¯¢å¤šä¸ªç”¨æˆ·ï¼‰
		- ä¿®æ”¹ç”¨æˆ·
		- å¢åŠ ç”¨æˆ·
		- åˆ é™¤ç”¨æˆ·
		- ç”¨æˆ·ç™»é™†
		- `å¤æ‚åŠŸèƒ½`
		- åˆ é™¤é€‰ä¸­
		- åˆ†é¡µåŠŸèƒ½
		- å¤æ‚æ¡ä»¶æŸ¥è¯¢

	- æ•°æ®è®¿é—®å±‚ï¼ˆBaseDaoã€UserDaoã€UserDaoImplï¼‰
		- æŸ¥è¯¢å•ä¸ªç”¨æˆ·
		- æŸ¥è¯¢å¤šä¸ªç”¨æˆ·
		- å¢åŠ ç”¨æˆ·
		- åˆ é™¤ç”¨æˆ·
		- ä¿®æ”¹ç”¨æˆ·
		
1. `æµ‹è¯•`
2. `éƒ¨ç½²è¿ç»´`


![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/96cf6afea0cd4b38935efaef17af6028.png)




### 6.2 ç®€å•åŠŸèƒ½å¯¹æ¯”åˆ†æåŠä¼˜åŒ–
1. å…³äºç™»é™†åŠŸèƒ½
	- åº”è¯¥ä½¿ç”¨Beanutilsï¼Œé€šè¿‡mapé›†åˆå’ŒUserçš„å¯¹è±¡ï¼Œç»™è¯¥å¯¹è±¡çš„å¯¹åº”çš„å±æ€§è¿›è¡Œèµ‹å€¼ï¼Œå³å¯ï¼ï¼ï¼
	- åç»­æ¶‰åŠåˆ°Userçš„å±æ€§èµ‹å€¼ï¼Œéƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªï¼ï¼ï¼
	- å¦‚ï¼šä¿®æ”¹ç”¨æˆ·ï¼Œåˆ é™¤ç”¨æˆ·å’Œæ·»åŠ ç”¨æˆ·ç­‰


2. å…³äºæ·»åŠ åŠŸèƒ½
	- ä½¿ç”¨BeanUtlis
	- æ·»åŠ ä¸€ä¸ªè½¬è¡Œé¡µé¢ï¼Œä½¿å¾—æ·»åŠ æˆåŠŸåï¼Œ`é¡µé¢è‡ªåŠ¨å®šæ—¶è·³è½¬`ä¼šlisté¡µé¢ï¼Œè¯¦è§[[3_JavaScript#6.4 Locationï¼šåœ°å€æ å¯¹è±¡||å®šæ—¶è‡ªåŠ¨è·³è½¬æ¡ˆä¾‹]]

3. å…³äºåˆ é™¤åŠŸèƒ½
	- bug --- > é€šè¿‡ç”¨æˆ·ååˆ é™¤ç”¨æˆ·ï¼Œè¿™ä¸ªæ–¹æ³•ä¸å¯é ï¼Œå› ä¸ºç”¨æˆ·åä¸æ˜¯å”¯ä¸€çš„ï¼Œå®¹æ˜“åŒæ—¶åˆ é™¤å¤šä¸ªç”¨æˆ·ï¼Œåº”è¯¥ä½¿ç”¨å”¯ä¸€çš„ï¼Œå³æ•°æ®åº“ä¸­çš„idå±æ€§ï¼ï¼
	- `åˆ é™¤è¦å¢åŠ ä¿æŠ¤åŠŸèƒ½`

4. å…³äºä¿®æ”¹åŠŸèƒ½
	- éœ€è¦ä¸€ä¸ª`æ•°æ®å›æ˜¾çš„åŠŸèƒ½`ï¼Œè€Œä¸æ˜¯ä¸èƒ½ä¿®æ”¹ç”¨æˆ·å
		- å…ˆæ ¹æ®listä¸­çš„ç”¨æˆ·idï¼ŒæŸ¥è¯¢åˆ°è¯¥ç”¨æˆ·çš„ä¿¡æ¯
		- ç„¶åè·³è½¬åˆ°ä¿®æ”¹è”ç³»äººçš„é¡µé¢ï¼Œå¹¶æ˜¾ç¤ºåŸæœ‰æ•°æ®
	- ä¿®æ”¹å®Œæˆåï¼Œå°†æ•°æ®å­˜å…¥æ•°æ®åº“ä¸­ï¼ï¼
	- ç”¨æˆ·çš„idï¼Œåœ¨updata.jspä¸­ä½¿ç”¨`éšè—åŸŸ`è¿›è¡Œä¼ é€’
	- ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/6ace66a66459d99b49d85d280134195a.png)


### 6.3 å¤æ‚åŠŸèƒ½åˆ†æ
1. åˆ é™¤é€‰ä¸­
	- é€»è¾‘åˆ†æ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/a3668dba2806b83dbcc2da54f7fa51d4.png)
	- éš¾ç‚¹ä¸»è¦åœ¨è·å–é€‰ä¸­çš„ç”¨æˆ·çš„idä¿¡æ¯
		1. å¯ä»¥åœ¨tableæ ‡ç­¾å¤–å±‚åµŒå¥—ä¸€ä¸ªæäº¤è¡¨å•ï¼Œç”¨äºè·å–æ‰€æœ‰é€‰ä¸­çš„ç”¨æˆ·idä¿¡æ¯ï¼›
		2. å°†è¯¥è¡¨å•çš„æäº¤äº‹ä»¶ï¼Œç»‘å®šåœ¨åˆ é™¤é€‰ä¸­çš„æŒ‰é’®å¤„ï¼›
		3. å½“åˆ é™¤æŒ‰é’®ç‚¹å‡»æ—¶ï¼Œå°±å‡ºå‘è¯¥è¡¨å•çš„æäº¤ï¼›
	- ä¼˜åŒ–
		- æ·»åŠ å…¨é€‰åŠŸèƒ½![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/6991b79210fbcb935e9f9e730c061aec.png)


		- åˆ é™¤ä¿æŠ¤åŠŸèƒ½ï¼Œæ²¡æœ‰é€‰ä¸­å°±åˆ é™¤çš„bugå¤„ç†![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/e42ab06fe730ab4a77b09cf99554d890.png)






2. `åˆ†é¡µæŸ¥è¯¢`
	- å¥½å¤„ï¼šå‡è½»æœåŠ¡å†…å­˜çš„å¼€é”€ï¼Œå¹¶æå‡ç”¨æˆ·çš„ä½“éªŒ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/0fea78bbf610335ded89e31f32299cef.png)
	![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3080f23b31d1eb5ca7dabaee1673d5d8.png)


	- ä»£ç ä¼˜åŒ–ï¼š
		1. é»˜è®¤è®¿é—®é¡µé¢çš„æ—¶å€™ï¼Œè®¾ç½®ä¸ºç¬¬1é¡µï¼›
		2. è·³è½¬é¡µé¢éƒ½è·³è½¬åˆ°FindUserByPageServletå»
		3. é¡µç å¤„é«˜äº®![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bd082d947fd14096c008bf0883e3bd7e.png)


		4. é¡µç åŠŸèƒ½ä¸Šä¸‹é¡µæ¢å¤
		5. ä¼šæœ‰-1é¡µè¶…å‡ºé¡µé¢ï¼Œé€šè¿‡å‰ç«¯æ”¹å˜å›¾ç‰‡ï¼Œç„¶åé€šè¿‡åç«¯é™åˆ¶currentPage![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3ca1793418b555ea6cdc5d610af041c6.png)



4. å¤æ‚æ¡ä»¶æŸ¥è¯¢
	- ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f8bc210a924af8fa412a8eb4e4db1c96.png)


	- ç›´æ¥åœ¨FindUserByPageServletä¸­ä¿®æ”¹å³å¯


### 6.4 è¡¥å……å°å·¥å…·
- è¡¥å……åŠŸèƒ½ï¼šåœ¨mysqlä¸­æ·»åŠ å¤šæ¡æ•°æ®
	- ä½¿ç”¨äº†å¾ªç¯å’ŒcaseåŠŸèƒ½
```mysql
delimiter //
create procedure add_user(in count int)
begin
	declare i int default 1;
	while i<=count do
		insert  into `user1`(`name`,`gender`,`age`,`address`,`qq`,`email`) 
		values (
		concat('lisi-',i),
		case  i%2 when 0 Then 'å¥³' when 1 Then 'ç”·' end,
		i,
		case i%3 when 0 then 'åŒ—äº¬'  when 1 then 'é™•è¥¿' when 2 then 'æ¹–å—' end,
		CONCAT(i,i,i,i,i),
		concat(i,'@itcast.cn')
		);
		set i = i +1;
	END While;
end //
delimiter ;

		 
drop procedure add_user
set @count=5;
call add_user(@count);
```

