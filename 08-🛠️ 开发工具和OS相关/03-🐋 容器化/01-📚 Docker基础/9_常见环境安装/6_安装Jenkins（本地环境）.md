---
æ–‡ç« æ ‡é¢˜: "[[6_å®‰è£…Jenkinsï¼ˆæœ¬åœ°ç¯å¢ƒï¼‰]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†Jenkinsä½œä¸ºå¼€æºæŒç»­é›†æˆ/éƒ¨ç½²å·¥å…·çš„å®šä¹‰å’Œä¼˜åŠ¿ã€‚é‡ç‚¹æä¾›äº†Jenkinsçš„æœ¬åœ°Dockerå®‰è£…æ•™ç¨‹ï¼Œæ¶µç›–æ‹‰å–é•œåƒã€è¿è¡Œå®¹å™¨ã€æµè§ˆå™¨è®¿é—®ã€è·å–åˆå§‹å¯†ç ã€å®‰è£…æ’ä»¶åŠåˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·ï¼Œæ—¨åœ¨å¸®åŠ©è¯»è€…å¿«é€Ÿæ­å»ºJenkinsç¯å¢ƒã€‚
tags:
- "Jenkins"
- "Docker"
- "CI/CD"
- "æŒç»­é›†æˆ"
- "æœ¬åœ°éƒ¨ç½²"
- "è‡ªåŠ¨åŒ–"
- "å®‰è£…æ•™ç¨‹"
ç›¸å…³æ–‡ç« :
- "[[8_è¡¥å……ï¼šæœ¬åœ°ä½¿ç”¨Dockerå®‰è£…Jenkins]]"
- "[[4_å§¿åŠ¿3ï¼šä½¿ç”¨ GitHub Actionï¼ˆå‰ç«¯é¡¹ç›®ï¼‰]]"
- "[[6_å§¿åŠ¿4ï¼šä½¿ç”¨ Jenkinsï¼ˆåç«¯ï¼‰]]"
- "[[2_ğŸ“•Docker æœ¬åœ°å®‰è£… Minio å¯¹è±¡å­˜å‚¨]]"
- "[[1_å‰è¨€]]"
æ–‡ç« åˆ†ç±»: "ğŸ› ï¸ å¼€å‘å·¥å…·å’ŒOSç›¸å…³"
æ–‡ç« è·¯å¾„: "08-ğŸ› ï¸ å¼€å‘å·¥å…·å’ŒOSç›¸å…³/03-ğŸ‹ å®¹å™¨åŒ–/01-ğŸ“š DockeråŸºç¡€/9_å¸¸è§ç¯å¢ƒå®‰è£…/6_å®‰è£…Jenkinsï¼ˆæœ¬åœ°ç¯å¢ƒï¼‰.md"
æ–‡ç« éš¾åº¦: åˆçº§ ğŸ’§
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­ æ ¸å¿ƒèƒ½åŠ›
åˆ›å»ºæ—¶é—´: 2024-08-11 18:15:12
ä¿®æ”¹æ—¶é—´: 2025-05-27 00:47:16
---


## 1 ä»€ä¹ˆæ˜¯ Jenkins ?

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/f4f8d77a36be0bef88bd119a5af75a18.png)

> Jenkins æ˜¯**ä¸€ä¸ªå¼€æºçš„æŒç»­é›†æˆï¼ˆContinuous Integrationï¼‰å·¥å…·ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å¸®åŠ©å¼€å‘å›¢é˜Ÿè‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²è½¯ä»¶é¡¹ç›®**ã€‚é€šä¿—æ¥è¯´ï¼ŒJenkins å¯ä»¥åœ¨æ¯æ¬¡ä»£ç å˜æ›´æ—¶ï¼Œå¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨è¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œï¼Œä¾‹å¦‚ç¼–è¯‘ä»£ç ã€è¿è¡Œæµ‹è¯•ã€ç”Ÿæˆæ–‡æ¡£ï¼Œç”šè‡³æ˜¯å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚

## 2 ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Jenkins å‘¢ï¼Ÿ

- **è‡ªåŠ¨åŒ–æ„å»ºå’Œæµ‹è¯•ï¼š**Â Jenkins å¯ä»¥ç›‘è§†ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆå¦‚ Gitï¼‰ä¸­çš„ä»£ç å˜æ›´ï¼Œä¸€æ—¦æœ‰æ–°çš„æäº¤ï¼Œå°±è§¦å‘è‡ªåŠ¨æ„å»ºå’Œæµ‹è¯•æµç¨‹ã€‚è¿™æœ‰åŠ©äºå‘ç°æ½œåœ¨çš„é—®é¢˜ï¼Œç¡®ä¿ä»£ç çš„è´¨é‡ã€‚
    
- **æŒç»­é›†æˆï¼š**Â Jenkins æ”¯æŒæŒç»­é›†æˆï¼Œå³é¢‘ç¹åœ°å°†å°çš„ä»£ç å˜æ›´åˆå¹¶åˆ°ä¸»å¹²ï¼Œå¹¶é€šè¿‡è‡ªåŠ¨æ„å»ºå’Œæµ‹è¯•æ¥éªŒè¯è¿™äº›å˜æ›´ã€‚è¿™æœ‰åŠ©äºå‡å°‘é›†æˆé—®é¢˜ï¼Œæé«˜å›¢é˜Ÿçš„åä½œæ•ˆç‡ã€‚
    
- **è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼š**Â Jenkins å¯ä»¥è‡ªåŠ¨åŒ–éƒ¨ç½²åº”ç”¨ç¨‹åºåˆ°æµ‹è¯•ç¯å¢ƒã€é¢„ç”Ÿäº§ç¯å¢ƒç”šè‡³ç”Ÿäº§ç¯å¢ƒã€‚é€šè¿‡å®šä¹‰éƒ¨ç½²æµç¨‹ï¼Œå¯ä»¥å‡å°‘äººä¸ºé”™è¯¯ï¼Œç¡®ä¿éƒ¨ç½²çš„ä¸€è‡´æ€§ã€‚
    
- **æ’ä»¶ç”Ÿæ€ç³»ç»Ÿï¼š**Â Jenkins æ‹¥æœ‰ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿï¼Œæ”¯æŒå„ç§å¼€å‘å·¥å…·ã€æ„å»ºå·¥å…·å’Œéƒ¨ç½²ç›®æ ‡ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°å°† Jenkins é›†æˆåˆ°ä½ çš„å¼€å‘å·¥ä½œæµä¸­ã€‚
    
- **å¯æ‰©å±•æ€§ï¼š**Â Jenkins æ˜¯å¼€æºçš„ï¼Œå¹¶ä¸”å…·æœ‰å¼ºå¤§çš„å¯æ‰©å±•æ€§ã€‚ä½ å¯ä»¥æ ¹æ®å›¢é˜Ÿçš„éœ€æ±‚å®šåˆ¶è‡ªå·±çš„æ„å»ºå’Œéƒ¨ç½²æµç¨‹ï¼Œæ»¡è¶³ç‰¹å®šé¡¹ç›®çš„è¦æ±‚ã€‚
    

## 3 æ‹‰å–é•œåƒ

æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·Â `PowerShell`Â , æ‰§è¡Œæœç´¢å‘½ä»¤ï¼Œå¦‚ä¸‹:

```
docker search jenkins
```

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/c4cb7873bc987f74f816fece3636f503.png)

æ³¨æ„ï¼Œä»æœç´¢ç»“æœä¸­ï¼Œä½ ä¼šçœ‹åˆ°å®˜æ–¹æä¾›çš„Â `jenkins`Â é•œåƒæè¿°ï¼Œæç¤ºæˆ‘ä»¬è¯¥é•œåƒå·²ç»è¿‡æœŸï¼Œä¸å†ç»´æŠ¤äº†ã€‚æµè§ˆå™¨è®¿é—®Â [DockerHub](https://hub.docker.com/r/jenkins/jenkins)Â , æœç´¢å…³é”®å­—Â _jenkins_Â , æ‰¾åˆ°ç›®å‰æ­£åœ¨ç»´æŠ¤çš„ç‰ˆæœ¬ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæç¤ºæˆ‘ä»¬é€šè¿‡å¦‚ä¸‹å‘½ä»¤ï¼Œæ¥ä¸‹è½½æœ€æ–°çš„Â `LTS`Â é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼š

```
docker pull jenkins/jenkins:lts-jdk17
```

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/50321e424227eda713bd4331e891ccca.png)

é•œåƒä¸‹è½½æˆåŠŸåï¼Œé€šè¿‡Â `docker images`Â å‘½ä»¤æ¥æ£€æŸ¥ä¸€ä¸‹é•œåƒæ˜¯å¦ä¸‹è½½æˆåŠŸï¼š

![](https://img.quanxiaoha.com/quanxiaoha/170471148754819)

## 4 è¿è¡Œå®¹å™¨

æ¥ç€ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥è¿è¡ŒÂ `jenkins`Â å®¹å™¨ï¼š

```
docker run -d -u root -p 8080:8080 -p 50000:50000 -v E:\docker-data\jenkins\jenkins_home:/var/jenkins_home --name jenkins jenkins/jenkins:lts-jdk17
```

> è§£é‡Šä¸€ä¸‹æ¯ä¸ªå‚æ•°çš„å«ä¹‰ï¼š
> 
> - `docker run`:Â è¿è¡Œ Docker å®¹å™¨çš„å‘½ä»¤ã€‚
> - `-d`:Â åœ¨åå°è¿è¡Œå®¹å™¨ï¼Œå³â€œdetachedâ€æ¨¡å¼ã€‚
> - `-u root`:Â ä»¥ root ç”¨æˆ·èº«ä»½è¿è¡Œå®¹å™¨ã€‚è¿™é€šå¸¸ç”¨äºç¡®ä¿å®¹å™¨å†…çš„è¿›ç¨‹å…·æœ‰è¶³å¤Ÿçš„æƒé™æ‰§è¡Œéœ€è¦çš„æ“ä½œã€‚
> - `-p 8080:8080`:Â å°†å®¹å™¨å†…éƒ¨çš„ 8080 ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„ 8080 ç«¯å£ã€‚Jenkins æœåŠ¡é€šå¸¸åœ¨ 8080 ç«¯å£ä¸Šè¿è¡Œã€‚
> - `-p 50000:50000`:Â å°†å®¹å™¨å†…éƒ¨çš„ 50000 ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„ 50000 ç«¯å£ã€‚è¿™æ˜¯ Jenkins ä½¿ç”¨çš„ç”¨äºæ„å»ºå’Œæ‰§è¡Œä»»åŠ¡çš„ç«¯å£ã€‚
> - `-v E:\docker-data\jenkins\jenkins_home:/var/jenkins_home`:Â å°†å®¿ä¸»æœºä¸Šçš„ç›®å½•ï¼ˆE:\docker\jenkins\jenkins_homeï¼‰æŒ‚è½½åˆ°å®¹å™¨å†…çš„ /var/jenkins_home ç›®å½•ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿ Jenkins æ•°æ®å’Œé…ç½®æŒä¹…åŒ–ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤ï¼Œæ•°æ®ä»ç„¶ä¿å­˜åœ¨å®¿ä¸»æœºä¸Šã€‚
> - `--name jenkins`:Â ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼Œå³ "jenkins"ã€‚
> - `jenkins/jenkins:lts-jdk17`:Â æŒ‡å®šè¦è¿è¡Œçš„ Docker é•œåƒçš„åç§°å’Œç‰ˆæœ¬ã€‚åœ¨è¿™é‡Œï¼Œä½¿ç”¨çš„æ˜¯ Jenkins çš„ LTS ç‰ˆæœ¬ï¼Œå†…éƒ¨ä½¿ç”¨çš„ JDK 17ã€‚

å‘½ä»¤æ‰§è¡Œåï¼Œæ‰§è¡ŒÂ `docker ps`Â å‘½ä»¤æ¥æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œç¡®è®¤ä¸€ä¸‹å®¹å™¨æ˜¯å¦è¿è¡ŒæˆåŠŸï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/99a8e2bab4be7386d42b3082f0be6f64.png)

## 5 è®¿é—® Jenkins

ç„¶åï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—®Â [http://localhost:8080](http://localhost:8080/)Â , é¦–æ¬¡è®¿é—®å¯èƒ½é€Ÿåº¦è¾ƒæ…¢ï¼Œè¯·è€å¿ƒç­‰å¾…ä¸€ä¼šï¼Œä¼šå‡ºç°å¦‚ä¸‹é¡µé¢ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/0d2a2f06d8b61acf2fefb76852e2904a.png)

éœ€è¦ä½ æä¾›**ç®¡ç†å‘˜å¯†ç **Â ï¼Œ å¯†ç å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤ï¼Œæ¥æŸ¥çœ‹Â `jenkins`Â å®¹å™¨çš„å¯åŠ¨æ—¥å¿—ï¼š

```
docker logs jenkins
```

åœ¨æ—¥å¿—ä¸­ï¼Œå¯ä»¥çœ‹åˆ°è¯¥å¯†ç ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°†å…¶å¤åˆ¶ç²˜è´´åˆ°è¾“å…¥æ¡†ä¸­ï¼Œç‚¹å‡» _ç»§ç»­_ æŒ‰é’®ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/0ba5ed24d4899ca32962a89def2fb451.png)


## 6 å®‰è£…æ’ä»¶

æ¥ç€ï¼Œè¿›å…¥åˆ°å¦‚ä¸‹é¡µé¢ï¼Œç‚¹å‡»å·¦è¾¹çš„ _å®‰è£…æ¨èçš„æ’ä»¶_Â ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/f7ca60e5e74102a9376e8d5a8a7148ff.png)


å¼€å§‹å®‰è£…Â `jenkins`Â éœ€è¦çš„å¸¸ç”¨æ’ä»¶ï¼Œè¿‡ç¨‹æ¯”è¾ƒæ…¢ï¼Œç­‰å¾…å…¶å…¨éƒ¨å®‰è£…å®Œæ¯•ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/32638140e51f14ba213afea07507a42c.png)


## 7 é…ç½®ç®¡ç†å‘˜ç”¨æˆ·

æ’ä»¶å®‰è£…å®Œæ¯•åï¼Œå¼€å§‹é…ç½®ç®¡ç†å‘˜ç”¨æˆ·ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/d15754da79bd758de69f67e95aba7772.png)


> **æ³¨æ„**ï¼š åç»­å†æ¬¡ç™»å½•Â `jenkins`Â åå°éœ€è¦ï¼ŒåŠ¡å¿…è®°ä½ç™»å½•ç”¨æˆ·åå’Œå¯†ç ã€‚

åé¢ç»§ç»­ç‚¹å‡»å®Œæˆï¼Œæœ€åç‚¹å‡» _å¼€å§‹ä½¿ç”¨ Jenkins_Â æŒ‰é’®ï¼Œè¿›å…¥åˆ°Â `Jenkins`Â åå°é¦–é¡µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè‡³æ­¤ï¼Œ`Jenkins`Â å°±å®‰è£…å¥½å•¦ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/f059f8b33910914843c7b979d3f9ce49.png)
