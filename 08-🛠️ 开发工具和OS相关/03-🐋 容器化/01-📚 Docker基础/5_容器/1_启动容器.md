---
æ–‡ç« æ ‡é¢˜: "[[1_å¯åŠ¨å®¹å™¨]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  æ–‡ç« ä»‹ç»äº†Dockerå¯åŠ¨å®¹å™¨çš„ä¸¤ç§æ ¸å¿ƒæ–¹å¼ï¼šåŸºäºé•œåƒæ–°å»ºä¸é‡å¯ç»ˆæ­¢å®¹å™¨ã€‚è¯¦ç»†è®²è§£äº†`docker run`å‘½ä»¤çš„æ™®é€šã€äº¤äº’å¼åŠå®ˆæŠ¤æ€ç”¨æ³•ï¼Œå¹¶ç®€è¿°äº†å…¶æ‰§è¡Œæµç¨‹ï¼Œæœ€åæ¼”ç¤ºäº†`docker container start`å‘½ä»¤ã€‚
tags:
- "Docker"
- "å®¹å™¨"
- "å¯åŠ¨"
- "docker run"
- "docker container start"
- "å®ˆæŠ¤æ€"
- "äº¤äº’å¼"
ç›¸å…³æ–‡ç« :
- "[[3_å¤‡ä»½ã€æ¢å¤å’Œè¿ç§»æ•°æ®]]"
- "[[5_é‡å¯å®¹å™¨]]"
- "[[6_å¯¼å‡º&å¯¼å…¥å®¹å™¨]]"
- "[[0_å¯¼è®º]]"
- "[[15_ä½¿ç”¨Dockeræ„å»ºæ ¹æ–‡ä»¶ç³»ç»Ÿï¼ˆSkipï¼‰]]"
æ–‡ç« åˆ†ç±»: "ğŸ› ï¸ å¼€å‘å·¥å…·å’ŒOSç›¸å…³"
æ–‡ç« è·¯å¾„: "08-ğŸ› ï¸ å¼€å‘å·¥å…·å’ŒOSç›¸å…³/03-ğŸ‹ å®¹å™¨åŒ–/01-ğŸ“š DockeråŸºç¡€/5_å®¹å™¨/1_å¯åŠ¨å®¹å™¨.md"
æ–‡ç« éš¾åº¦: åˆçº§ ğŸ’§
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­â­ ç²¾é€šå¿…å¤‡
åˆ›å»ºæ—¶é—´: 2024-08-11 18:15:12
ä¿®æ”¹æ—¶é—´: 2025-05-28 01:03:09
---

Docker å¯åŠ¨å®¹å™¨æœ‰ä¸¤ç§æ–¹å¼ï¼š

1. åŸºäºé•œåƒæ–°å»ºä¸€ä¸ªå®¹å™¨å¹¶å¯åŠ¨ï¼›
2. å°†å¤„äºç»ˆæ­¢çŠ¶æ€ ï¼ˆ`exited`ï¼‰çš„å®¹å™¨é‡æ–°å¯åŠ¨ï¼›
## 1 åŸºäºé•œåƒæ–°å»ºå®¹å™¨å¹¶å¯åŠ¨

é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥å¯åŠ¨å®¹å™¨ï¼š

```
docker run IMAGE:TAG
```

å‚æ•°è¯´æ˜ï¼š

- `IMAGE`: é•œåƒåç§°ï¼›
- `TAG`: æ ‡ç­¾ï¼Œé•œåƒç‰ˆæœ¬å·ï¼›

ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼Œæ¯”å¦‚æƒ³å¯åŠ¨ä¸€ä¸ªÂ `ubuntu`Â å®¹å™¨, å¹¶é€šè¿‡ç»ˆç«¯è¾“å‡ºÂ `Hello world`ï¼š
![image.png|300](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/8f9d2978c0dd56ed2914e7856d8805f7.png)

æ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š
```
docker run ubuntu:latest /bin/echo 'Hello world'
```

![image.png|300](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/7fe0beeb1159b89783872870ffb05c50.png)

æ³¨æ„ï¼Œä¸Šé¢è¿™è¡Œå‘½ä»¤è¿è¡Œå®¹å™¨ï¼Œåœ¨è¾“å‡ºÂ `Hello world`Â åå°±ä¼šç»ˆæ­¢è¿è¡Œã€‚å¦‚æœæƒ³ä»¥äº¤äº’çš„æ–¹å¼è¿è¡Œå®¹å™¨ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š

```
docker run -t -i ubuntu:latest /bin/bash
```

![image.png|300](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/15a84a56d6762ec6a31b4d39dc366c38.png)
ä»¥äº¤äº’çš„æ–¹å¼è¿è¡Œ docker å®¹å™¨

å‚æ•°è¯´æ˜ï¼š
- `-t`: è®© Docker åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆpseudo-ttyï¼‰å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Š;
- `-i`: è®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€;

å¦‚æ­¤ï¼Œå°±å¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤äº†ï¼š
```
root@c355025f2241:/# ls
bin  boot  dev  etc  home  lib  lib32  lib64  libx32  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
root@c355025f2241:/# date
Sun Jul  3 03:47:41 UTC 2022
```

### 1.1 æ‹“å±•çŸ¥è¯†ï¼šæ‰§è¡ŒÂ `docker run`Â åï¼ŒDocker éƒ½å¹²äº†äº›å•¥ï¼Ÿ

- ==æ£€æŸ¥æœ¬åœ°æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„é•œåƒ==ï¼Œä¸å­˜åœ¨å°±ä»Â [registry](https://www.quanxiaoha.com/docker/docker-run-container.html)Â ä¸‹è½½
- ==åˆ©ç”¨é•œåƒåˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªå®¹å™¨==
- åˆ†é…ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶==åœ¨åªè¯»çš„é•œåƒå±‚å¤–é¢æŒ‚è½½ä¸€å±‚å¯è¯»å†™å±‚==
- ä»å®¿ä¸»ä¸»æœºé…ç½®çš„ç½‘æ¡¥æ¥å£ä¸­æ¡¥æ¥ä¸€ä¸ªè™šæ‹Ÿæ¥å£åˆ°å®¹å™¨ä¸­å»
- ä»åœ°å€æ± é…ç½®ä¸€ä¸ª ip åœ°å€ç»™å®¹å™¨
- æ‰§è¡Œç”¨æˆ·æŒ‡å®šçš„åº”ç”¨ç¨‹åº
- æ‰§è¡Œå®Œæ¯•åå®¹å™¨è¢«ç»ˆæ­¢

### 1.2 ä»¥ daemon å®ˆæŠ¤æ€æ–¹å¼è¿è¡Œå®¹å™¨

å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦è®©å®¹å™¨ä»¥åå°çš„æ–¹å¼è¿è¡Œï¼Œä»¥æ­¤ä¿è¯ä¸€ä¸ªç¨³å®šçš„æœåŠ¡ã€‚

è¿è¡Œå®¹å™¨æ—¶æ·»åŠ Â `-d`Â å‚æ•°å¯ä»¥è®©å®¹å™¨ä»¥åå°çš„æ–¹å¼è¿è¡Œï¼Œä¾‹å¦‚å¯åŠ¨ä¸€ä¸ª Ubuntu åå°å®¹å™¨ï¼Œå¹¶æ¯éš”ä¸€ç§’æ‰“å°Â `Hello world`ï¼Œå‘½ä»¤å¦‚ä¸‹:

```
docker run -d ubuntu:latest /bin/sh -c "while true; do echo hello world; sleep 1; done"
```

æ‰§è¡ŒæˆåŠŸåï¼Œä¼šè¿”å›ä¸€ä¸ªå®¹å™¨ IDã€‚
![image.png|300](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/b2be66671d17fd9169aaaf10a1fe578a.png)

åå°è¿è¡Œçš„å®¹å™¨å¯ä»¥é€šè¿‡Â `docker logs`Â å‘½ä»¤æ¥æŸ¥çœ‹æ—¥å¿—ï¼š

```
docker container logs [container ID or NAMES]
```

## 2 å¯åŠ¨ç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨

æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¯ä»¥å°†å·²ç»ç»ˆæ­¢ ï¼ˆ`exited`ï¼‰è¿è¡Œçš„å®¹å™¨é‡å¯ã€‚

```
docker container start [container ID or NAMES]
```

æµ‹è¯•ä¸€æ³¢å¥½ä¸å¥½ä½¿ï¼Œå…ˆé€šè¿‡Â `docker ps`Â å‘½ä»¤è·å–æ­£åœ¨è¿è¡Œçš„å®¹å™¨:

![image.png|300](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/dbe7667e4c56cdb97f8470664bfa7e12.png)

æœ¬åœ°æœ‰ä¸ª Redis å®¹å™¨æ­£åœ¨è¿è¡Œï¼Œå…ˆæ‹¿åˆ°å®¹å™¨ ID æˆ–è€…å®¹å™¨åç§°ï¼Œæ‰§è¡ŒÂ `docker stop`Â åœæ­¢å®ƒåï¼Œå†æ‰§è¡ŒÂ `docker container start`Â å‘½ä»¤é‡å¯è¿™ä¸ª Redis å®¹å™¨ :

![image.png|300](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/87239a592dde93d3c97aece49c8b5125.png)

![image.png|300](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/105e31f376833a3446a15543e5cf7c6c.png)

å¯ä»¥çœ‹åˆ°ï¼ŒæˆåŠŸé‡å¯äº†ä¸€ä¸ªç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ã€‚