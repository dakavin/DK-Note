---
æ–‡ç« æ ‡é¢˜: "[[2_yarnçš„å®‰è£…å’Œä½¿ç”¨]]"
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  æœ¬æ–‡å…¨é¢ä»‹ç»äº†YarnåŒ…ç®¡ç†å·¥å…·ï¼ŒåŒ…æ‹¬å…¶ä½œä¸ºnpmæ›¿ä»£å“çš„ç‰¹ç‚¹ï¼ˆé€Ÿåº¦ã€å®‰å…¨ã€å¯é ï¼‰ï¼Œè¯¦ç»†çš„å®‰è£…æ­¥éª¤ï¼Œä»¥åŠä¸€ç³»åˆ—å¸¸ç”¨çš„å‘½ä»¤è¡Œæ“ä½œã€‚æ–‡ç« ç‰¹åˆ«å¼ºè°ƒäº†Yarnçš„`yarn.lock`æœºåˆ¶åœ¨è§£å†³ä¾èµ–ç‰ˆæœ¬ä¸€è‡´æ€§é—®é¢˜ä¸Šçš„ä¼˜åŠ¿ã€‚
tags:
  - Yarn
  - npm
  - åŒ…ç®¡ç†å·¥å…·
  - ä¾èµ–ç®¡ç†
  - å‘½ä»¤è¡Œ
  - å‰ç«¯å¼€å‘
ç›¸å…³æ–‡ç« :
  - "[[11_Nodejs + npm]]"
  - "[[1_Vue 3ç¯å¢ƒå®‰è£… å’Œ blogå‰ç«¯é¡¹ç›®æ­å»º]]"
  - "[[6_æ•´åˆ Tailwind CSSç»„ä»¶åº“ï¼šFlowbite]]"
  - "[[0_å¿«æ·é”®å¤§å…¨]]"
  - "[[0_vscodeçš„å®‰è£…ä¸ä½¿ç”¨]]"
æ–‡ç« åˆ†ç±»: ğŸ› ï¸ å¼€å‘å·¥å…·å’ŒOSç›¸å…³
æ–‡ç« è·¯å¾„: 08-ğŸ› ï¸ å¼€å‘å·¥å…·å’ŒOSç›¸å…³/02-ğŸ”§ ç‰ˆæœ¬æ§åˆ¶/04-ğŸ’¡ å®ç”¨æŠ€å·§/2_yarnçš„å®‰è£…å’Œä½¿ç”¨.md
æ–‡ç« éš¾åº¦: åˆçº§ ğŸ’§
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­â­ ç²¾é€šå¿…å¤‡
åˆ›å»ºæ—¶é—´: 2024-08-11 18:15:12
ä¿®æ”¹æ—¶é—´: 2025-05-28 01:03:09
---

## 1 yarnçš„ç®€ä»‹

Yarnæ˜¯facebookå‘å¸ƒçš„ä¸€æ¬¾å–ä»£npmçš„åŒ…ç®¡ç†å·¥å…·ã€‚

## 2 yarnçš„ç‰¹ç‚¹

é€Ÿåº¦è¶…å¿«ã€‚
Yarn ç¼“å­˜äº†æ¯ä¸ªä¸‹è½½è¿‡çš„åŒ…ï¼Œæ‰€ä»¥å†æ¬¡ä½¿ç”¨æ—¶æ— éœ€é‡å¤ä¸‹è½½ã€‚ åŒæ—¶åˆ©ç”¨å¹¶è¡Œä¸‹è½½ä»¥æœ€å¤§åŒ–èµ„æº åˆ©ç”¨ç‡ï¼Œå› æ­¤å®‰è£…é€Ÿåº¦æ›´å¿«ã€‚
è¶…çº§å®‰å…¨ã€‚
åœ¨æ‰§è¡Œä»£ç ä¹‹å‰ï¼ŒYarn ä¼šé€šè¿‡ç®—æ³•æ ¡éªŒæ¯ä¸ªå®‰è£…åŒ…çš„å®Œæ•´æ€§ã€‚
è¶…çº§å¯é ã€‚
ä½¿ç”¨è¯¦ç»†ã€ç®€æ´çš„é”æ–‡ä»¶æ ¼å¼å’Œæ˜ç¡®çš„å®‰è£…ç®—æ³•ï¼ŒYarn èƒ½å¤Ÿä¿è¯åœ¨ä¸åŒç³»ç»Ÿä¸Šæ— å·®å¼‚çš„å·¥ä½œã€‚

## 3 yarnçš„å®‰è£…:

```shell
npm install -g yarn
npm uninstall yarn -g  //yarnå¸è½½
```

- æŸ¥çœ‹yarnçš„å®‰è£…
```shell
yarn -v  // æŸ¥çœ‹yarn ç‰ˆæœ¬
```

- å¦‚æœä½¿ç”¨yarnæŒ‡ä»¤å‡ºé”™ï¼Œè¯·æ£€æŸ¥ç¯å¢ƒå˜é‡ä¸­ï¼Œæ˜¯å¦æœ‰nodeå…¨å±€æ–‡ä»¶å¤¹

## 4 yarnçš„å¸¸ç”¨å‘½ä»¤

```shell
yarn -v  // æŸ¥çœ‹yarn ç‰ˆæœ¬
yarn config list  // æŸ¥çœ‹yarné…ç½®
yarn config get registry   // æŸ¥çœ‹å½“å‰yarnæº

// ä¿®æ”¹yarnæºï¼ˆæ­¤å¤„ä¸ºæ·˜å®çš„æºï¼‰
yarn config set registry https://registry.npm.taobao.org  

// yarnå®‰è£…ä¾èµ–
yarn add åŒ…å          // å±€éƒ¨å®‰è£…
yarn global add åŒ…å   // å…¨å±€å®‰è£…

// yarn å¸è½½ä¾èµ–
yarn remove åŒ…å         // å±€éƒ¨å¸è½½
yarn global remove åŒ…å  // å…¨å±€å¸è½½ï¼ˆå¦‚æœå®‰è£…æ—¶å®‰åˆ°äº†å…¨å±€ï¼Œé‚£ä¹ˆå¸è½½å°±è¦å¯¹åº”å¸è½½å…¨å±€çš„ï¼‰

// yarn æŸ¥çœ‹å…¨å±€å®‰è£…è¿‡çš„åŒ…
yarn global list  
```

```shell

npm install -g yarn  // å®‰è£…yarn 
yarn --version       // å®‰è£…æˆåŠŸåï¼ŒæŸ¥çœ‹ç‰ˆæœ¬å·
md yarn   // åˆ›å»ºæ–‡ä»¶å¤¹ yarn  
cd yarn   // è¿›å…¥yarnæ–‡ä»¶å¤¹ 

åˆå§‹åŒ–é¡¹ç›® 
yarn init // åŒnpm initï¼Œæ‰§è¡Œè¾“å…¥ä¿¡æ¯åï¼Œä¼šç”Ÿæˆpackage.jsonæ–‡ä»¶

yarnçš„é…ç½®é¡¹ï¼š 
yarn config list // æ˜¾ç¤ºæ‰€æœ‰é…ç½®é¡¹
yarn config get <key> //æ˜¾ç¤ºæŸé…ç½®é¡¹
yarn config delete <key> //åˆ é™¤æŸé…ç½®é¡¹
yarn config set <key> <value> [-g|--global] //è®¾ç½®é…ç½®é¡¹

å®‰è£…åŒ…ï¼š 
yarn install         //å®‰è£…package.jsoné‡Œæ‰€æœ‰åŒ…ï¼Œå¹¶å°†åŒ…åŠå®ƒçš„æ‰€æœ‰ä¾èµ–é¡¹ä¿å­˜è¿›yarn.lock
yarn install --flat  //å®‰è£…ä¸€ä¸ªåŒ…çš„å•ä¸€ç‰ˆæœ¬
yarn install --force         //å¼ºåˆ¶é‡æ–°ä¸‹è½½æ‰€æœ‰åŒ…
yarn install --production    //åªå®‰è£…dependenciesé‡Œçš„åŒ…
yarn install --no-lockfile   //ä¸è¯»å–æˆ–ç”Ÿæˆyarn.lock
yarn install --pure-lockfile //ä¸ç”Ÿæˆyarn.lock
æ·»åŠ åŒ…ï¼ˆä¼šæ›´æ–°package.jsonå’Œyarn.lockï¼‰ï¼š

yarn add [package] // åœ¨å½“å‰çš„é¡¹ç›®ä¸­æ·»åŠ ä¸€ä¸ªä¾èµ–åŒ…ï¼Œä¼šè‡ªåŠ¨æ›´æ–°åˆ°package.jsonå’Œyarn.lockæ–‡ä»¶ä¸­
yarn add [package]@[version] // å®‰è£…æŒ‡å®šç‰ˆæœ¬ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯ä¸»è¦ç‰ˆæœ¬ï¼Œå¦‚æœéœ€è¦ç²¾ç¡®åˆ°å°ç‰ˆæœ¬ï¼Œä½¿ç”¨-Eå‚æ•°
yarn add [package]@[tag] // å®‰è£…æŸä¸ªtagï¼ˆæ¯”å¦‚beta,nextæˆ–è€…latestï¼‰

//ä¸æŒ‡å®šä¾èµ–ç±»å‹é»˜è®¤å®‰è£…åˆ°dependenciesé‡Œï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®šä¾èµ–ç±»å‹ï¼š
yarn add --dev/-D // åŠ åˆ° devDependencies
yarn add --peer/-P // åŠ åˆ° peerDependencies
yarn add --optional/-O // åŠ åˆ° optionalDependencies

//é»˜è®¤å®‰è£…åŒ…çš„ä¸»è¦ç‰ˆæœ¬é‡Œçš„æœ€æ–°ç‰ˆæœ¬ï¼Œä¸‹é¢ä¸¤ä¸ªå‘½ä»¤å¯ä»¥æŒ‡å®šç‰ˆæœ¬ï¼š
yarn add --exact/-E // å®‰è£…åŒ…çš„ç²¾ç¡®ç‰ˆæœ¬ã€‚ä¾‹å¦‚yarn add foo@1.2.3ä¼šæ¥å—1.9.1ç‰ˆï¼Œä½†æ˜¯yarn add foo@1.2.3 --exactåªä¼šæ¥å—1.2.3ç‰ˆ
yarn add --tilde/-T // å®‰è£…åŒ…çš„æ¬¡è¦ç‰ˆæœ¬é‡Œçš„æœ€æ–°ç‰ˆã€‚ä¾‹å¦‚yarn add foo@1.2.3 --tildeä¼šæ¥å—1.2.9ï¼Œä½†ä¸æ¥å—1.3.0

yarn publish // å‘å¸ƒåŒ…
yarn remove <packageName>  // ç§»é™¤ä¸€ä¸ªåŒ…ï¼Œä¼šè‡ªåŠ¨æ›´æ–°package.jsonå’Œyarn.lock
yarn upgrade // æ›´æ–°ä¸€ä¸ªä¾èµ–: ç”¨äºæ›´æ–°åŒ…åˆ°åŸºäºè§„èŒƒèŒƒå›´çš„æœ€æ–°ç‰ˆæœ¬
yarn run   // è¿è¡Œè„šæœ¬: ç”¨æ¥æ‰§è¡Œåœ¨ package.json ä¸­ scripts å±æ€§ä¸‹å®šä¹‰çš„è„šæœ¬
yarn info <packageName> å¯ä»¥ç”¨æ¥æŸ¥çœ‹æŸä¸ªæ¨¡å—çš„æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯

ç¼“å­˜ 
yarn cache 
yarn cache list # åˆ—å‡ºå·²ç¼“å­˜çš„æ¯ä¸ªåŒ… 
yarn cache dir # è¿”å› å…¨å±€ç¼“å­˜ä½ç½® 
yarn cache clean # æ¸…é™¤ç¼“å­˜
```

## 5 npm ä¸ yarnå‘½ä»¤æ¯”è¾ƒ


æ¯”å¦‚è¯´ä½ çš„é¡¹ç›®æ¨¡å—ä¾èµ–æ˜¯å›¾ä¸­æè¿°çš„ï¼Œ@1.2.1ä»£è¡¨è¿™ä¸ªæ¨¡å—çš„ç‰ˆæœ¬ã€‚åœ¨ä½ å®‰è£…Açš„æ—¶å€™éœ€è¦å®‰è£…ä¾èµ–Cå’ŒDï¼Œå¾ˆå¤šä¾èµ–ä¸ä¼šæŒ‡å®šç‰ˆæœ¬å·ï¼Œé»˜è®¤ä¼šå®‰è£…æœ€æ–°çš„ç‰ˆæœ¬ï¼Œè¿™æ ·å°±ä¼šå‡ºç°é—®é¢˜ï¼šæ¯”å¦‚ä»Šå¤©å®‰è£…æ¨¡å—çš„æ—¶å€™Cå’ŒDæ˜¯æŸä¸€ä¸ªç‰ˆæœ¬ï¼Œè€Œå½“ä»¥åCã€Dæ›´æ–°çš„æ—¶å€™ï¼Œå†æ¬¡å®‰è£…æ¨¡å—å°±ä¼šå®‰è£…Cå’ŒDçš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¦‚æœæ–°çš„ç‰ˆæœ¬æ— æ³•å…¼å®¹ä½ çš„é¡¹ç›®ï¼Œä½ çš„ç¨‹åºå¯èƒ½å°±ä¼šå‡ºBUGï¼Œç”šè‡³æ— æ³•è¿è¡Œã€‚è¿™å°±æ˜¯npmçš„å¼Šç«¯ï¼Œè€Œyarnä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜æ¨å‡ºäº†yarn.lockçš„æœºåˆ¶ï¼Œè¿™æ˜¯ä½œè€…é¡¹ç›®ä¸­çš„yarn.lockæ–‡ä»¶

æ³¨æ„ï¼šè¿™ä¸ªæ–‡ä»¶ä¸è¦æ‰‹åŠ¨ä¿®æ”¹å®ƒï¼Œå½“ä½ ä½¿ç”¨ä¸€äº›æ“ä½œå¦‚yarn addæ—¶ï¼Œyarnä¼šè‡ªåŠ¨æ›´æ–°yarn.lockã€‚

