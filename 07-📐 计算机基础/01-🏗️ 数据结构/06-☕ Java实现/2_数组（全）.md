---
æ–‡ç« æ ‡é¢˜: "[[2_æ•°ç»„ï¼ˆå…¨ï¼‰]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  æ–‡ç« è¯¦ç»†é˜è¿°äº†æ•°ç»„çš„ç‰¹ç‚¹ï¼Œå¦‚å†…å­˜è¿ç»­å’ŒO(1)è®¿é—®ã€‚å®ƒé€šè¿‡ä¸€ä¸ªè‡ªå®šä¹‰Java `MyArray`ç±»ï¼Œå®ç°äº†åŠ¨æ€æ‰©å®¹ã€æ’å…¥å…ƒç´ ã€æŸ¥æ‰¾ç­‰åŸºæœ¬åŠŸèƒ½ï¼Œå¹¶åˆ†æäº†å„æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ã€‚æ–‡ç« è¿˜æ¢è®¨äº†æ•°ç»„çš„ä½¿ç”¨åœºæ™¯ã€æ³›å‹æ”¯æŒä»¥åŠä¸`ArrayList`çš„å¯¹æ¯”ï¼Œå¹¶ç»™å‡ºäº†ä¸€ä¸ªç®€å•çš„è¿­ä»£å™¨å®ç°ã€‚
tags:
- "æ•°ç»„"
- "æ•°æ®ç»“æ„"
- "Java"
- "æ—¶é—´å¤æ‚åº¦"
- "åŠ¨æ€æ•°ç»„"
- "è‡ªå®šä¹‰å®ç°"
- "ArrayList"
- "è¿­ä»£å™¨"
ç›¸å…³æ–‡ç« :
- "[[1_ArrayListæºç åˆ†æ]]"
- "[[2_List]]"
- "[[1_242.æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯]]"
- "[[3_977.æœ‰åºæ•°ç»„çš„å¹³æ–¹]]"
- "[[4_1.ä¸¤æ•°ä¹‹å’Œ]]"
æ–‡ç« åˆ†ç±»: "ğŸ“ è®¡ç®—æœºåŸºç¡€"
æ–‡ç« è·¯å¾„: "07-ğŸ“ è®¡ç®—æœºåŸºç¡€/01-ğŸ—ï¸ æ•°æ®ç»“æ„/06-â˜• Javaå®ç°/2_æ•°ç»„ï¼ˆå…¨ï¼‰.md"
æ–‡ç« éš¾åº¦: åˆçº§ ğŸ’§
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­â­ ç²¾é€šå¿…å¤‡
åˆ›å»ºæ—¶é—´: 2024-08-11 18:15:12
ä¿®æ”¹æ—¶é—´: 2025-05-28 00:44:03
---

## 1 æ•°ç»„çš„ç‰¹ç‚¹

### 1.1 éœ€æ±‚

- åœ¨ä¸€ä¸ªæœ‰åºé›†åˆä¸­ï¼Œå­˜åœ¨è‹¥å¹²å…ƒç´ ã€‚è¯·å†™å‡ºä¸€ä¸ªç±»å®Œæˆä¸‹é¢éœ€æ±‚ï¼š
	1. è¾“å…¥ä¸€ä¸ªä½ç½®xï¼Œè¾“å‡ºé›†åˆä¸­å¯¹åº”ä½ç½®å…ƒç´ 
	2. å¯ä»¥åœ¨ç›¸åº”ä½ç½®æ’å…¥ç›®æ ‡å…ƒç´ 
	3. å¯ä»¥åœ¨ç›¸åº”ä½ç½®åˆ é™¤ç›®æ ‡å…ƒç´ 
	4. è¾“å…¥ä¸€ä¸ªå…ƒç´ ï¼Œè¾“å‡ºè¿™ä¸ªé›†åˆä¸­ç›¸åº”å…ƒç´ ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®

### 1.2 ä»£ç å®ç°

- è®¾ç½®ä¸€ä¸ªç±»
- ç±»çš„å†…éƒ¨å®šä¹‰ä¸€ä¸ªæ•°ç»„
- ä¸Šè¿°4ä¸ªéœ€æ±‚åˆ†åˆ«ä¸ºæ•°ç»„çš„4ä¸ªæ–¹æ³•ï¼Œå³å¯

### 1.3 æ•°ç»„çš„ç‰¹ç‚¹

```java
int[] arr = new int[10];
//è¿™æ®µä»£ç ä¼šåœ¨è®¡ç®—æœºå†…å­˜ä¸­å¼€è¾Ÿ10ä¸ª32ä½ç©ºé—´ï¼Œå¹¶ä¸”è¿™äº›ç©ºé—´æ˜¯è¿ç»­çš„ï¼ï¼
```

- å¯¹äºæ•°ç»„ä¸‹æ ‡çš„è®¿é—®éƒ½æ˜¯O(1)çš„æ—¶é—´å¤æ‚åº¦
- ä»»ä½•æ•°ç»„ä¸‹æ ‡åªèƒ½æŒ‡å‘ä¸€ä¸ªå…ƒç´ 

## 2 æ•°ç»„çš„å®ç°éœ€æ±‚

- å®ç°åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ æ–¹æ³•åˆ†æ
	- å…ˆå®šä¹‰ä¸¤ä¸ªå˜é‡a,bã€‚ bç”¨æ¥å­˜å‚¨è¦†ç›–å‰çš„å€¼ï¼Œaç”¨æ¥ç»™ç›¸åº”çš„ä½ç½®è¦†ç›–æ–°å€¼
	- èµ·å§‹:1,3,5,2,0,Â Â Â Â Â Â Â Â Â  position=2 ï¼Œa=5
	- Position++, b=2,Â Â Â Â  1,3,5,2,0--->1,3,5,5,0å¹¶ä¸”a=b,a=2,b=2
	- Position++, b=0(æ²¡æœ‰)Â  1,3,5,5,2,x--->1,3,5,5,2,0 å¹¶ä¸”a=0(æ²¡æœ‰),b=0(æ²¡æœ‰)

- åˆ†ææ•°ç»„åº”è¯¥éœ€è¦æ‰©å®¹çš„äº‹æƒ…ï¼ï¼ï¼

```java
public class MyArray {  
    int[] data;  
    //å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªæ•´å‹æ•°ç»„  
    int length;  
    //è®°å½•æ•°ç»„æ·»åŠ çš„å…ƒç´ ä¸ªæ•°  
    MyArray(){  
        data = new int[10];  
        ////æ•°ç»„é»˜è®¤é•¿åº¦ä¸º10ï¼Œä¸åˆé€‚ï¼Œåº”è¯¥é€‚å½“æ‰©å®¹   
}  
  
    void expand(){  
        if (length >= data.length/2){  
//            data = Arrays.copyOf(data,data.length*2);  
            int[] temp = data;  
            data = new int[data.length*2];  
            for (int i = 0; i < length; i++) {  
                data[i]=temp[i];  
            }  
        }  
    }  
  
    //æŸ¥æ‰¾ç´¢å¼•ä¸ºindexå¤„çš„å…ƒç´ å€¼  
    int find(int index){  
        return data[index];  
    }  
  
    //æŸ¥æ‰¾å€¼ä¸ºxçš„å…ƒç´ çš„ç´¢å¼•å€¼  
    int findPosition(int x){  
        for (int i = 0; i < length; i++) {  
            if(data[i]==x)  
                return i;  
        }  
        return -1;  
    }  
  
    //åœ¨æ•°ç»„å°¾éƒ¨æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œæ²¡æœ‰è€ƒè™‘è§’æ ‡è¶Šç•Œ  
    void insert(int x){  
        expand();  
        data[length++] = x;  
    }  
    //åœ¨ç´¢å¼•ä¸ºindexå¤„æ’å…¥ä¸€ä¸ªå…ƒç´ x  
    void insert(int x,int index){  
        expand();  
        //æ–¹å¼1  
//        int[] arr = Arrays.copyOf(data,data.length);  
//        for (int i = arr.length-1; i > index; i--) {  
//            arr[i] = arr[i-1];  
//            //arr[i+1] = arr[i]  
//            //ä¼šå¯¼è‡´åä¸€ä¸ªå€¼è¢«å‰ä¸€ä¸ªå€¼è¦†ç›–æ‰ï¼Œä¸å¯¹ï¼Œåº”è¯¥ä»åå¾€å‰è¦†ç›–  
//        }  
//        arr[index] = x;  
//        data = Arrays.copyOf(arr,arr.length);  
//        length++;  
        //æ–¹å¼2  
        length++;  
        int temp = 0;  
        int result = 0;  
        result = data[index];  
  
        for (int i = index+1; i < length; i++) {  
            temp = data[i];  
            data[i] = result;  
            result = temp;  
        }  
        data[index] = x;  
    }  
  
  
    //æ˜¾ç¤ºç›®å‰æ•°ç»„å…ƒç´ çš„æƒ…å†µ  
    void show(){  
        for (int i = 0; i < length; i++) {  
            System.out.print(data[i]+" ");  
        }  
    }  
  
  
    public static void main(String[] args) {  
        MyArray arr = new MyArray();  
        arr.insert(1);  
        arr.insert(2);  
        arr.insert(3);  
        arr.insert(4);  
        arr.insert(4);  
        arr.insert(4);  
  
  
        System.out.println(arr.data.length);  
        arr.show();  

    }  
}
```

## 3 MyArrayæ—¶é—´å¤æ‚åº¦åˆ†æ

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/37be0fdbc544ad32c0e768b3d9b75412.png)



- find(int x)
	- æ—¶é—´å¤æ‚åº¦æ˜¯O(1)

- insert(int x,int index)
	- æ—¶é—´å¤æ‚åº¦æ˜¯O(n)

- expand()
	- æ—¶é—´å¤æ‚åº¦æ˜¯O(n)

## 4 MyArrayä½¿ç”¨åœºæ™¯

- æ‰€ä»¥æ•°ç»„æŸ¥æ‰¾å’Œæœ«å°¾æ’å…¥/åˆ é™¤çš„æ•ˆç‡é«˜ï¼Œæ’å…¥å’Œåˆ é™¤çš„æ•ˆç‡ä½

## 5 å­˜å‚¨ä»»ä½•ç±»å‹å…ƒç´ 

- `å°†intç±»å‹çš„æ•°ç»„æ”¹æˆObject`ï¼Œå¦‚æœéœ€è¦é¿å…ä½¿ç”¨è¿‡ç¨‹ä¸­çš„è½¬å‹é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹ã€‚

## 6 å’ŒArrayListçš„æ¯”è¾ƒ

- æ‹¥æœ‰äº†ArrayListçš„åŸºæœ¬åŠŸèƒ½ï¼Œä½¿ç”¨åœºæ™¯å’Œç®—æ³•åˆ†æä¹Ÿæ˜¯ä¸€è‡´çš„

## 7 è¿­ä»£å™¨å®ç°

- é€šè¿‡ä¸€ä¸ªpointerè‡ªå¢ï¼Œå®ç°æŒ‡é’ˆç§»åŠ¨ã€‚é€šè¿‡åˆ¤æ–­pointerå’Œlengthçš„å¤§å°å®ç°éå†ç»“æŸä¸å¦çš„åˆ¤æ–­ã€‚å¦å¤–ï¼Œå¯ä»¥ä½¿ç”¨å†…éƒ¨ç±»è¿›è¡Œä¼˜åŒ–ã€‚
```java
public class MyIterator {  
//å¯ä»¥ä½œä¸ºMyArrayçš„å†…éƒ¨ç±»
    MyArray myArray;  
    int pointer = 0;  
    MyIterator(MyArray myArray){  
        this.myArray = myArray;  
    }  
    int next(){  
        return myArray.find(pointer++);  
    }  
    boolean hasNext(){  
        return  pointer!=myArray.length;  
    }  
  
}
```