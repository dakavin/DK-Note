---
æ–‡ç« æ ‡é¢˜: "[[2_ğŸ“•ğŸ“•å‰å°é¦–é¡µï¼šæ–‡ç« åˆ†é¡µæ¥å£å¼€å‘]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  æ–‡ç« è¯¦ç»†é˜è¿°äº†å¦‚ä½•å¼€å‘å‰å°é¦–é¡µæ–‡ç« åˆ†é¡µæ¥å£ï¼Œæ¶µç›–æ¥å£è·¯å¾„ã€å‡ºå…¥å‚æ ¼å¼å®šä¹‰ã€åˆ†å±‚ä¸šåŠ¡é€»è¾‘å®ç°ï¼ˆControllerã€Serviceã€Mapperï¼‰ï¼Œå¹¶å¼ºè°ƒé€šè¿‡æ‰¹é‡æŸ¥è¯¢å’Œå†…å­˜åŒ¹é…ä¼˜åŒ–æ•°æ®æŸ¥è¯¢æ€§èƒ½ï¼Œæœ€ç»ˆå®ŒæˆAPIå¹¶è¿›è¡ŒåŠŸèƒ½æµ‹è¯•ã€‚
æ–‡ç« æ ‡ç­¾:
- "APIå¼€å‘"
- "åˆ†é¡µæŸ¥è¯¢"
- "Spring Boot"
- "RESTful API"
- "æ€§èƒ½ä¼˜åŒ–"
- "Java"
- "æ•°æ®åˆ†å±‚"
- "MyBatis-Plus"
ç›¸å…³æ–‡ç« :
- "[[4_ğŸ“•æ–‡ç« ç®¡ç†ï¼šæ–‡ç« åˆ é™¤æ¥å£å¼€å‘]]"
- "[[2_ğŸ“•æ–‡ç« ç®¡ç†ï¼šæ–‡ç« å‘å¸ƒæ¥å£å¼€å‘ï¼ˆ1ï¼‰]]"
- "[[4_ğŸ“•åšå®¢è®¾ç½®ï¼šæ›´æ–°æ¥å£å¼€å‘]]"
- "[[5_ğŸ“•æ–‡ç« åˆ†ç±»ï¼šåˆ†ç±»Selectä¸‹æ‹‰åˆ—è¡¨æ¥å£å¼€å‘]]"
- "[[5_ğŸ“•æ–‡ç« ç®¡ç†ï¼šåˆ†é¡µæ¥å£å¼€å‘]]"
æ–‡ç« åˆ†ç±»: "ğŸš€ é¡¹ç›®å®æˆ˜"
æ–‡ç« è·¯å¾„: "10-ğŸš€ é¡¹ç›®å®æˆ˜/01-ğŸ“ åšå®¢ç³»ç»Ÿ/03-ğŸ“ å¼€å‘æ—¥å¿—/9_åšå®¢å‰å°ï¼šé¦–é¡µå¼€å‘/2_ğŸ“•ğŸ“•å‰å°é¦–é¡µï¼šæ–‡ç« åˆ†é¡µæ¥å£å¼€å‘.md"
æ–‡ç« éš¾åº¦: ä¸­çº§ ğŸŒ³
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­ æ ¸å¿ƒèƒ½åŠ›
åˆ›å»ºæ—¶é—´: 2024-05-10 09:50:54
ä¿®æ”¹æ—¶é—´: 2025-05-27 00:59:23
---

æœ¬å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æŠŠé¦–é¡µæ‰€éœ€çš„æ–‡ç« åˆ†é¡µæ¥å£å¼€å‘å®Œæˆï¼Œ`UI`Â åŸå‹å›¾å¦‚ä¸‹ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/abf02fde59f2a8a44e2a7d1373c02d29.png)

## 1 æ¥å£ã€å‡ºå…¥å‚æ ¼å¼å®šä¹‰

é’ˆå¯¹äºå‰å°é¡µé¢ç›¸å…³çš„æ¥å£å¼€å‘ï¼Œå°†ä¸å†ä»¥Â `/admin/**`Â ä¸ºå‰ç¼€ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨é…ç½®Â `Spring Security`Â çš„æ—¶å€™ï¼Œç»Ÿä¸€å¯¹Â `/admin/**`Â éœ€è¦åšè®¤è¯é‰´æƒï¼Œè€Œå‰å°é¡µé¢ç›¸å…³çš„æ¥å£éƒ½æ˜¯å¼€æ”¾æ€§çš„ï¼Œä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥è®¿é—®ï¼Œè¿™å—åœ¨æ¥å£åœ°å€çš„è§„åˆ’ä¸Šéœ€è¦æ³¨æ„ã€‚

### 1.1 æ¥å£è·¯å¾„

```http
POST /article/list
```

### 1.2 å…¥å‚

```json
{
  "current":1, // å½“å‰é¡µç 
  "size": 10 // æ¯é¡µå±•ç¤ºçš„æ•°æ®é‡
}
```

### 1.3 å‡ºå‚

```json
{
  "success": true,
  "message": null,
  "errorCode": null,
  "data": [
    {
      "id": 9, // æ–‡ç«  ID
      "cover": "https://img.quanxiaoha.com/quanxiaoha/193dd1504ebb4f138085acb23619e0dd.jpg", // æ–‡ç« å°é¢
      "title": "æµ‹è¯•æ ‡é¢˜", // æ ‡é¢˜
      "createTime": "2023-10-13 10:58:05", // å‘å¸ƒæ—¶é—´
      "summary": "æµ‹è¯•æ‘˜è¦", // æ‘˜è¦
      "category": { // åˆ†ç±»
        "id": 6, // åˆ†ç±» ID
        "name": "å°å“ˆå­¦Java" // åˆ†ç±»åç§°
      }, 
      "tags": [ // æ ‡ç­¾é›†åˆ
        {
          "id": 8, // æ ‡ç­¾ ID
          "name": "æ ‡ç­¾3" // æ ‡ç­¾åç§°
        },
        {
          "id": 9,
          "name": "æ ‡ç­¾4"
        },
        {
          "id": 29,
          "name": "test1"
        }
      ]
    }
  ],
  "total": 7,
  "size": 10,
  "current": 1,
  "pages": 1
}
```

## 2 æŸ¥è¯¢é€»è¾‘åˆ†æ

å¯¹ç…§ä¸Šé¢çš„æ¥å£çš„å‡ºå‚ï¼Œä»¥åŠÂ `UI`Â åŸå‹å›¾ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ï¼Œä¸ºäº†æŸ¥è¯¢å‡ºæƒ³è¦çš„æ–‡ç« æ•°æ®ï¼Œéœ€è¦æ‰§è¡Œå“ªäº›æŸ¥è¯¢æ“ä½œï¼Œé€»è¾‘æ­¥éª¤å¤§è‡´å¦‚ä¸‹ï¼š

1. _åˆ†é¡µæŸ¥è¯¢Â `t_article`Â è¡¨ï¼Œæ¯”å¦‚ä¸€é¡µ 10 æ¡ï¼Œå…ˆæŠŠæ–‡ç« ä¸»ä½“æ•°æ®æŸ¥å‡ºæ¥ï¼›_
2. _å¯¹è¿™ 10 æ¡æ–‡ç« æ•°æ®è¿›è¡Œå¾ªç¯ï¼Œé€šè¿‡æ–‡ç« Â `ID`Â æŸ¥å‡ºåˆ†ç±»å…³è”è®°å½•ï¼Œå…³è”è®°å½•ä¸­ä»…æœ‰åˆ†ç±» ID, è¿˜éœ€è¦é€šè¿‡åˆ†ç±» ID æŸ¥è¯¢å¯¹åº”çš„åˆ†ç±»åç§°ï¼›_
3. _å¯¹è¿™ 10 æ¡æ–‡ç« æ•°æ®è¿›è¡Œå¾ªç¯ï¼Œé€šè¿‡æ–‡ç« Â `ID`Â æŸ¥å‡ºå¯¹åº”çš„æ ‡ç­¾å…³è”è®°å½•ï¼Œä¸€ç¯‡æ–‡ç« å¯èƒ½ä¼šæœ‰å¤šä¸ªæ ‡ç­¾ï¼Œéœ€è¦åˆ†åˆ«ä¸ºæ¯ä¸ªæ ‡ç­¾ ID åŒ¹é…å¯¹åº”çš„æ ‡ç­¾åç§°ï¼›_

## 3 åˆ é™¤æ— ç”¨ç±»

åˆ†æå®Œä¸šåŠ¡é€»è¾‘åï¼Œæˆ‘ä»¬æ¥ç€æ‰‹å®ç°ã€‚å…³äºåšå®¢å‰å°ç›¸å…³çš„æ¥å£ï¼Œæˆ‘ä»¬éƒ½ä¼šåœ¨Â `weblog-web`Â å…¥å£æ¨¡å—ä¸­è¿›è¡Œå¼€å‘ã€‚å¼€å‘ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå°†ä¹‹å‰æ­å»ºé¡¹ç›®æ—¶ï¼Œåˆ›å»ºçš„ä¸€äº›æµ‹è¯•ç±»åˆ é™¤æ‰ï¼Œå¦‚Â `TestController`Â æµ‹è¯•æ§åˆ¶å™¨ã€`User`Â å®ä½“ç±»ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/019e3f6c434474aba1cc1bd77b98071d.png)


## 4 æ·»åŠ å‡ºå…¥å‚ VO

æ¥ç€ï¼Œæ¥æŠŠå¯¹åº”çš„å‡ºå…¥å‚Â `VO`Â å®ä½“ç±»åˆ›å»ºä¸€ä¸‹ã€‚

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/b84a8c13c0c2179201d8a283659e1c40.png)
### 4.1 å…¥å‚ VO

åœ¨Â `weblog-web`Â å…¥å£æ¨¡å—ä¸­ï¼Œåˆ›å»ºÂ `/model/vo`Â åŒ…ï¼Œå¹¶åœ¨ä¸‹é¢åˆ›å»ºÂ `/article`Â ã€`/category`Â ã€`/tag`Â ä¸‰ä¸ªåŠŸèƒ½åŒ…ï¼Œåˆ†åˆ«æ”¾ç½®æ–‡ç« ã€åˆ†ç±»ã€æ ‡ç­¾å¯¹åº”çš„Â `VO`Â ç±»ã€‚é¦–å…ˆæ˜¯åˆ›å»ºå…¥å‚è¯·æ±‚Â `VO`Â ç±»ï¼š

```java
@Data
@Builder
@ApiModel(value = "é¦–é¡µæŸ¥è¯¢æ–‡ç« åˆ†é¡µ VO")
public class FindIndexArticlePageListReqVO extends BasePageQuery {
}
```

ä¸Šè¿°Â `VO`Â ç±»ç›´æ¥ç»§æ‰¿è‡ªäº†Â `BasePageQuery`Â åˆ†é¡µåŸºç¡€ç±»ï¼Œè¯¥ç±»ä¸­å·²ç»å°è£…å¥½äº†åˆ†é¡µè¯·æ±‚æ‰€éœ€çš„å…¥å‚å­—æ®µï¼Œæ— é¡»å†é¢å¤–æ·»åŠ å­—æ®µã€‚

### 4.2 å‡ºå‚ VO

å‡ºå‚æ¶µç›–çš„å­—æ®µè¾ƒå¤šï¼Œé™¤äº†æ–‡ç« ä¸»ä½“Â `VO`Â ç±»å¤–ï¼Œé‡Œé¢è¿˜åŒ…æ‹¬åˆ†ç±»ã€æ ‡ç­¾é›†åˆï¼Œéƒ½éœ€è¦ä¸€ä¸€åˆ›å»ºã€‚

#### 4.2.1 åˆ†ç±» VO

åœ¨Â `/category`Â åŒ…ä¸‹åˆ›å»ºÂ `FindCategoryListRspVO`Â åˆ†ç±»å“å‚Â `VO`Â ç±»ï¼Œä»£ç å¦‚ä¸‹:

```java
@Data
@AllArgsConstructor
@NoArgsConstructor
@Builder
public class FindCategoryListRspVO {
    private Long id;
    private String name;
}
```

#### 4.2.2 æ ‡ç­¾ VO

åœ¨Â `/tag`Â åŒ…ä¸‹åˆ›å»ºÂ `FindTagListRspVO`Â æ ‡ç­¾å“å‚Â `VO`Â ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
@Data
@AllArgsConstructor
@NoArgsConstructor
@Builder
public class FindTagListRspVO {
    private Long id;
    private String name;
}
```

#### 4.2.3 æ–‡ç«  VO

æœ€ååœ¨Â `/article`Â åŒ…ä¸‹åˆ›å»ºÂ `FindIndexArticlePageListRspVO`Â æ–‡ç« åˆ†é¡µå“å‚Â `VO`Â ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
@Data
@AllArgsConstructor
@NoArgsConstructor
@Builder
public class FindIndexArticlePageListRspVO {
    private Long id;
    private String cover;
    private String title;
    private LocalDateTime createTime;
    private String summary;
    /**
     * æ–‡ç« åˆ†ç±»
     */
    private FindCategoryListRspVO category;

    /**
     * æ–‡ç« æ ‡ç­¾
     */
    private List<FindTagListRspVO> tags;
}
```

## 5 æ–°å¢ service ä¸šåŠ¡å±‚

åœ¨Â `weblog-web`Â æ¨¡å—ä¸­ï¼Œåˆ›å»ºÂ `service`Â ä¸šåŠ¡åŒ…ï¼Œå¹¶æ–°å¢Â `ArticleService`Â æ–‡ç« ä¸šåŠ¡æ¥å£ï¼Œæ¥å£é‡Œé¢å£°æ˜ä¸€ä¸ªè·å–é¦–é¡µæ–‡ç« åˆ†é¡µæ•°æ®çš„æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public interface ArticleService {
    /**
     * è·å–é¦–é¡µæ–‡ç« åˆ†é¡µæ•°æ®
     * @param findIndexArticlePageListReqVO
     * @return
     */
    Response findArticlePageList(FindIndexArticlePageListReqVO findIndexArticlePageListReqVO);
}
```

æ¥ç€ï¼Œåœ¨Â `/service`Â åŒ…ä¸‹åˆ›å»ºÂ `/impl`Â ä¸šåŠ¡å®ç°åŒ…ï¼Œåœ¨é‡Œé¢åˆ›å»ºåˆšåˆšå®šä¹‰çš„æ¥å£çš„å®ç°ç±»Â `ArticleServiceImpl`Â ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
@Service
@Slf4j
public class ArticleServiceImpl implements ArticleService {

    @Autowired
    private ArticleMapper articleMapper;
    @Autowired
    private CategoryMapper categoryMapper;
    @Autowired
    private ArticleCategoryRelMapper articleCategoryRelMapper;
    @Autowired
    private TagMapper tagMapper;
    @Autowired
    private ArticleTagRelMapper articleTagRelMapper;

    /**
     * è·å–é¦–é¡µæ–‡ç« åˆ†é¡µæ•°æ®
     *
     * @param findIndexArticlePageListReqVO
     * @return
     */
    @Override
    public Response findArticlePageList(FindIndexArticlePageListReqVO findIndexArticlePageListReqVO) {
        Long current = findIndexArticlePageListReqVO.getCurrent();
        Long size = findIndexArticlePageListReqVO.getSize();

        // ç¬¬ä¸€æ­¥ï¼šåˆ†é¡µæŸ¥è¯¢æ–‡ç« ä¸»ä½“è®°å½•
        Page<ArticleDO> articleDOPage = articleMapper.selectPageList(current, size, null, null, null);

        // è¿”å›çš„åˆ†é¡µæ•°æ®
        List<ArticleDO> articleDOS = articleDOPage.getRecords();

        List<FindIndexArticlePageListRspVO> vos = null;
        if (!CollectionUtils.isEmpty(articleDOS)) {
            // æ–‡ç«  DO è½¬ VO
            vos = articleDOS.stream()
                    .map(articleDO -> ArticleConvert.INSTANCE.convertDO2VO(articleDO))
                    .collect(Collectors.toList());

            // æ‹¿åˆ°æ‰€æœ‰æ–‡ç« çš„ ID é›†åˆ
            List<Long> articleIds = articleDOS.stream().map(ArticleDO::getId).collect(Collectors.toList());

            // ç¬¬äºŒæ­¥ï¼šè®¾ç½®æ–‡ç« æ‰€å±åˆ†ç±»
            // æŸ¥è¯¢æ‰€æœ‰åˆ†ç±»
            List<CategoryDO> categoryDOS = categoryMapper.selectList(Wrappers.emptyWrapper());
            // è½¬ Map, æ–¹ä¾¿åç»­æ ¹æ®åˆ†ç±» ID æ‹¿åˆ°å¯¹åº”çš„åˆ†ç±»åç§°
            Map<Long, String> categoryIdNameMap = categoryDOS.stream().collect(Collectors.toMap(CategoryDO::getId, CategoryDO::getName));

            // æ ¹æ®æ–‡ç«  ID æ‰¹é‡æŸ¥è¯¢æ‰€æœ‰å…³è”è®°å½•
            List<ArticleCategoryRelDO> articleCategoryRelDOS = articleCategoryRelMapper.selectByArticleIds(articleIds);

            vos.forEach(vo -> {
                Long currArticleId = vo.getId();
                // è¿‡æ»¤å‡ºå½“å‰æ–‡ç« å¯¹åº”çš„å…³è”æ•°æ®
                Optional<ArticleCategoryRelDO> optional = articleCategoryRelDOS.stream().filter(rel -> Objects.equals(rel.getArticleId(), currArticleId)).findAny();

                // è‹¥ä¸ä¸ºç©º
                if (optional.isPresent()) {
                    ArticleCategoryRelDO articleCategoryRelDO = optional.get();
                    Long categoryId = articleCategoryRelDO.getCategoryId();
                    // é€šè¿‡åˆ†ç±» ID ä» map ä¸­æ‹¿åˆ°å¯¹åº”çš„åˆ†ç±»åç§°
                    String categoryName = categoryIdNameMap.get(categoryId);

                    FindCategoryListRspVO findCategoryListRspVO = FindCategoryListRspVO.builder()
                            .id(categoryId)
                            .name(categoryName)
                            .build();
                    // è®¾ç½®åˆ°å½“å‰ vo ç±»ä¸­
                    vo.setCategory(findCategoryListRspVO);
                }
            });

            // ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®æ–‡ç« æ ‡ç­¾
            // æŸ¥è¯¢æ‰€æœ‰æ ‡ç­¾
            List<TagDO> tagDOS = tagMapper.selectList(Wrappers.emptyWrapper());
            // è½¬ Map, æ–¹ä¾¿åç»­æ ¹æ®æ ‡ç­¾ ID æ‹¿åˆ°å¯¹åº”çš„æ ‡ç­¾åç§°
            Map<Long, String> mapIdNameMap = tagDOS.stream().collect(Collectors.toMap(TagDO::getId, TagDO::getName));

            // æ‹¿åˆ°æ‰€æœ‰æ–‡ç« çš„æ ‡ç­¾å…³è”è®°å½•
            List<ArticleTagRelDO> articleTagRelDOS = articleTagRelMapper.selectByArticleIds(articleIds);
            vos.forEach(vo -> {
                Long currArticleId = vo.getId();
                // è¿‡æ»¤å‡ºå½“å‰æ–‡ç« çš„æ ‡ç­¾å…³è”è®°å½•
                List<ArticleTagRelDO> articleTagRelDOList = articleTagRelDOS.stream().filter(rel -> Objects.equals(rel.getArticleId(), currArticleId)).collect(Collectors.toList());

                List<FindTagListRspVO> findTagListRspVOS = Lists.newArrayList();
                // å°†å…³è”è®°å½• DO è½¬ VO, å¹¶è®¾ç½®å¯¹åº”çš„æ ‡ç­¾åç§°
                articleTagRelDOList.forEach(articleTagRelDO -> {
                    Long tagId = articleTagRelDO.getTagId();
                    String tagName = mapIdNameMap.get(tagId);

                    FindTagListRspVO findTagListRspVO = FindTagListRspVO.builder()
                            .id(tagId)
                            .name(tagName)
                            .build();
                    findTagListRspVOS.add(findTagListRspVO);
                });
                // è®¾ç½®è½¬æ¢åçš„æ ‡ç­¾æ•°æ®
                vo.setTags(findTagListRspVOS);
            });
        }

        return PageResponse.success(articleDOPage, vos);
    }
}
```

ä¸Šè¿°ä¸šåŠ¡å±‚ä»£ç ä¸­ï¼Œä¸»ä½“è¿˜æ˜¯æŒ‰ä¹‹å‰åˆ†æçš„é€»è¾‘åˆ†ä¸‰æ­¥èµ°ã€‚é¦–å…ˆï¼Œæ‰§è¡Œåˆ†é¡µæŸ¥è¯¢ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨çš„ä¹‹å‰å°è£…çš„åˆ†é¡µæŸ¥è¯¢æ–¹æ³•Â `articleMapper.selectPageList`Â , æ³¨æ„ï¼Œè¿™é‡Œéœ€è¦æŠŠÂ `mapper`Â æ¥å£ä¸­é»˜è®¤æ–¹æ³•ä¸­çš„Â `title.trim()`Â å»é™¤å‰åç©ºæ ¼æ–¹æ³•å»æ‰ï¼Œå¦åˆ™æ— æ³•å¤ç”¨ï¼Œä¼šæŠ¥ç©ºæŒ‡é’ˆï¼Œå»é™¤æ‰åï¼Œå°±èƒ½ç›´æ¥ä½¿ç”¨æ­¤æ–¹æ³•äº†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](https://img.quanxiaoha.com/quanxiaoha/169778151924715)

æ‹¿åˆ°å½“å‰é¡µçš„ 10 æ¡æ•°æ®åï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¡¥å……æ¯ç¯‡æ–‡ç« çš„åˆ†ç±»ï¼Œä»¥åŠæ ‡ç­¾æ•°æ®äº†ã€‚é’ˆå¯¹è¿™å—çš„æŸ¥è¯¢ï¼Œ_ä¸ºäº†æå‡æŸ¥è¯¢æ€§èƒ½ï¼Œå°½é‡å‡å°‘æ‰§è¡ŒÂ `SQL`Â æ¡æ•°_ï¼Œæˆ‘ä»¬**å¹¶ä¸æ˜¯å¾ªç¯å»è¯»å–å¯¹åº”çš„å…³è”æ•°æ®ï¼Œç„¶åå†æ‹¿ç€åˆ†ç±»Â `ID`ã€æ ‡ç­¾Â `ID`Â å»æŸ¥å¯¹åº”çš„åˆ†ç±»åç§°ã€æ ‡ç­¾åç§°ï¼Œè€Œæ˜¯é€šè¿‡æ‰¹é‡çš„æ–¹å¼ï¼Œä¸€æ¬¡æ€§è¯»å–å‡ºæ¥ï¼Œç„¶ååœ¨å†…å­˜ä¸­è¿›è¡Œé€»è¾‘åŒ¹é…ï¼Œè®©è€—æ—¶æœ€å°‘ï¼Œå…·ä½“å¯ä»¥çœ‹ä¸Šè¿°ä»£ç ä¸­çš„æ³¨é‡Š**ã€‚

## 6 æ·»åŠ  service å±‚ä¾èµ–

`service`Â ä¸šåŠ¡å®ç°ä¸­ï¼Œè¿˜ä¾èµ–äº†ä¸€äº›Â `mapstruct`Â è½¬æ¢æ¥å£ï¼Œä»¥åŠÂ `mapper`Â å±‚æ ¹æ®æ–‡ç« Â `ID`Â é›†åˆæ‰§è¡Œæ‰¹é‡æŸ¥è¯¢çš„å°è£…æ–¹æ³•ï¼Œéœ€è¦ä¸€ä¸€æ·»åŠ ã€‚

### 6.1 convert è£…æ¢æ¥å£

æ–°å¢ä¸€ä¸ªÂ `/convert`Â åŒ…ï¼Œå¹¶åˆ›å»ºÂ `ArticleConvert`Â è½¬æ¢æ¥å£ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/7846d7de5e54d2686ff107a752a35aed.png)


```java
@Mapper
public interface ArticleConvert {
    /**
     * åˆå§‹åŒ– convert å®ä¾‹
     */
    ArticleConvert INSTANCE = Mappers.getMapper(ArticleConvert.class);

    /**
     * å°† DO è½¬åŒ–ä¸º VO
     * @param bean
     * @return
     */
    FindIndexArticlePageListRspVO convertDO2VO(ArticleDO bean);

}
```

### 6.2 å°è£…åˆ†ç±»å…³è”è®°å½•æ‰¹é‡æŸ¥è¯¢

ç¼–è¾‘Â `ArticleCategoryRelMapper`Â æ¥å£ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªæ ¹æ®æ–‡ç«  ID é›†åˆæ‰¹é‡æŸ¥è¯¢çš„é»˜è®¤æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public interface ArticleCategoryRelMapper extends BaseMapper<ArticleCategoryRelDO> {

	// çœç•¥...

    /**
     * æ ¹æ®æ–‡ç«  ID é›†åˆæ‰¹é‡æŸ¥è¯¢
     * @param articleIds
     * @return
     */
    default List<ArticleCategoryRelDO> selectByArticleIds(List<Long> articleIds) {
        return selectList(Wrappers.<ArticleCategoryRelDO>lambdaQuery()
                .in(ArticleCategoryRelDO::getArticleId, articleIds));
    }
}
```

### 6.3 å°è£…æ ‡ç­¾å…³è”è®°å½•æ‰¹é‡æŸ¥è¯¢

ç¼–è¾‘Â `ArticleTagRelMapper`Â æ¥å£ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªæ ¹æ®æ–‡ç«  ID é›†åˆæ‰¹é‡æŸ¥è¯¢çš„é»˜è®¤æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public interface ArticleTagRelMapper extends InsertBatchMapper<ArticleTagRelDO> {

	// çœç•¥...

    /**
     * æ ¹æ®æ–‡ç«  ID é›†åˆæ‰¹é‡æŸ¥è¯¢
     * @param articleIds
     * @return
     */
    default List<ArticleTagRelDO> selectByArticleIds(List<Long> articleIds) {
        return selectList(Wrappers.<ArticleTagRelDO>lambdaQuery()
                .in(ArticleTagRelDO::getArticleId, articleIds));
    }
}
```

## 7 æ–°å¢ controller æ¥å£

ä¸šåŠ¡å±‚ä»£ç å¼€å‘å®Œæ¯•åï¼Œæˆ‘ä»¬åœ¨Â `/controller`Â åŒ…ä¸‹åˆ›å»ºä¸€ä¸ªÂ `ArticleController`Â æ§åˆ¶å™¨ï¼Œä¸“é—¨è´Ÿè´£é¦–é¡µç›¸å…³çš„æ¥å£ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
@RestController
@Api(tags = "æ–‡ç« ")
public class ArticleController {

    @Autowired
    private ArticleService articleService;

    @PostMapping("/article/list")
    @ApiOperation(value = "è·å–é¦–é¡µæ–‡ç« åˆ†é¡µæ•°æ®")
    @ApiOperationLog(description = "è·å–é¦–é¡µæ–‡ç« åˆ†é¡µæ•°æ®")
    public Response findArticlePageList(@RequestBody FindIndexArticlePageListReqVO findIndexArticlePageListReqVO) {
        return articleService.findArticlePageList(findIndexArticlePageListReqVO);
    }

}
```

## 8 æµ‹è¯•çœ‹çœ‹

æ¥å£å¼€å‘å®Œæ¯•åï¼Œé‡å¯é¡¹ç›®ï¼Œæµè§ˆå™¨è®¿é—®Â `/doc.html`Â , æµ‹è¯•çœ‹çœ‹æ–‡ç« åˆ†é¡µæŸ¥è¯¢æ¥å£åŠŸèƒ½æ˜¯å¦æ­£å¸¸ã€‚è¯·æ±‚å…¥å‚å¦‚ä¸‹ï¼š

```json
{
  "current":1,
  "size": 10
}
```

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/a9da818c936a05599ef3202919aaf645.png)


å¯ä»¥çœ‹åˆ°æœåŠ¡ç«¯è¿”å›çš„é¦–é¡µæ–‡ç« å±•ç¤ºç›¸å…³æ•°æ®éƒ½æ˜¯Â `OK`Â çš„ï¼ŒåŒ…æ‹¬æ–‡ç« æ‰€å±çš„åˆ†ç±»åç§°ã€åˆ†ç±»Â `ID`Â , ä»¥åŠæ ‡ç­¾é›†åˆçš„æ•°æ®ã€‚æ¥å£æµ‹è¯•é€šè¿‡ã€‚