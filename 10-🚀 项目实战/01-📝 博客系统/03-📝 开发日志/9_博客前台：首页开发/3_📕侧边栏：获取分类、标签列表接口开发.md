---
æ–‡ç« æ ‡é¢˜: "[[3_ğŸ“•ä¾§è¾¹æ ï¼šè·å–åˆ†ç±»ã€æ ‡ç­¾åˆ—è¡¨æ¥å£å¼€å‘]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  æ–‡ç« è¯¦ç»†æ¼”ç¤ºäº†åŸºäºSpring Bootå¼€å‘è·å–æ–‡ç« åˆ†ç±»å’Œæ ‡ç­¾åˆ—è¡¨çš„RESTful APIæ¥å£ã€‚æ¶µç›–æ¥å£å®šä¹‰ã€åˆ†å±‚æ¶æ„ï¼ˆControllerã€Serviceã€Mapperï¼‰çš„ä»£ç å®ç°ã€DOåˆ°VOæ•°æ®è½¬æ¢å’Œæ¥å£æµ‹è¯•ï¼Œæ˜¯å…¸å‹çš„åç«¯æ•°æ®æŸ¥è¯¢æ¥å£å¼€å‘å®è·µã€‚
æ–‡ç« æ ‡ç­¾:
- "åç«¯å¼€å‘"
- "RESTful API"
- "Spring Boot"
- "Java"
- "åˆ†å±‚æ¶æ„"
- "æ ‡ç­¾ç®¡ç†"
- "åˆ†ç±»ç®¡ç†"
- "æ•°æ®æŸ¥è¯¢"
ç›¸å…³æ–‡ç« :
- "[[12_ğŸ“•æ–‡ç« ç®¡ç†ï¼šè·å–æ‰€æœ‰æ ‡ç­¾ Select åˆ—è¡¨æ¥å£å¼€å‘]]"
- "[[16_ğŸ“•è·å–å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯æ¥å£å¼€å‘]]"
- "[[2_ğŸ“•æ–‡ç« åˆ†ç±»ï¼šæ–°å¢æ¥å£å¼€å‘]]"
- "[[3_ğŸ“•æ–‡ä»¶ä¸Šä¼ æ¥å£å¼€å‘]]"
- "[[4_ğŸ“•åšå®¢è®¾ç½®ï¼šæ›´æ–°æ¥å£å¼€å‘]]"
æ–‡ç« åˆ†ç±»: "ğŸš€ é¡¹ç›®å®æˆ˜"
æ–‡ç« è·¯å¾„: "10-ğŸš€ é¡¹ç›®å®æˆ˜/01-ğŸ“ åšå®¢ç³»ç»Ÿ/03-ğŸ“ å¼€å‘æ—¥å¿—/9_åšå®¢å‰å°ï¼šé¦–é¡µå¼€å‘/3_ğŸ“•ä¾§è¾¹æ ï¼šè·å–åˆ†ç±»ã€æ ‡ç­¾åˆ—è¡¨æ¥å£å¼€å‘.md"
æ–‡ç« éš¾åº¦: åˆçº§ ğŸ’§
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­ æ ¸å¿ƒèƒ½åŠ›
åˆ›å»ºæ—¶é—´: 2024-05-10 09:50:54
ä¿®æ”¹æ—¶é—´: 2025-05-27 00:59:18
---

æœ¬å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç»§ç»­é¦–é¡µç›¸å…³æ¥å£çš„å¼€å‘å·¥ä½œï¼Œè¿™æ¬¡æ˜¯ä¾§è¾¹æ  â€”â€”Â _è·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨_ã€_è·å–æ ‡ç­¾åˆ—è¡¨_ æ¥å£ã€‚`UI`Â åŸå‹å›¾å¦‚ä¸‹ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/e60578c43f19835450ad917bd2adc89f.png)


## 1 è·å–åˆ†ç±»åˆ—è¡¨æ¥å£

### 1.1 æ¥å£ã€å‡ºå…¥å‚æ ¼å¼å®šä¹‰

#### 1.1.1 æ¥å£è·¯å¾„

```http
POST /category/list
```

#### 1.1.2 å…¥å‚

æ— å…¥å‚ã€‚
#### 1.1.3 å‡ºå‚

```json
{
  "success": true,
  "message": null,
  "errorCode": null,
  "data": [
    {
      "id": 5, // åˆ†ç±» ID
      "name": "fdsfdsf" // åˆ†ç±»åç§°
    },
    {
      "id": 6,
      "name": "å°å“ˆå­¦Java"
    }
  ]
}
```

### 1.2 å·¥ç¨‹ç»“æ„

è·å–åˆ†ç±»åˆ—è¡¨æ¥å£ä¸»è¦æ¶‰åŠå¦‚ä¸‹æ ‡æ³¨çš„ç±»ã€æ¥å£ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/fe30c0fdac4f1ceef69402e5fbd0ec09.png)

### 1.3 æ–°å¢ service å±‚

åœ¨Â `weblog-web`Â æ¨¡å—ä¸­çš„Â `/service`Â åŒ…ä¸‹ï¼Œåˆ›å»ºÂ `CategoryService`Â åˆ†ç±»ä¸šåŠ¡å±‚æ¥å£ï¼Œå¹¶å£°æ˜ä¸€ä¸ªè·å–åˆ†ç±»åˆ—è¡¨çš„æ¥å£ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public interface CategoryService {
    /**
     * è·å–åˆ†ç±»åˆ—è¡¨
     * @return
     */
    Response findCategoryList();
}
```

ç„¶ååœ¨Â `/impl`Â åŒ…ä¸­åˆ›å»ºå…¶å®ç°ç±»Â `CategoryServiceImpl`Â ï¼Œ å¹¶å®ç°ä¸Šé¢å£°æ˜çš„æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
@Service
@Slf4j
public class CategoryServiceImpl implements CategoryService {

    @Autowired
    private CategoryMapper categoryMapper;

    /**
     * è·å–åˆ†ç±»åˆ—è¡¨
     *
     * @return
     */
    @Override
    public Response findCategoryList() {
        // æŸ¥è¯¢æ‰€æœ‰åˆ†ç±»
        List<CategoryDO> categoryDOS = categoryMapper.selectList(Wrappers.emptyWrapper());

        // DO è½¬ VO
        List<FindCategoryListRspVO> vos = null;
        if (!CollectionUtils.isEmpty(categoryDOS)) {
            vos = categoryDOS.stream()
                    .map(categoryDO -> FindCategoryListRspVO.builder()
                            .id(categoryDO.getId())
                            .name(categoryDO.getName())
                            .build())
                    .collect(Collectors.toList());
        }

        return Response.success(vos);
    }
}
```

ä¸Šè¿°ä¸šåŠ¡æ–¹æ³•ä¸­ï¼Œé¦–å…ˆé€šè¿‡Â `categoryMapper.selectList(Wrappers.emptyWrapper())`Â æŸ¥è¯¢å‡ºäº†æ‰€æœ‰çš„åˆ†ç±»è®°å½•ï¼Œè‹¥é›†åˆä¸ä¸ºç©ºï¼Œåˆ™è¿›è¡ŒÂ `DO`Â ç±»è£…æ¢Â `VO`Â ç±»çš„æ“ä½œï¼Œæœ€ç»ˆå“åº”ä¸€ä¸ªæˆåŠŸçš„è¿”å‚ã€‚

### 1.4 æ–°å¢ controller æ¥å£

æ¥ç€ï¼Œåœ¨Â `/controller`Â åŒ…ä¸‹æ–°å»ºä¸€ä¸ªÂ `CategoryController`Â æ§åˆ¶å™¨ï¼Œå¹¶æ·»åŠ Â `/category/list`Â æ¥å£ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
@RestController
@RequestMapping("/category")
@Api(tags = "åˆ†ç±»")
public class CategoryController {

    @Autowired
    private CategoryService categoryService;

    @PostMapping("/list")
    @ApiOperation(value = "å‰å°è·å–åˆ†ç±»åˆ—è¡¨")
    @ApiOperationLog(description = "å‰å°è·å–åˆ†ç±»åˆ—è¡¨")
    public Response findCategoryList() {
        return categoryService.findCategoryList();
    }

}
```

### 1.5 æµ‹è¯•ç»“æœ

é‡å¯é¡¹ç›®ï¼Œæµè§ˆå™¨è®¿é—®Â `/doc.html`Â , æµ‹è¯•ä¸€æ³¢æ¥å£åŠŸèƒ½æ˜¯å¦æ­£å¸¸ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œèƒ½å¤Ÿæ­£ç¡®è·å–åˆ†ç±»åˆ—è¡¨æ•°æ®ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/1fb76879a226a0365e3e0d9849b17ed1.png)

## 2 è·å–æ ‡ç­¾åˆ—è¡¨æ¥å£

### 2.1 æ¥å£ã€å‡ºå…¥å‚æ ¼å¼å®šä¹‰

#### 2.1.1 æ¥å£è·¯å¾„

```
POST /tag/list
```

#### 2.1.2 å…¥å‚

æ— å…¥å‚ã€‚

#### 2.1.3 å‡ºå‚

```
{
  "success": true,
  "message": null,
  "errorCode": null,
  "data": [
    {
      "id": 8, // æ ‡ç­¾ ID
      "name": "æ ‡ç­¾3" // æ ‡ç­¾åç§°
    },
    {
      "id": 9,
      "name": "æ ‡ç­¾4"
    }
  ]
}
```

### 2.2 å·¥ç¨‹ç»“æ„

è·å–æ ‡ç­¾åˆ—è¡¨æ¥å£ä¸»è¦æ¶‰åŠå¦‚ä¸‹ç±»ã€æ¥å£ï¼š

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/939c03e75b0793bd06410842ac34ed80.png)


### 2.3 æ–°å¢ service ä¸šåŠ¡å±‚

åœ¨Â `/service`Â åŒ…ä¸‹åˆ›å»ºÂ `TagService`Â æ ‡ç­¾ä¸šåŠ¡æ¥å£ï¼Œå¹¶å£°æ˜ä¸€ä¸ªè·å–æ ‡ç­¾åˆ—è¡¨æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public interface TagService {
    /**
     * è·å–æ ‡ç­¾åˆ—è¡¨
     * @return
     */
    Response findTagList();
}
```

è®©ååœ¨Â `/impl`Â åŒ…ä¸‹åˆ›å»ºÂ `TagServiceImpl`Â å®ç°ç±»ï¼Œå¹¶å®ç°ä¸Šè¿°æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
@Service
@Slf4j
public class TagServiceImpl implements TagService {

    @Autowired
    private TagMapper tagMapper;

    /**
     * è·å–æ ‡ç­¾åˆ—è¡¨
     *
     * @return
     */
    @Override
    public Response findTagList() {
        // æŸ¥è¯¢æ‰€æœ‰æ ‡ç­¾
        List<TagDO> tagDOS = tagMapper.selectList(Wrappers.emptyWrapper());

        // DO è½¬ VO
        List<FindTagListRspVO> vos = null;
        if (!CollectionUtils.isEmpty(tagDOS)) {
            vos = tagDOS.stream()
                    .map(tagDO -> FindTagListRspVO.builder()
                            .id(tagDO.getId())
                            .name(tagDO.getName())
                            .build())
                    .collect(Collectors.toList());
        }

        return Response.success(vos);
    }
}
```

### 2.4 æ–°å¢ controller æ¥å£

åœ¨Â `/controller`Â åŒ…ä¸‹æ–°å¢Â `TagController`Â æ ‡ç­¾æ§åˆ¶å™¨ï¼Œå¹¶æ·»åŠ Â `/tag/list`Â æ¥å£ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
@RestController
@RequestMapping("/tag")
@Api(tags = "æ ‡ç­¾")
public class TagController {

    @Autowired
    private TagService tagService;

    @PostMapping("/list")
    @ApiOperation(value = "å‰å°è·å–æ ‡ç­¾åˆ—è¡¨")
    @ApiOperationLog(description = "å‰å°è·å–æ ‡ç­¾åˆ—è¡¨")
    public Response findTagList() {
        return tagService.findTagList();
    }

}
```

### 2.5 æµ‹è¯•çœ‹çœ‹

é‡å¯é¡¹ç›®ï¼Œæµè§ˆå™¨è®¿é—®Â `/doc.html`Â , æµ‹è¯•ä¸€æ³¢è¯¥æ¥å£åŠŸèƒ½ã€‚OK, å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè·å–æ ‡ç­¾åˆ—è¡¨æ¥å£è°ƒè¯•é€šè¿‡ã€‚

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/05/ea20a738b2f8f12fc344741e35f89f3d.png)
