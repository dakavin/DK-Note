æœ¬å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä¸ºåç«¯æœåŠ¡æ·»åŠ åˆ†ç±»åˆ—è¡¨åˆ†é¡µæ•°æ®æŸ¥è¯¢æ¥å£ã€‚

## ä¸€ã€ä»€ä¹ˆæ˜¯åˆ†é¡µæŸ¥è¯¢ï¼Ÿ

ä¸‹å›¾æ˜¯å°å“ˆä»äº¬ä¸œä¸ŠæŸ¥è¯¢å…³é”®è¯Â _ã€Œæ‰‹æœºã€_Â ï¼Œå±•ç¤ºçš„æ‰‹æœºæ•°æ®å°±æ˜¯é€šè¿‡åˆ†é¡µæŸ¥è¯¢æ¥å®Œæˆçš„ï¼Œå…±æœ‰ 91 é¡µï¼š

![äº¬ä¸œå•†åŸçš„åˆ†é¡µæŸ¥è¯¢](https://img.quanxiaoha.com/quanxiaoha/167246380737773)äº¬ä¸œå•†åŸçš„åˆ†é¡µæŸ¥è¯¢

åˆ†é¡µæŸ¥è¯¢å°±æ˜¯**æŠŠéœ€è¦æŸ¥è¯¢çš„æ•°æ®é›†è¿›è¡Œåˆ†æ‰¹å±•ç¤º**ï¼Œæ¯”å¦‚å•†å“è¡¨ä¸­æœ‰ 1ä¸‡ æ¡æ‰‹æœºæ•°æ®ï¼Œæ¯é¡µæŒ‰å›ºå®šæ•°é‡å±•ç¤ºã€‚==åˆ†é¡µæ¥å£å…è®¸å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä»æœåŠ¡å™¨ç«¯è·å–æ•°æ®çš„ä¸€ä¸ªéƒ¨åˆ†ï¼ˆå³ä¸€é¡µï¼‰ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§è·å–æ‰€æœ‰æ•°æ®==ã€‚è¿™ä¸€é¡µé€šå¸¸åŒ…å«ä¸€å®šæ•°é‡çš„æ•°æ®è®°å½•ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªç½‘é¡µä¸Šæ˜¾ç¤ºçš„äº§å“åˆ—è¡¨ã€æœç´¢ç»“æœã€æˆ–æ˜¯ç¤¾äº¤åª’ä½“å¸–å­ç­‰ã€‚

## äºŒã€åˆ†é¡µæ¥å£å…³é”®å‚æ•°ï¼š

1. **é¡µç ï¼ˆPage Numberï¼‰**ï¼šè¡¨ç¤ºç”¨æˆ·å¸Œæœ›è·å–çš„é¡µæ•°ã€‚é€šå¸¸ä»ç¬¬ä¸€é¡µå¼€å§‹é€’å¢ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©è·³è½¬åˆ°ä¸åŒçš„é¡µç ä»¥è·å–ä¸åŒçš„æ•°æ®é›†ã€‚
2. **æ¯é¡µæ•°æ®æ•°é‡ï¼ˆPage Sizeï¼‰**ï¼šè¡¨ç¤ºæ¯ä¸€é¡µåŒ…å«çš„æ•°æ®è®°å½•æ•°é‡ã€‚ç”¨æˆ·å¯ä»¥è®¾ç½®æ¯é¡µæ˜¾ç¤ºå¤šå°‘æ¡æ•°æ®ï¼Œè¿™ä¸ªå€¼é€šå¸¸ç”±ç”¨æˆ·è‡ªè¡Œé€‰æ‹©æˆ–è€…ç”±åº”ç”¨ç¨‹åºé»˜è®¤è®¾å®šã€‚
3. **æ€»è®°å½•æ•°ï¼ˆTotal Recordsï¼‰**ï¼šè¡¨ç¤ºæ•´ä¸ªæ•°æ®é›†ä¸­çš„æ€»æ•°æ®è®°å½•æ•°é‡ã€‚è¿™ä¸ªå€¼é€šå¸¸ç”¨äºè®¡ç®—æ€»å…±æœ‰å¤šå°‘é¡µæ•°æ®å¯ä¾›åˆ†é¡µä½¿ç”¨ã€‚

## ä¸‰ã€ä¸ºä»€ä¹ˆéœ€è¦åˆ†é¡µæ¥å£ï¼Ÿ

1. **æ€§èƒ½ä¼˜åŒ–**ï¼šå¯¹äºå¤§å‹æ•°æ®é›†ï¼Œä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨æ•°æ®å¯èƒ½ä¼šå¯¼è‡´ç½‘ç»œè¯·æ±‚å˜å¾—éå¸¸æ…¢ï¼Œæ¶ˆè€—å¤§é‡çš„å¸¦å®½å’ŒæœåŠ¡å™¨èµ„æºã€‚åˆ†é¡µå¯ä»¥é™ä½å•æ¬¡è¯·æ±‚çš„æ•°æ®é‡ï¼Œæé«˜æ•°æ®çš„åŠ è½½é€Ÿåº¦å’Œæ€§èƒ½ã€‚
2. **ç”¨æˆ·ä½“éªŒ**ï¼šåˆ†é¡µå…è®¸ç”¨æˆ·åœ¨å¤§æ•°æ®é›†ä¸­æµè§ˆæ•°æ®ï¼Œè€Œä¸ä¼šè¢«ä¸€å¤§å †æ•°æ®æ·¹æ²¡ã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è½»æ¾æµè§ˆä¸åŒé¡µçš„æ•°æ®ï¼Œæä¾›äº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚
3. **æœåŠ¡å™¨èµ„æºç®¡ç†**ï¼šåˆ†é¡µå¯ä»¥å¸®åŠ©æœåŠ¡å™¨æ›´å¥½åœ°ç®¡ç†èµ„æºã€‚æœåŠ¡å™¨åªéœ€æä¾›å®¢æˆ·ç«¯è¯·æ±‚çš„é‚£ä¸€éƒ¨åˆ†æ•°æ®ï¼Œè€Œä¸éœ€è¦ä¸€æ¬¡æ€§åŠ è½½æ•´ä¸ªæ•°æ®é›†ï¼Œä»è€Œå‡è½»äº†æœåŠ¡å™¨çš„è´Ÿæ‹…ã€‚
4. **æ•°æ®ä¼ è¾“æˆæœ¬**ï¼šå¯¹äºç§»åŠ¨åº”ç”¨æˆ–è€…æœ‰é™å¸¦å®½çš„ç½‘ç»œç¯å¢ƒï¼Œå‡å°‘ä¸€æ¬¡æ€§ä¼ è¾“çš„æ•°æ®é‡å¯ä»¥é™ä½æ•°æ®ä¼ è¾“æˆæœ¬ã€‚

## å››ã€å¼€å§‹åŠ¨æ‰‹

äº†è§£äº†ä»€ä¹ˆæ˜¯åˆ†é¡µæŸ¥è¯¢åï¼Œæˆ‘ä»¬å¼€å§‹ç€æ‰‹ï¼Œä¸ºÂ `weblog`Â åå°æœåŠ¡æ·»åŠ åˆ†ç±»çš„åˆ†é¡µæŸ¥è¯¢æ¥å£ã€‚

### 4.1 å®šä¹‰æ¥å£å‡ºå…¥å‚ JSON æ ¼å¼

å…¥å‚Â `JSON`Â æ ¼å¼ï¼š

```json
{
  "current": 1, // è¦æŸ¥è¯¢çš„é¡µç 
  "size": 10, // æ¯é¡µè¦å±•ç¤ºçš„æ•°æ®é‡
  "name": "", // åˆ†ç±»åç§°
  "startDate": "", // èµ·å§‹åˆ›å»ºæ—¶é—´
  "endDate": "", // ç»“æŸåˆ›å»ºæ—¶é—´
}
```

å‡ºå‚Â `JSON`Â æ ¼å¼ï¼š

```json
{
  "success": true,
  "message": null,
  "errorCode": null,
  "data": [
    {
      "name": "æµ‹è¯•åˆ†ç±»",
      "createTime": "2023-09-18 12:02:31"
    },
    {
      "name": "test",
      "createTime": "2023-09-18 11:48:58"
    },
    {
      "name": "Postman",
      "createTime": "2023-09-07 11:06:01"
    },
    {
      "name": "Java",
      "createTime": "2023-09-07 11:05:53"
    }
  ],
  "total": 4, // æ€»è®°å½•æ•°
  "size": 10, // æ¯é¡µå±•ç¤ºçš„è®°å½•æ•°
  "current": 1, // å½“å‰é¡µç 
  "pages": 1 // æ€»å…±å¤šå°‘é¡µ
}
```

ä¸Šè¿°å‡ºå‚æ ¼å¼ä¸­ï¼Œé’ˆå¯¹ä¹‹å‰çš„å“åº”ç±»å­—æ®µåŸºç¡€ä¹‹ä¸Šï¼Œæˆ‘ä»¬æ·»åŠ äº†åˆ†é¡µç›¸å…³çš„å­—æ®µï¼Œå¦‚==æ€»è®°å½•æ•°ã€æ¯é¡µå±•ç¤ºçš„è®°å½•ã€å½“å‰é¡µç ï¼Œä»¥åŠæ€»å…±å¤šå°‘é¡µ==ã€‚è¿™äº›æ•°æ®éœ€è¦æä¾›ç»™å‰ç«¯ï¼Œä»¥ä¾›æ¸²æŸ“åˆ†é¡µåˆ—è¡¨ä½¿ç”¨ã€‚

### 4.2 å°è£…åˆ†é¡µå“åº”ç±»

åœ¨Â `weblog-module-common`Â å­æ¨¡å—ä¸­çš„Â `/utils`Â å·¥å…·åŒ…ä¸­ï¼Œåˆ›å»ºÂ `PageResponse`Â åˆ†é¡µå“åº”ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
@Data
public class PageResponse<T> extends Response<List<T>> {

    /**
     * æ€»è®°å½•æ•°
     */
    private long total = 0L;

    /**
     * æ¯é¡µæ˜¾ç¤ºçš„è®°å½•æ•°ï¼Œé»˜è®¤æ¯é¡µæ˜¾ç¤º 10 æ¡
     */
    private long size = 10L;

    /**
     * å½“å‰é¡µç 
     */
    private long current;

    /**
     * æ€»é¡µæ•°
     */
    private long pages;

    /**
     * æˆåŠŸå“åº”
     * @param page Mybatis Plus æä¾›çš„åˆ†é¡µæ¥å£
     * @param data
     * @return
     * @param <T>
     */
    public static <T> PageResponse<T> success(IPage page, List<T> data) {
        PageResponse<T> response = new PageResponse<>();
        response.setSuccess(true);
        response.setCurrent(Objects.isNull(page) ? 1L : page.getCurrent());
        response.setSize(Objects.isNull(page) ? 10L : page.getSize());
        response.setPages(Objects.isNull(page) ? 0L : page.getPages());
        response.setTotal(Objects.isNull(page) ? 0L : page.getTotal());
        response.setData(data);
        return response;
    }


}
```

æˆ‘ä»¬è®©åˆ†é¡µå“åº”å·¥å…·ç±»ç»§æ‰¿è‡ªä¹‹å‰å·²ç»å®šä¹‰å¥½çš„Â `Response`Â å“åº”ç±»ï¼Œå¹¶å¯¹å…¶æ‹“å±•äº†ä¸€äº›åˆ†é¡µæ‰€éœ€çš„å­—æ®µã€‚æœ€åæ·»åŠ äº†Â `success()`Â æˆåŠŸå“åº”æ–¹æ³•ï¼Œåœ¨æ–¹æ³•å†…æ„å»ºå“åº”ä½“ã€‚è§£é‡Šä¸€ä¸‹è¯¥æ–¹æ³•çš„å…¥å‚ï¼š

- `IPage page`Â : Mybatis Plus å†…éƒ¨æä¾›çš„åˆ†é¡µæ¥å£ç±»ï¼Œä»¥å…¥å‚çš„æ–¹å¼ä¼ å…¥ï¼Œé€šè¿‡å®ƒæ‹¿åˆ°ç›¸å…³çš„åˆ†é¡µæ•°æ®å¡åˆ°Â `PageResponse`Â å¯¹åº”å­—æ®µä¸­ï¼›
- `List<T> data`Â : åˆ†é¡µæ•°æ®é›†åˆï¼Œç”¨äºå¡åˆ°Â `data`Â å­—æ®µä¸­ã€‚

### 4.3 å°è£…åˆ†é¡µè¯·æ±‚åŸºç¡€ç±»ï¼šBasePageQuery

åœ¨åˆ†é¡µè¯·æ±‚ä¸­ï¼Œé€šå¸¸å…¥å‚ä¸­éƒ½ä¼šå¸¦æœ‰ _è¯·æ±‚é¡µç _ã€_æ¯é¡µè¦å±•ç¤ºçš„æ•°æ®é‡_ï¼Œè¿™ä¸¤ä¸ªå­—æ®µæ˜¯é€šç”¨çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°è£…åˆ°ä¸€ä¸ªåŸºç¡€ç±»ä¸­ï¼Œåç»­å®šä¹‰è¯·æ±‚Â `VO`Â ç±»æ—¶ï¼Œç›´æ¥ç»§æ‰¿å®ƒå°±è¡Œã€‚åœ¨Â `weblog-module-common`Â å­æ¨¡å—ä¸­æ–°å»ºÂ `/model`Â åŒ…ï¼Œå¹¶æ·»åŠ Â `BasePageQuery`Â åŸºç¡€åˆ†é¡µè¯·æ±‚ç±»ï¼š

![](https://img.quanxiaoha.com/quanxiaoha/169508525668562)

ä»£ç å¦‚ä¸‹ï¼š

```java
@Data
public class BasePageQuery {
    /**
     * å½“å‰é¡µç , é»˜è®¤ç¬¬ä¸€é¡µ
     */
    private Long current = 1L;
    /**
     * æ¯é¡µå±•ç¤ºçš„æ•°æ®æ•°é‡ï¼Œé»˜è®¤æ¯é¡µå±•ç¤º 10 æ¡æ•°æ®
     */
    private Long size = 10L;
}

```

### 4.4 åˆ†é¡µæ’ä»¶

åœ¨å°è£…å¥½äº†å“åº”å·¥å…·ç±»ã€åˆ†é¡µåŸºç¡€å¯¹è±¡åã€‚æˆ‘ä»¬æ¥ä¸º Mybatis Plus æ·»åŠ åˆ†é¡µæ’ä»¶ï¼Œè¯¥æ’ä»¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ Mybatis Plus ä¸­ï¼Œæ–¹ä¾¿åœ°å®ç°åˆ†é¡µåŠŸèƒ½ã€‚ç¼–è¾‘Â `MybatisPlusConfig`Â é…ç½®ç±»ï¼Œæ·»åŠ åˆ†é¡µæ’ä»¶ï¼š

```java
/**  
 * æ·»åŠ åˆ†é¡µæ’ä»¶  
 */  
@Bean  
public MybatisPlusInterceptor mybatisPlusInterceptor(){  
    MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();  
    interceptor.addInnerInterceptor(new PaginationInnerInterceptor());  
    return interceptor;  
}
```

### 4.5 å®šä¹‰æ¥å£å‡ºå…¥å‚ VO

#### 4.5.1 æ¥å£å…¥å‚ VO ç±»

åœ¨Â `weblog-module-admin`Â æ¨¡å—ä¸­çš„Â `/model`Â åŒ…ä¸‹ï¼Œå®šä¹‰åˆ†é¡µæ¥å£çš„å…¥å‚Â `FindCategoryPageListReqVO`Â ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
@Data  
@AllArgsConstructor  
@Builder  
@ApiModel("æŸ¥è¯¢åˆ†ç±»åˆ†é¡µæ•°æ®çš„å…¥å‚VO")  
public class FindCategoryPageListReqVO extends BasePageQuery {  
    /**  
     * åˆ†ç±»åç§°  
     */  
    private String name;  
    /**  
     * åˆ›å»ºçš„èµ·å§‹æ—¥æœŸ  
     */  
    private LocalDateTime startDate;  
    /**  
     * åˆ›å»ºçš„ç»“æŸæ—¥æœŸ  
     */  
    private LocalDateTime endDate;  
}
```

åŸºæœ¬å°±æ˜¯ç»“åˆåŸå‹é¡µé¢çš„æŸ¥è¯¢æ¡ä»¶æ¥å®šä¹‰ï¼Œå¦‚åˆ†ç±»åç§°ã€åˆ›å»ºæ—¶é—´èµ·å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´ã€‚æ³¨æ„ï¼Œå®ƒæ¥ç»§æ‰¿äº†Â `BasePageQuery`Â , è¿™æ ·å°±æ— éœ€å®šä¹‰å½“å‰é¡µç ã€æ¯é¡µå±•ç¤ºæ•°é‡ä¸¤ä¸ªå­—æ®µäº†ã€‚

#### 4.5.2 æ¥å£å‡ºå‚ VO ç±»

![](https://img.quanxiaoha.com/quanxiaoha/169509455368492)

å¯ä»¥çœ‹åˆ°ï¼Œåˆ†ç±»åˆ†é¡µåˆ—è¡¨ä¸­åªéœ€è¦å±•ç¤ºåç§°ã€åˆ›å»ºæ—¶é—´ä¸¤ä¸ªå­—æ®µï¼Œå¯¹åº”çš„å‡ºå‚Â `VO`Â å®šä¹‰å¦‚ä¸‹ï¼š

```java
@Data  
@AllArgsConstructor  
@NoArgsConstructor  
@Builder  
public class FindCategoryPageListRspVO {  
    /**  
     * åˆ†ç±»ID  
     */    
     private Long id;  
    /**  
     * åˆ†ç±»åç§°  
     */  
    private String name;  
    /**  
     * åˆ›å»ºæ—¶é—´  
     */  
    private LocalDateTime createTime;  
}
```

### 4.6 åœ¨ service å±‚æ·»åŠ ä¸šåŠ¡æ–¹æ³•

ç¼–è¾‘ä¸Šå°èŠ‚ä¸­åˆ›å»ºå¥½çš„Â `AdminCategoryService`Â åˆ†ç±»ä¸šåŠ¡æ¥å£ï¼Œ å£°æ˜Â `findCategoryList`Â åˆ†é¡µæŸ¥è¯¢æ–¹æ³•ï¼š

```java
public interface AdminCategoryService {
	// çœç•¥..

    /**
     * åˆ†ç±»åˆ†é¡µæ•°æ®æŸ¥è¯¢
     * @param findCategoryPageListReqVO
     * @return
     */
    PageResponse findCategoryList(FindCategoryPageListReqVO findCategoryPageListReqVO);
}
```

ç„¶åï¼Œåœ¨Â `AdminCategoryServiceImpl`Â ç±»ä¸­å®ç°è¯¥æ–¹æ³•ï¼š

```java
@Autowired
private CategoryMapper categoryMapper;
   
@Override  
public PageResponse findCategoryList(FindCategoryPageListReqVO findCategoryPageListReqVO) {  
    // è·å–å½“å‰é¡µï¼Œä»¥åŠæ¯é¡µéœ€è¦å±•ç¤ºçš„æ•°æ®æ•°é‡  
    Long current = findCategoryPageListReqVO.getCurrent();  
    Long size = findCategoryPageListReqVO.getSize();  
  
    // åˆ†é¡µå¯¹è±¡ï¼ˆæŸ¥è¯¢ç¬¬å‡ é¡µï¼Œæ¯é¡µå¤šå°‘æ•°æ®ï¼‰  
    Page<CategoryDO> page = new Page<>(current,size);  
  
    // æ„å»ºæŸ¥è¯¢æ¡ä»¶  
    LambdaQueryWrapper<CategoryDO> lqw = new LambdaQueryWrapper<>();  
  
    String name = findCategoryPageListReqVO.getName();  
    LocalDateTime startDate = findCategoryPageListReqVO.getStartDate();  
    LocalDateTime endDate = findCategoryPageListReqVO.getEndDate();  
  
    lqw  
            // like æ¨¡å—æŸ¥è¯¢  
            .like(StringUtils.isNotBlank(name),CategoryDO::getName,name.trim())  
            // åˆ›å»ºæ—¥æœŸ å¤§äºç­‰äº èµ·å§‹æ—¥æœŸ  
            .ge(Objects.nonNull(startDate),CategoryDO::getCreateTime,startDate)  
            // åˆ›å»ºæ—¥æœŸ å°äºç­‰äº ç»“æŸæ—¥æœŸ  
            .le(Objects.nonNull(endDate),CategoryDO::getCreateTime,endDate)  
            // æŒ‰ç…§åˆ›å»ºæ—¥æœŸé™åºæ’åˆ—  
            .orderByDesc(CategoryDO::getCreateTime);  
  
    // æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢  
    Page<CategoryDO> categoryDOPage = categoryMapper.selectPage(page, lqw);  
    List<CategoryDO> categoryDOS = categoryDOPage.getRecords();  
  
    // DO è½¬ VO    List<FindCategoryPageListRspVO> vos = null;  
    if (!CollectionUtils.isEmpty(categoryDOS)){  
        vos = categoryDOS.stream()  
                .map(categoryDO -> FindCategoryPageListRspVO.builder()  
                        .id(categoryDO.getId())  
                        .name(categoryDO.getName())  
                        .createTime(categoryDO.getCreateTime())  
                        .build())  
                .collect(Collectors.toList());  
    }  
    return PageResponse.success(categoryDOPage,vos);  
}
```

ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆæ‹¿åˆ°äº†æäº¤è¿‡æ¥çš„æŸ¥è¯¢é¡µç ã€æ¯é¡µéœ€è¦å±•ç¤ºçš„æ•°æ®æ•°é‡ä¸¤ä¸ªå­—æ®µï¼Œé€šè¿‡å®ƒä»¬åˆå§‹åŒ–äº†ä¸€ä¸ªÂ `Page`Â åˆ†é¡µå¯¹è±¡ã€‚ç„¶åï¼Œæ„å»ºÂ `SQL`Â çš„æŸ¥è¯¢æ¡ä»¶ï¼ŒåŒ…æ‹¬å½“åˆ†ç±»ä¸ä¸ºç©ºæ—¶ï¼Œæ·»åŠ åç§°çš„æ¨¡ç³ŠæŸ¥è¯¢ï¼›åŒºé—´å­—æ®µä¸ä¸ºç©ºæ—¶ï¼Œæ„å»ºÂ `create_time`Â å­—æ®µçš„å¤§äºç­‰äºã€å°äºç­‰äºç­›é€‰ï¼Œä»¥åŠæŒ‰åˆ›å»ºæ—¶é—´å€’å™æ’åˆ—ã€‚

æ¡ä»¶æ„å»ºå®Œæ¯•åï¼Œé€šè¿‡è°ƒç”¨Â `categoryMapper.selectPage()`Â æ–¹æ³•æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢ï¼Œåˆ†é¡µæ’ä»¶ä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬æ‰§è¡Œä¸¤æ¡Â `SQL`Â ,Â `select count(*)`Â ç”¨äºæŸ¥è¯¢è®°å½•æ€»æ•°ï¼Œè‹¥æœ‰æ•°æ®ï¼Œåˆ™æ‰§è¡ŒÂ `limit`Â åˆ†é¡µè¯­å¥ï¼š

![](https://img.quanxiaoha.com/quanxiaoha/169509552279880)

æŸ¥è¯¢æ‰§è¡Œå®Œæ¯•åï¼Œé€šè¿‡Â `getRecords()`Â æ–¹æ³•æ‹¿åˆ°åˆ†é¡µæ•°æ®ï¼Œè‹¥ä¸ä¸ºç©ºï¼Œåˆ™é€šè¿‡Â `Java 8`Â çš„æ–°ç‰¹æ€§Â `stream`Â æµå°†Â `DO`Â ç±»è½¬æ¢ä¸ºÂ `VO`Â è§†å›¾ç±»ï¼Œè¿”å›ç»™å‰ç«¯ã€‚

### 4.7 controller æ·»åŠ åˆ†é¡µæ¥å£

`service`Â ä¸šåŠ¡å±‚ä»£ç å¼€å‘å®Œæ¯•åï¼Œæˆ‘ä»¬ç¼–è¾‘Â `AdminCategoryController`Â åˆ†ç±»æ§åˆ¶å™¨ï¼Œæ·»åŠ Â `/admin/category/list`Â åˆ†é¡µæ¥å£ï¼Œæ·»åŠ å†…å®¹å¦‚ä¸‹ï¼š

```java
    @Autowired
    private AdminCategoryService categoryService;
    
    @PostMapping("/category/list")
    @ApiOperation(value = "åˆ†ç±»åˆ†é¡µæ•°æ®è·å–")
    @ApiOperationLog(description = "åˆ†ç±»åˆ†é¡µæ•°æ®è·å–")
    public PageResponse findCategoryList(@RequestBody @Validated FindCategoryPageListReqVO findCategoryPageListReqVO) {
        return categoryService.findCategoryList(findCategoryPageListReqVO);
    }
```

åˆ°è¿™é‡Œï¼Œåˆ†ç±»çš„åˆ†é¡µæŸ¥è¯¢æ¥å£å°±å¼€å‘å®Œæ¯•å•¦ã€‚

## äº”ã€æµ‹è¯•ä¸€æ³¢

æ—¥å¸¸æƒ¯ä¾‹ï¼Œæ¥å£å¼€å‘å®Œæˆåï¼Œæˆ‘ä»¬å…ˆè‡ªæµ‹ä¸€ä¸‹ï¼Œçœ‹çœ‹æ¥å£æœ‰æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚

### 5.1 æ¨¡ç³ŠæŸ¥è¯¢

æˆ‘ä»¬æ¥æŸ¥è¯¢åˆ†ç±»åç§°ä¸ºÂ `æµ‹è¯•`Â çš„åˆ†é¡µæ•°æ®ï¼Œå…¥å‚Â `JSON`Â å¦‚ä¸‹ï¼š

```
{
  "current": 1,
  "endDate": "",
  "name": "æµ‹è¯•",
  "size": 10,
  "startDate": ""
}
```

![](https://img.quanxiaoha.com/quanxiaoha/169509629100197)

å¯ä»¥çœ‹åˆ°ï¼Œæ¨¡ç³ŠæŸ¥è¯¢åŠŸèƒ½æ˜¯å¯ä»¥çš„ï¼ŒæŒ‰ç…§é¢„æƒ³çš„ï¼Œä»…æŸ¥è¯¢å‡ºäº†Â `æµ‹è¯•åˆ†ç±»`Â ä¸€æ¡ï¼Œè€Œä¸”æ€»æ•°æ®ã€å½“å‰é¡µç ã€æ€»é¡µæ•°ç­‰æ•°æ®éƒ½æ˜¯æ­£ç¡®çš„ã€‚

### 5.2 æŸ¥è¯¢ç¬¬ä¸€é¡µæ•°æ®

è¿™æ¬¡æˆ‘ä»¬ä¸å¸¦ä»»ä½•æŸ¥è¯¢æ¡ä»¶ï¼Œç›´æ¥æŸ¥è¯¢ç¬¬ä¸€é¡µæ•°æ®ï¼Œç›®å‰è¡¨ä¸­æœ‰ 4 æ¡è®°å½•ï¼Œçœ‹çœ‹è¿”å›æ•°æ®æ˜¯å¦æ­£ç¡®ï¼Œå…¥å‚ä¸ºï¼š

```
{
  "current": 1,
  "endDate": "",
  "name": "",
  "size": 10,
  "startDate": ""
}
```

![](https://img.quanxiaoha.com/quanxiaoha/169509654263726)

å¯ä»¥çœ‹åˆ° 4 æ¡è®°å½•å…¨éƒ¨è¢«æŸ¥è¯¢å‡ºæ¥äº†ï¼ŒæŸ¥è¯¢ç¬¬ä¸€é¡µæ•°æ®ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚

> ğŸ’¡ TIP : ä¸å•æ˜¯è¿™ä¸¤ç§æƒ…å†µï¼Œå¦‚åŒºé—´æŸ¥è¯¢ã€è·³é¡µæŸ¥è¯¢ç­‰ç­‰ï¼Œå°ä¼™ä¼´ä»¬éƒ½å¯è‡ªè¡Œæµ‹è¯•ä¸€ä¸‹ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰Â `BUG`Â , å°å“ˆè¿™é‡Œå°±ä¸ä¸€ä¸€è¯´äº†ã€‚

## ä¸ƒã€ç»“è¯­

æœ¬å°èŠ‚ä¸­ï¼Œå°å“ˆå¸¦ç€å¤§å®¶å°†åˆ†ç±»åˆ—è¡¨çš„åˆ†é¡µæŸ¥è¯¢æ¥å£å¼€å‘å®Œæˆäº†ï¼Œä¸»è¦å·¥ä½œæœ‰åˆ†é¡µå“åº”å·¥å…·ç±»å°è£…ã€åŸºç¡€åˆ†é¡µç±»å®šä¹‰ï¼Œä»¥åŠå‡ºå…¥å‚Â `VO`Â å®šä¹‰ ,Â `service`å±‚ä¸šåŠ¡é€»è¾‘ä»£ç å¼€å‘ç­‰ç­‰ã€‚åœ¨æ¥å£å¼€å‘å®Œæˆåï¼Œæˆ‘ä»¬ä¹Ÿä¸Šæ‰‹æµ‹è¯•äº†ä¸€ä¸‹ï¼Œåˆ†é¡µæ¥å£åŠŸèƒ½æ­£å¸¸ã€‚