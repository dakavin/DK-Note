---
æ–‡ç« æ ‡é¢˜: "[[8_å®šæ—¶å™¨ï¼ˆé‡ç‚¹ï¼‰]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  è¯¦ç»†ä»‹ç»51å•ç‰‡æœºå®šæ—¶å™¨å·¥ä½œåŸç†å’Œé…ç½®æ–¹æ³•ï¼ŒåŒ…æ‹¬å¯„å­˜å™¨è®¾ç½®ã€æ—¶é’Ÿæºé€‰æ‹©ã€å¼€å…³æ§åˆ¶ç­‰ï¼Œæä¾›10mså®šæ—¶å’ŒLEDé—ªçƒå®ä¾‹ä»£ç 
tags:
- "51å•ç‰‡æœº"
- "å®šæ—¶å™¨"
- "è®¡æ•°å™¨"
- "ä¸­æ–­"
- "å¯„å­˜å™¨é…ç½®"
- "TMOD"
- "åµŒå…¥å¼ç¼–ç¨‹"
- "Cè¯­è¨€"
ç›¸å…³æ–‡ç« :
- "[[15_ç»ƒä¹ ä¸€ï¼šåŠ¨æ€æµæ°´ç¯æ§åˆ¶]]"
- "[[0_è¯¾ç¨‹å®Œæ•´å†…å®¹]]"
- "[[0_ç¬”è®°ï¼ˆé‡ç‚¹å¤‡å¿˜ï¼‰]]"
- "[[0_Cè¯­è¨€æçº²]]"
- "[[0_Linuxç³»ç»Ÿç¼–ç¨‹]]"
æ–‡ç« åˆ†ç±»: "ğŸ”§ åµŒå…¥å¼å¼€å‘"
æ–‡ç« è·¯å¾„: "05-ğŸ”§ åµŒå…¥å¼å¼€å‘/01-ğŸ¯ 51å•ç‰‡æœº/02-ğŸ”Œ å¤–è®¾ç¼–ç¨‹/8_å®šæ—¶å™¨ï¼ˆé‡ç‚¹ï¼‰.md"
æ–‡ç« éš¾åº¦: ä¸­çº§ ğŸŒ³
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­â­ ç²¾é€šå¿…å¤‡
åˆ›å»ºæ—¶é—´: 2025-01-01 23:30:23
ä¿®æ”¹æ—¶é—´: 2025-05-27 23:05:39
---

æ¶‰åŠæ‰‹å†Œ ç¬¬7ç«  å®šæ—¶å™¨/è®¡æ•°å™¨
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/3e8c64e9a809019bbb71a4a12a10efb6.png)

## 1 ç®€ä»‹

å®šæ—¶å™¨ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯ç”¨æ¥æ§åˆ¶æ—¶é—´çš„ã€‚å®ƒå¯ä»¥æ ¹æ®è®¾å®šçš„æ—¶é—´é—´éš”ï¼Œå‡†æ—¶äº§ç”Ÿè§¦å‘ä¿¡å·ï¼Œç”¨äºæ§åˆ¶ç¨‹åºçš„æ‰§è¡Œæµç¨‹ã€‚

æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®šæ—¶å™¨å‘¢ï¼Ÿ
- å›æƒ³ä¸€ä¸‹ä¹‹å‰å†™çš„ç¨‹åºï¼Œåœ¨å®ç°å»¶æ—¶è¿™ä¸€åŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†delay() å‡½æ•°ï¼Œ**è¿™ä¸ªå‡½æ•°å¹¶æ²¡æœ‰é‡‡ç”¨ä»»ä½•å¤–è®¾ï¼Œåªæ˜¯å†™äº†ä¸¤ä¸ªå¾ªç¯åµŒå¥—ï¼Œè®©cpuè®¡æ•°ï¼Œå½“è®¡æ•°å®Œæˆä¹Ÿå°±ä»£è¡¨å»¶æ—¶ç»“æŸ**ï¼Œç®€å•ç‚¹è¯´å°±æ˜¯è®©cpué€šè¿‡ä¸åœçš„è®¡æ•°æ¥æ¶ˆè€—æ—¶é—´ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼æœ‰ä¸ªå¾ˆå¤§çš„å¼Šç«¯ï¼Œå°±æ˜¯å½“cpu â€œæ­»è·‘â€ å»¶æ—¶çš„æ—¶å€™ï¼Œæ˜¯åšä¸äº†å…¶ä»–äº‹æƒ…çš„ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™éœ€è¦ä¸€ä¸ªå·¥å…·æ¥å¸®åŠ©cpuå®Œæˆè®¡æ—¶ï¼Œè¿™å°±æ˜¯å®šæ—¶å™¨çš„ä½œç”¨

51å•ç‰‡æœºæœ‰ä¸¤ä¸ªå®šæ—¶å™¨ï¼Œ`T0å’ŒT1`ã€‚è¿™ä¸¤ä¸ªå®šæ—¶å™¨å¯ä»¥é€šè¿‡å¯„å­˜å™¨è¿›è¡Œé…ç½®ï¼Œå¯å®ç°**å®šæ—¶å’Œè®¡æ•°**åŠŸèƒ½ã€‚

**å®šæ—¶å™¨æœ¬è´¨åŸç†**
- æ¯ç»è¿‡ä¸€ä¸ªæœºå™¨å‘¨æœŸï¼Œè®¡æ•°å™¨çš„å€¼å°±åŠ 1ï¼›å½“è®¡æ•°å™¨çš„å€¼è¾¾åˆ°è®¾å®šçš„å€¼æ—¶ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªä¸­æ–­ä¿¡å·ï¼Œé€šçŸ¥CPUè¿›è¡Œç›¸åº”çš„å¤„ç†
- åœ¨å®šæ—¶å™¨æ¨¡å¼ä¸‹ï¼Œ**è®¡æ•°å™¨çš„è¾“å…¥ä¿¡å·æ˜¯æœºå™¨å‘¨æœŸ**ï¼›å› æ­¤ï¼Œå½“é…ç½®ä¸ºå®šæ—¶å™¨ä½¿ç”¨æ—¶ï¼Œæ¯ç»è¿‡1ä¸ªæœºå™¨å‘¨æœŸï¼Œè®¡æ•°å­˜å‚¨å™¨çš„å€¼å°±åŠ 1ï¼Œè¿™ç§æ–¹å¼å¯ä»¥ç”¨æ¥äº§ç”Ÿå®šæ—¶ä¿¡å·ï¼Œä»¥æ§åˆ¶æ—¶é—´é—´éš”æˆ–è€…å®ç°å®šæ—¶æ“ä½œ
- ä¸¾ä¾‹ï¼šå·¥å‚è‡ªåŠ¨åŒ–ç”Ÿäº§çº¿ã€æ™ºèƒ½å®¶å±…æ§åˆ¶ã€ç½‘ç»œé€šä¿¡ç­‰åœºæ™¯ä¸­ï¼Œéƒ½éœ€è¦å®šæ—¶å™¨æ¥è¿›è¡Œç²¾å‡†çš„æ—¶é—´æ§åˆ¶

**åœ¨è®¡æ•°å™¨æ¨¡å¼ä¸‹ï¼Œè®¡æ•°å™¨çš„è¾“å…¥ä¿¡å·æ˜¯å¤–éƒ¨ä¿¡å·**
- å½“é…ç½®ä¸ºè®¡æ•°å™¨æ—¶ï¼Œæ¯æ¥ä¸€ä¸ªè´Ÿè·³å˜ä¿¡å·å°±åŠ 1ï¼Œä»¥æ­¤è¾¾åˆ°è®¡æ•°çš„ç›®çš„
- è¿™ç§æ–¹å¼å¯ä»¥ç”¨æ¥å¯¹å¤–éƒ¨äº‹ä»¶è¿›è¡Œè®¡æ•°æˆ–è€…è„‰å†²æµ‹é‡
- å¦‚ç»Ÿè®¡æŒ‰é”®æŒ‰ä¸‹çš„æ¬¡æ•°ï¼Œç»Ÿè®¡ç”µæœºç¼–ç å™¨è½¬çš„åœˆæ•°ã€‚

## 2 å®šæ—¶/è®¡æ•°å™¨ç›¸å…³çš„å¯„å­˜å™¨

![image.png|800](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/9c516af0c0b1127eb0c40389387805ee.png)
### 2.1 æ¨¡å¼é€‰æ‹©ï¼ˆTMODå¯„å­˜å™¨ï¼‰

**STC89C52RCçš„T0å’ŒT1å‡æœ‰4ç§å·¥ä½œæ¨¡å¼ï¼š**
- æ¨¡å¼0ï¼š13ä½å®šæ—¶å™¨/è®¡æ•°å™¨ï¼Œé€‚ç”¨äºçŸ­æ—¶é—´è®¡æ—¶
- **æ¨¡å¼1ï¼š16ä½å®šæ—¶å™¨/è®¡æ•°å™¨ ï¼ˆå¸¸ç”¨ï¼‰ï¼Œé€‚ç”¨äºè¾ƒé•¿æ—¶é—´è®¡æ—¶ 65536**
- æ¨¡å¼2ï¼š8ä½è‡ªåŠ¨é‡è£…æ¨¡å¼æ—¶å™¨/è®¡æ•°å™¨ æ­¤æ¨¡å¼ä¸‹ï¼Œè®¡æ—¶åˆ°è®¾å®šå€¼åä¼š**è‡ªåŠ¨é‡æ–°**å¼€å§‹è®¡æ—¶ï¼Œå®ç°**å‘¨æœŸæ€§è®¡æ—¶åŠŸèƒ½**
- æ¨¡å¼3ï¼šä¸¤ä¸ª8ä½è®¡æ•°å™¨ï¼ˆç¦ç”¨å®šæ—¶å™¨1ï¼ŒæŠŠå®šæ—¶å™¨2è®¾ç½®ä¸ºä¸¤ä¸ª8ä½è®¡æ•°å™¨ï¼‰

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/2a9d41aa43ec0f30c87f58aecbdca4fc.png)


**æ³¨æ„**
- TMODè¿™ä¸ªå¯„å­˜å™¨æ˜¯ä¸å¯ä½å¯»å€çš„
- å¦‚è¦æƒ³è®©M0è¿™ä½ç½®ä¸€çš„è¯ï¼Œç›´æ¥ M0=1ï¼›è¿™ä¸ªå†™æ³•æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºå®ƒä¸èƒ½ä½å¯»å€
- åªèƒ½ TMOD = 0x01ï¼ˆ00000001ï¼‰

**ä¾‹å¦‚åˆå§‹åŒ–å®šæ—¶å™¨0çš„æ¨¡å¼ä¸ºæ¨¡å¼1ï¼Œè®¾ç½®TMODå¯„å­˜å™¨çš„ç¬¬0ä½M0ä¸º1ï¼Œç¬¬1ä½M1ä¸º0**
- 0b0000 0001 ---> TMODï¼0x01;

**å¦‚æœæ˜¯åˆå§‹åŒ–å®šæ—¶å™¨1çš„æ¨¡å¼ä¸ºæ¨¡å¼1**
- 0b0001 0000 ---> TMOD=0X10;
### 2.2 æ—¶é’Ÿæºé€‰æ‹©ï¼ˆæ¨¡å¼1ï¼‰

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/4b277a587e7c63d7a88cfa47b53f7748.png)

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/3087ac134cdb986275d706b347359124.png)

**é€‰æ‹©å®šæ—¶å™¨/è®¡æ•°å™¨0**
- 0b0000 0001 ---> TMODï¼0x01;

**C/Tå¯„å­˜å™¨ï¼šæ—¶é’Ÿæ¥æºé€‰æ‹©**
- C/Tè¡¨ç¤ºé€‰æ‹©ç³»ç»Ÿçš„æ—¶é’Ÿï¼ˆ0ï¼‰ï¼Œè¿˜æ˜¯å¤–éƒ¨çš„å¤–é’Ÿï¼ˆ1ï¼‰
- **æ¥æºä¸€ï¼šSYSclkï¼Œç³»ç»Ÿæ—¶é’Ÿï¼Œä½œä¸º`å®šæ—¶æ¨¡å¼`ï¼ˆå¸¸ç”¨ï¼‰**
- **æ¥æºäºŒï¼šå¤–éƒ¨è„‰å†²è¾“å…¥å¼•è„šT0ï¼Œä¹Ÿå°±æ˜¯P3.4å¼•è„šï¼Œä½œä¸º`è®¡æ•°æ¨¡å¼`**

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/c62a77c1bc2752f1256e8ad62c96021e.png)

ä¸¤ä¸ªå®šæ—¶å™¨çš„C/Tå¯„å­˜å™¨å¯¹åº”TMODå¯„å­˜å™¨çš„ç¬¬2ä½å’Œç¬¬6ä½ï¼Œè¿™é‡Œè®¾ç½®å®šæ—¶å™¨0æ—¶é’Ÿæºä¸ºç³»ç»Ÿæ—¶é’Ÿï¼Œåˆ™è®¾ç½®TMODç¬¬2ä½ä¸º0
- 0b0000 0001 ---> TMODï¼0x01;

**ç³»ç»Ÿæ—¶é’Ÿï¼š12T/6T åˆ†é¢‘æ¨¡å¼é€‰æ‹©**

![image.png|800](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/32862109b0882dafb6057eda1ada237a.png)

- ä¸Šé¢çš„å¼€å…³æ˜¯é€‰æ‹©åˆ†é¢‘å™¨ï¼Œé€‰æ‹©12åˆ†é¢‘ï¼Œ**å‡è®¾èŠ¯ç‰‡æ—¶é’Ÿæ˜¯12Mhz**è¿›è¡Œ12åˆ†é¢‘å°±æ˜¯1Mhzï¼ˆ1MHz=1000kHzï¼Œ1kHz=1000Hzï¼Œæ¯ç§’é’Ÿè®¡æ•°100ä¸‡æ¬¡ï¼‰ï¼Œæ¯ä¸ªè®¡æ•°ä¸€æ¬¡å°±æ˜¯`1us`ï¼Œè¿™æ ·é…ç½®é€šè¿™æ¡çº¿è·¯é€åˆ°è®¡æ•°å™¨ï¼Œæ¯éš”1uså°±è¦è®°1æ¬¡æ•°
- åœ¨çƒ§å½•æ—¶è®¾ç½®ï¼Œé»˜è®¤ä¸º12Tæ¨¡å¼ï¼ˆå¯ä»¥é€šè¿‡è½¯ä»¶è¿›è¡Œè®¾ç½®ï¼‰
  ![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/c743af22c54d5a8aebd7477d1d66c69a.png)
### 2.3 å¼€å…³æ§åˆ¶

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/54008c96ea75a9bd24ea040350531d3a.png)

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/6d64cb22a99eba684c59c5a0eafe8757.png)

- **éé—¨ï¼šè¾“å…¥1ï¼Œè¾“å‡º0ï¼Œè¾“å…¥0ï¼Œè¾“å‡º1**
  ![image.png|30](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/8e2c6b0e0cb811618140337f1a245d2c.png)
- **æˆ–é—¨ï¼šè¾“å…¥ä»»æ„ä¸€ä¸ªä¸º1ï¼Œè¾“å‡ºéƒ½ä¸º1**
  ![image.png|30](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/b5b083a632a6c3169490c320d3d756e9.png)

- **ä¸é—¨ï¼šè¾“å…¥ä¸¤ä¸ªéƒ½ä¸º1ï¼Œè¾“å‡ºæ‰æ˜¯1ï¼Œå…¶å®ƒéƒ½æ˜¯0**
  ![image.png|30](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/4dd5d13a1cc7526d55b055bc327fefcb.png)

- **GATEã€INT0ã€TR0ä¸€èµ·ä½œä¸ºå®šæ—¶å™¨å¼€å…³çš„æ§åˆ¶å¯„å­˜å™¨**

|   |   |   |   |
|---|---|---|---|
|GATE|INT0|TR0|å®šæ—¶å™¨çŠ¶æ€|
|0|/|1|ä½¿èƒ½|
|/|1|1|ä½¿èƒ½|

å½“GATEä¸º0æ—¶ï¼Œç»è¿‡éé—¨å˜ä¸º1ï¼Œå†ä¸INT0é€šè¿‡æˆ–é—¨ï¼Œæ­¤æ—¶æ— è®ºINT0ä¸º0/1ï¼Œéƒ½ä¼šè¾“å‡º1ï¼Œç„¶åä¸TR0ç»è¿‡ä¸é—¨ï¼ŒTR0ä¹Ÿè¦ä¸º1ï¼Œæœ€ç»ˆæ‰èƒ½è¾“å‡º1ã€‚

å½“INT0ä¸º1æ—¶ï¼Œä¸ç®¡GATEæ˜¯0/1ï¼Œé€šè¿‡æˆ–é—¨éƒ½è¾“å‡º1ï¼Œç„¶åä¸TR0ç»è¿‡ä¸é—¨ï¼ŒTR0ä¹Ÿè¦ä¸º1ï¼Œæœ€ç»ˆæ‰èƒ½è¾“å‡º1ã€‚

**GATEï¼š** é—¨æ§ä½ï¼›GATE=0ï¼Œ`è®¾ç½®è½¯ä»¶å¯åŠ¨`ï¼›

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/33d7553a254820170cb47d181589684e.png)

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/b0de5e5b702688cec99362c839b93a36.png)

**INT0ï¼š** INT0=1 `è®¾ç½®ä¸ºç¡¬ä»¶å¯åŠ¨`ï¼ŒINT0å¯¹åº”å¤–éƒ¨ä¸­æ–­0ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥é€šè¿‡å¤–éƒ¨ä¸­æ–­0å¯ä»¥æ§åˆ¶å®šæ—¶å™¨å¼€å…³
- è¿™é‡Œæˆ‘ä»¬è®¾ç½®ä¸ºè½¯ä»¶å¯åŠ¨
- ä¸¤ä¸ªå®šæ—¶å™¨çš„GATEå¯„å­˜å™¨å¯¹åº”TMODå¯„å­˜å™¨çš„ç¬¬3ä½å’Œç¬¬7ä½
- è¿™é‡Œè®¾ç½®å®šæ—¶å™¨0ä½¿èƒ½ï¼Œåˆ™è®¾ç½®TMODç¬¬3ä½ä¸º0
- 0b0000 0001 ---> TMODï¼0x01;

**TR0 ï¼š** è¿è¡Œæ§åˆ¶ä½

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/e61ee2a2188754adce8c2d674fd9f474.png)

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/8965a5338905ff112f103cb483a76f31.png)

å¯ä½å¯»å€
```c
TR0 = 1;     //ä½¿èƒ½å®šæ—¶å™¨0å¼€å§‹è®¡æ—¶
```

æœ€ç»ˆ
```c
TMODï¼0x01;  //è®¾ç½®å®šæ—¶å™¨0ä¸ºï¼šæ¨¡å¼1ã€ç³»ç»Ÿæ—¶é’Ÿæºã€è½¯ä»¶å¯åŠ¨
TR0 = 1;     //ä½¿èƒ½å®šæ—¶å™¨0å¼€å§‹è®¡æ—¶
```

### 2.4 é¢„è£…è½½å€¼

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/5176cadb22bd2d68c6f7d9d772c26fd8.png)

**TL0 TH0ï¼šå®šæ—¶å™¨é¢„è£…è½½å€¼**
- 16ä½=TL0å¯„å­˜å™¨çš„8bit+TH0å¯„å­˜å™¨çš„8bit

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/0934ae1c8b2059be57b8b31c90f23e23.png)

å¯ä»¥çœ‹åˆ°ï¼Œ**è®¡æ•°å™¨é‡Œæœ‰ä¸¤ä¸ªæ—¶åŸºå•å…ƒï¼ŒTL0ï¼ˆä½8ä½ï¼‰å’Œ TH0ï¼ˆé«˜8ä½ï¼‰æ€»å…±16ä½**ï¼Œæ‰€ä»¥å«16ä½å®šæ—¶/è®¡æ•°å™¨ï¼Œå®ƒæœ€å¤šå¯ä»¥è®¡æ•° 2^16=65535æ¬¡ï¼Œä¹Ÿå°±æ˜¯**å®šæ—¶å™¨å¢åŠ åˆ°65536æ—¶ï¼Œä¼šè§¦å‘ä¸€æ¬¡æº¢å‡ºï¼Œå³æ‰§è¡Œä¸€æ¬¡ä¸­æ–­**

å•ç‰‡æœºç³»ç»Ÿæ—¶é’Ÿæ˜¯11.0592MHzæ—¶ï¼Œåœ¨12Tæ¨¡å¼ï¼Œå®šæ—¶å™¨é¢‘ç‡ä¸º11.0592MHzé™¤12ä¸º921600Hz
- ä¸€ç§’è®¡æ•°921600æ¬¡ï¼Œ`10ms 9216æ¬¡` `20ms 9216*2 `æ¬¡

å¦‚æœæˆ‘ä»¬éœ€è¦å®šæ—¶å™¨10msæº¢å‡ºä¸€æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®å®šæ—¶å™¨çš„é¢„è£…è½½å€¼ï¼ˆåˆå€¼ï¼‰ä¸º65536-9216ï¼Œè¿™æ ·ï¼Œè®¡ç®—9216æ¬¡åè¾¾åˆ°65536å°±ä¼šæº¢å‡ºä¸€æ¬¡

```c
//10mså®šæ—¶å™¨
TIMS=65536-9216;
// 56320 ---> 1101 1100 0000 0000
TL0=TIMS;  ---> 0000 0000
TH0=TIMS>>8; ---> 1101 1100
```

### 2.5 æº¢å‡ºä¸­æ–­

TF0ï¼šæº¢å‡ºæ ‡å¿—ä½

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/5176cadb22bd2d68c6f7d9d772c26fd8.png)

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/96d2ad1625e8a3296072bafda1991742.png)

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/01/624be4516f7082d5573f04e69959162b.png)

```c
ET0=1; //ä½¿èƒ½å®šæ—¶å™¨0ä¸­æ–­
EA=1;  //ä½¿èƒ½æ€»ä¸­æ–­
```

æ‰€ä»¥ï¼Œä¸‹æ–¹æ˜¯ä½¿èƒ½å®šæ—¶å™¨0å®šæ—¶10msçš„å®Œæ•´ç¨‹åº
```c
#include <reg52.h>

#define TIMS (65536-9216)
                     
void main()
{
	TMOD = 0x01;                    //é…ç½®å®šæ—¶å™¨0ä¸º16ä½å®šæ—¶å™¨ï¼ŒTH0ã€TL0å…¨ç”¨
	TH0 = TIMS >> 8;                //è®¾ç½®å®šæ—¶åˆå€¼é«˜8ä½
	TL0 = TIMS;                     //è®¾ç½®å®šæ—¶åˆå€¼ä½8ä½
	ET0 = 1;  //å¼€å¯å®šæ—¶å™¨0ä¸­æ–­                                          
	EA  = 1;  //å¼€å¯å…¨å±€ä¸­æ–­                                                      
	TR0 = 1;  //å®šæ—¶å™¨0å¼€å§‹è®¡æ•°        
	while(1);
}

//10msæ‰§è¡Œä¸€æ¬¡
void Timer0() interrupt 1
{
	//æ¯æ¬¡äº§ç”Ÿä¸­æ–­åé‡æ–°è®¾ç½®ä¸‹æ¬¡å®šæ—¶å™¨åˆå€¼ 
	TH0 = TIMS >> 8;
	TL0 = TIMS;
	//è¿™é‡Œå¯ä»¥å†™ä¸­æ–­å‡½æ•°è¦æ‰§è¡Œçš„æ“ä½œ
}
```

å¦‚æœæˆ‘ä»¬æƒ³è®©LEDé—´éš”1sé—ªçƒï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ æŒ‡ç¤ºç¯æ“ä½œï¼Œæ·»åŠ å˜é‡countï¼Œæ¯æ¬¡è§¦å‘å®šæ—¶å™¨ä¸­æ–­æ—¶åŠ 1ï¼ŒåŠ åˆ°1000msï¼Œä¹Ÿå°±æ˜¯1sæ—¶ï¼Œæ”¹å˜LEDçš„çŠ¶æ€ï¼Œå°±å¯ä»¥å®ç°å•¦
```c
#include <reg52.h>

#define TIMS (65536-9216)
sbit led = P2^7;
unsigned int count = 0;
 
void main() {
	TMOD = 0x01;                    //é…ç½®å®šæ—¶å™¨0ä¸º16ä½å®šæ—¶å™¨ï¼ŒTH0ã€TL0å…¨ç”¨
	TH0 = TIMS >> 8;                //è®¾ç½®å®šæ—¶åˆå€¼é«˜8ä½
	TL0 = TIMS;                     //è®¾ç½®å®šæ—¶åˆå€¼ä½8ä½
	ET0 = 1;  //å¼€å¯å®šæ—¶å™¨0ä¸­æ–­                                          
	EA  = 1;  //å¼€å¯å…¨å±€ä¸­æ–­                                                      
	TR0 = 1;  //å®šæ—¶å™¨0å¼€å§‹è®¡æ•°        
	while(1);
}

//10msæ‰§è¡Œä¸€æ¬¡
void Timer0() interrupt 1 {
	//æ¯æ¬¡äº§ç”Ÿä¸­æ–­åé‡æ–°è®¾ç½®ä¸‹æ¬¡å®šæ—¶å™¨åˆå€¼ - 10æ¯«ç§’äº§ç”Ÿ1æ¬¡ä¸­æ–­
	TH0 = TIMS >> 8;
	TL0 = TIMS;
	//1000æ¯«ç§’æ‰§è¡Œä¸€æ¬¡P1ç”µå¹³åè½¬
	count++;
	if(count >= 100) {
		led = ~led;
		count = 0;
	}
}
```