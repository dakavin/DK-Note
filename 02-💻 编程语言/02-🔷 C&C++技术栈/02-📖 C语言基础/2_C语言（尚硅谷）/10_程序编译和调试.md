---
æ–‡ç« æ ‡é¢˜: "[[10_ç¨‹åºç¼–è¯‘å’Œè°ƒè¯•]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  æ–‡ç« è¯¦è¿°Cè¯­è¨€ç¨‹åºå‘½ä»¤è¡Œç¼–è¯‘ï¼ˆGCCï¼‰ã€æ„å»ºï¼ˆMake/CMakeï¼‰ä¸è°ƒè¯•ï¼ˆLLDBï¼‰å…¨è¿‡ç¨‹ã€‚æ—¨åœ¨å¸®åŠ©è¯»è€…ç†è§£å¹¶æŒæ¡ä»æºä»£ç åˆ°å¯æ‰§è¡Œæ–‡ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»¥åŠè„±ç¦»IDEè¿›è¡Œé¡¹ç›®ç®¡ç†çš„åº•å±‚æ ¸å¿ƒæŠ€èƒ½ã€‚
tags:
- "GCC"
- "Make"
- "CMake"
- "LLDB"
- "ç¼–è¯‘"
- "æ„å»ºç³»ç»Ÿ"
- "è°ƒè¯•"
- "é“¾æ¥"
ç›¸å…³æ–‡ç« :
- "[[3_åº“çš„åˆ¶ä½œä¸ä½¿ç”¨]]"
- "[[2_Linuxå…¥é—¨åŸºç¡€]]"
- "[[3_gccå¸¸ç”¨å‘½ä»¤åŠå‚è€ƒ]]"
- "[[6_ä½¿ç”¨Makefileæ§åˆ¶ç¼–è¯‘ğŸ“•]]"
- "[[6_Makefileæ–‡ä»¶ç¤ºä¾‹]]"
æ–‡ç« åˆ†ç±»: "ğŸ’» ç¼–ç¨‹è¯­è¨€"
æ–‡ç« è·¯å¾„: "02-ğŸ’» ç¼–ç¨‹è¯­è¨€/02-ğŸ”· C&C++æŠ€æœ¯æ ˆ/02-ğŸ“– Cè¯­è¨€åŸºç¡€/2_Cè¯­è¨€ï¼ˆå°šç¡…è°·ï¼‰/10_ç¨‹åºç¼–è¯‘å’Œè°ƒè¯•.md"
æ–‡ç« éš¾åº¦: åˆçº§ ğŸ’§
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­â­ ç²¾é€šå¿…å¤‡
åˆ›å»ºæ—¶é—´: 2025-04-14 00:11:01
ä¿®æ”¹æ—¶é—´: 2025-05-27 21:58:16
---


### 0.1 Cè¯­è¨€ç¨‹åºçš„ç¼–è¯‘

åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä»‹ç»ä¸€ä¸ªç¼–è¯‘å™¨ï¼š

> GCCåŸåä¸ºGNU Cè¯­è¨€ç¼–è¯‘å™¨ï¼ˆGNU C Compilerï¼‰ï¼Œåªèƒ½å¤„ç†Cè¯­è¨€ã€‚ä½†å…¶å¾ˆå¿«æ‰©å±•ï¼Œå˜å¾—å¯å¤„ç†C++ï¼Œåæ¥åˆæ‰©å±•ä¸ºèƒ½å¤Ÿæ”¯æŒæ›´å¤šç¼–ç¨‹è¯­è¨€ï¼Œå¦‚Fortranã€[Pascal](https://baike.baidu.com/item/Pascal/241171)ã€Objective -Cã€Javaã€Adaã€Goä»¥åŠå„ç±»å¤„ç†å™¨[æ¶æ„](https://baike.baidu.com/item/æ¶æ„/13004195)ä¸Šçš„[æ±‡ç¼–è¯­è¨€](https://baike.baidu.com/item/æ±‡ç¼–è¯­è¨€/61826)ç­‰ï¼Œæ‰€ä»¥æ”¹åGNUç¼–è¯‘å™¨å¥—ä»¶ï¼ˆGNU Compiler Collectionï¼‰

é‚£ä¹ˆgccç¼–è¯‘å™¨æ˜¯å¦‚ä½•å°†æˆ‘ä»¬çš„ç¨‹åºä¸€æ­¥æ­¥ç¼–è¯‘ä¸ºå¯æ‰§è¡Œæ–‡ä»¶çš„å‘¢ï¼Ÿ

![image-20220627112630649|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/b2a05fa5ea4efffcc942a87307d6d5db.png)

1. é¢„å¤„ç†ï¼ˆPre-Processingï¼‰ï¼šé¦–å…ˆä¼šç»è¿‡é¢„å¤„ç†å™¨å°†ç¨‹åºä¸­çš„é¢„ç¼–è¯‘æŒ‡ä»¤è¿›è¡Œå¤„ç†ï¼Œç„¶åæŠŠæºæ–‡ä»¶ä¸­çš„æ³¨é‡Šè¿™äº›æ²¡ç”¨çš„ä¸œè¥¿éƒ½ç»™æ‰¬äº†ã€‚
2. ç¼–è¯‘ï¼ˆCompilingï¼‰ï¼šå¤„ç†å¥½ä¹‹åï¼Œå°±å¯ä»¥æ­£å¼å¼€å§‹ç¼–è¯‘ï¼Œé¦–å…ˆä¼šç¼–è¯‘ä¸ºæ±‡ç¼–ä»£ç ã€‚
3. æ±‡ç¼–ï¼ˆAssemblingï¼‰ï¼šæ¥ç€å°±è¯¥å°†æ±‡ç¼–ä»£ç ç¼–è¯‘ä¸ºæœºå™¨å¯ä»¥æ‰§è¡Œçš„äºŒè¿›åˆ¶æœºå™¨æŒ‡ä»¤äº†ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªäºŒè¿›åˆ¶ç›®æ ‡æ–‡ä»¶ã€‚
4. é“¾æ¥ï¼ˆLinkingï¼‰ï¼šæœ€åéœ€è¦å°†è¿™ä¸ªäºŒè¿›åˆ¶ç›®æ ‡æ–‡ä»¶ä¸ç³»ç»Ÿåº“å’Œå…¶ä»–åº“çš„OBJæ–‡ä»¶ã€åº“æ–‡ä»¶é“¾æ¥èµ·æ¥ï¼Œæœ€ç»ˆç”Ÿæˆäº†å¯ä»¥åœ¨ç‰¹å®šå¹³å°è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚

æ¯”å¦‚åœ¨Windowsæ“ä½œç³»ç»Ÿä¸‹å®Œæˆè¿™å››æ­¥ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªWindowsçš„.exeå¯æ‰§è¡Œæ–‡ä»¶ã€‚

æˆ‘ä»¬æ¥ä¸€æ­¥ä¸€æ­¥å°è¯•ä¸€ä¸‹ï¼Œé¦–å…ˆæˆ‘ä»¬æŠŠCLionè‡ªå¸¦çš„GCCå·¥å…·ç›®å½•é…ç½®åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼ˆMacç³»ç»Ÿç›´æ¥è‡ªå¸¦ï¼Œä¸éœ€è¦ä»»ä½•é…ç½®ï¼‰ï¼š

![image-20220627120949262|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/2108ceea3e8370e3f3f22b3464203349.png)

ä½ç½®åœ¨ä½ çš„`CLionå®‰è£…ç›®å½•/bin/mingw/bin`ï¼Œæ‰“å¼€é«˜çº§ç³»ç»Ÿè®¾ç½®ï¼Œæ·»åŠ ç¯å¢ƒå˜é‡ï¼š

![image-20220627121332125|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/0f0caae57c2e3a433259dfdaba1031f8.png)

é…ç½®å®Œæˆåï¼Œæ‰“å¼€CLionï¼Œæˆ‘ä»¬éšä¾¿ç¼–å†™ä¸€ç‚¹å†…å®¹ï¼š

```c
#include <stdio.h>

int main() {
    printf("Hello, World!\n");
    return 0;
}
```

ç„¶åæˆ‘ä»¬ç‚¹å‡»IDEä¸‹æ–¹çš„ç»ˆç«¯é¢æ¿ï¼š

![image-20220627130234208|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/66eb6a428cf42f6d531b984f1eabea52.png)

å¯ä»¥çœ‹åˆ°è¿™é‡Œæ‰“å¼€çš„æ˜¯Windowsè‡ªå¸¦çš„PowerShellç»ˆç«¯ï¼Œå¦‚æœä¸æ˜¯çš„å¯ä»¥åœ¨è®¾ç½®ä¸­ä¿®æ”¹ï¼š

![image-20220627130343946|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/8fac5315b9d58e0e174429b792c35afd.png)

ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥æ‰‹åŠ¨å¼€å§‹å¯¹æˆ‘ä»¬çš„Cæºæ–‡ä»¶è¿›è¡Œç¼–è¯‘äº†ï¼Œé¦–å…ˆæ˜¯ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æºæ–‡ä»¶è¿›è¡Œé¢„å¤„ç†ï¼š

```sh
gcc -E main.c -o main.i
```

å…¶ä¸­ `-E` åé¢çš„æ˜¯æˆ‘ä»¬çš„æºæ–‡ä»¶åç§°ï¼Œ`-o` æ˜¯æˆ‘ä»¬é¢„å¤„ç†åç”Ÿæˆçš„æ–‡ä»¶åç§°ï¼š

![image-20220627130740318|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/af0c79c75c6a4d5eaf9caf902ae98828.png)

ç”Ÿæˆåï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶ï¼ˆå› ä¸ºæ­¤æ—¶ä¾ç„¶æ˜¯æ™®é€šæ–‡æœ¬ï¼‰å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„ä»£ç åœ¨ç»è¿‡é¢„å¤„ç†ä¹‹åï¼Œ`#include <stdio.h>`ä¸­çš„å†…å®¹éƒ½æ›¿æ¢è¿‡æ¥äº†ã€‚æœ€ä¸‹é¢å¤§çº¦1000è¡Œå·¦å³çš„ä½ç½®å°±æ˜¯æˆ‘ä»¬çš„ä»£ç äº†ï¼š

![image-20220627131124121|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/5fa776557790235ddf04a34701856f87.png)

ç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†é¢„å¤„ç†ï¼Œæ¥ç€å°±å¯ä»¥å°†å…¶ç¼–è¯‘ä¸ºæ±‡ç¼–ç¨‹åºäº†ï¼š

```sh
gcc -S main.i -o main.s
```

è¿™é‡Œçš„`-S`å°±æ˜¯é¢„å¤„ç†ä¹‹åçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†å…¶ç¼–è¯‘ä¸ºæ±‡ç¼–ä»£ç ï¼š

![image-20220627131513884|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/30c1fa206c5b3d39fa37b130ef44feec.png)

å¯ä»¥çœ‹åˆ°è¿™é‡Œéƒ½æ˜¯æ±‡ç¼–ä»£ç ï¼Œå„ç§å„æ ·çš„æ±‡ç¼–æŒ‡ä»¤ã€‚æ¥ç€æˆ‘ä»¬å°±å¯ä»¥å°†è¿™ä¸ªæ±‡ç¼–ä»£ç ç»§ç»­ç¼–è¯‘ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶äº†ï¼š

```sh
gcc -c main.s -o main.o
```

è¿™é‡Œ`-c`åçš„å°±æ˜¯æˆ‘ä»¬çš„æ±‡ç¼–ç¨‹åºï¼Œç›´æ¥ç”Ÿæˆä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼š

![image-20220627131829386|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/c2ed4e8dad1e7a1eca6526e7cf660268.png)

ä¸è¿‡ç°åœ¨æˆ‘ä»¬è¿˜æ²¡åŠæ³•ç›´æ¥è¿è¡Œå®ƒï¼Œå› ä¸ºè¿˜éœ€è¦è¿›ä¸€æ­¥é“¾æ¥ï¼Œå˜æˆWindowsæ“ä½œç³»ç»Ÿå¯ä»¥æ‰§è¡Œçš„ç¨‹åºï¼š

```sh
gcc main.o -o main
```

è¿™é‡Œç›´æ¥å°†åˆšåˆšç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶ç¼–è¯‘ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è¿è¡Œäº†ï¼š

![image-20220627132110465|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/e05e338062f2773c01324872f3563b8f.png)

![image-20220627132259302|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/24caf9ba702b812745be4047c0b4c0b8.png)

æˆåŠŸç”Ÿæˆ.exeæ–‡ä»¶ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨æ§åˆ¶å°è¾“å…¥å®ƒçš„åå­—å°±å¯ä»¥è¿è¡Œäº†ï¼š

![image-20220627132221190|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/ccb5b6ddcdea670f2fdb6b6b37614c37.png)

è¿™æ ·æˆ‘ä»¬å°±å®ç°äº†æ‰‹åŠ¨ç¼–è¯‘ä¸€ä¸ªCè¯­è¨€ç¨‹åºã€‚å½“ç„¶å¦‚æœæˆ‘ä»¬è¦æ›´å¿«é€Ÿä¸€ç‚¹åœ°å®Œæˆç¼–è¯‘ï¼Œå¯ä»¥ç›´æ¥å°†æºæ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼š

```sh
gcc main.c -o main
```

å½“ç„¶è¿™ç§åªæ˜¯ç®€å•çš„å•æºæ–‡ä»¶ä¸‹çš„ç¼–è¯‘ï¼Œè¦æ˜¯é‡åˆ°å¤šæ–‡ä»¶çš„æƒ…å†µä¸‹å‘¢ï¼Ÿ

![image-20220627133429263|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/2da5a779110477c4bb64656c0f0a96ec.png)

```c
void swap(int * a, int * b);
```

```c
#include "test.h"

void swap(int * a, int * b) {
    int tmp = *a;
    *a = *b;
    *b = tmp;
}
```

```c
#include <stdio.h>
#include "test.h"

int main() {
    int arr[] = {4, 2, 1, 9, 5, 0, 3, 8, 7, 6};

    for (int i = 0; i < 9; ++i) {
        for (int j = 0; j < 9 - i; ++j) {
            if(arr[j] > arr[j + 1]) swap(&arr[j], &arr[j + 1]);
        }
    }

    for (int i = 0; i < 10; ++i) {
        printf("%d ", arr[i]);
    }
}
```

æˆ‘ä»¬è¿˜æ˜¯æŒ‰ç…§åˆšåˆšçš„æ–¹å¼ç›´æ¥è¿›è¡Œç¼–è¯‘ï¼š

![image-20220627133646126|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/676c5ae9653c66131d2d2825720fb2f0.png)

å¯ä»¥çœ‹åˆ°ï¼Œç¼–è¯‘é”™è¯¯ï¼Œæ— æ³•è¯†åˆ«åˆ°`swap`è¿™ä¸ªå‡½æ•°ï¼Œè¯´æ˜è‚¯å®šè¿˜éœ€è¦æŠŠå¼•å…¥çš„å…¶ä»–æ–‡ä»¶ä¹Ÿç»™ä¸€èµ·å¸¦ä¸Šï¼Œæ‰€ä»¥ï¼š

```sh
gcc main.c test.c -o main
```

æˆ–æ˜¯å°†ä¸¤ä¸ªæ–‡ä»¶å•ç‹¬ç¼–è¯‘ä¸ºå¯¹åº”çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæœ€åå†æ”¾åˆ°ä¸€èµ·ç¼–è¯‘ä¹Ÿæ˜¯å¯ä»¥çš„ï¼š

```sh
gcc main.o test.o -o main
```

OKï¼Œç°åœ¨å¤šä¸ªæ–‡ä»¶å°±å¯ä»¥åœ¨ä¸€èµ·ç¼–è¯‘äº†ï¼Œæœ€ååŒæ ·ç”Ÿæˆäº†ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼š

![image-20220627134010138|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/34381e4adbdd2c9b4e75bb62db6d3c58.png)

### 0.2 ä½¿ç”¨Makeå’ŒCMakeè¿›è¡Œæ„å»º

æˆ‘ä»¬çš„é¡¹ç›®å¯èƒ½ä¼šæœ‰å¾ˆå¤šå¾ˆå¤šçš„å†…å®¹éœ€è¦å»è¿›è¡Œç¼–è¯‘ï¼Œå¦‚ä½•å»è¿›è¡Œç»„ç»‡æˆäº†ä¸€ä¸ªå¤§é—®é¢˜ï¼Œæ¯”å¦‚è®©è°å…ˆç¼–è¯‘ï¼Œè°åç¼–è¯‘ï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªæ„å»ºå·¥å…·æ¥å¸®åŠ©æˆ‘ä»¬å¯¹ç¨‹åºçš„æ„å»ºæµç¨‹è¿›è¡Œç»„ç»‡ã€‚

>  Makeæ˜¯æœ€å¸¸ç”¨çš„æ„å»ºå·¥å…·ï¼Œè¯ç”Ÿäº1977å¹´ï¼Œä¸»è¦ç”¨äºCè¯­è¨€çš„é¡¹ç›®ã€‚ä½†æ˜¯å®é™…ä¸Š ï¼Œä»»ä½•åªè¦æŸä¸ªæ–‡ä»¶æœ‰å˜åŒ–ï¼Œå°±è¦é‡æ–°æ„å»ºçš„é¡¹ç›®ï¼Œéƒ½å¯ä»¥ç”¨Makeæ„å»ºã€‚

è¦ä½¿ç”¨Makeå¯¹æˆ‘ä»¬çš„é¡¹ç›®è¿›è¡Œæ„å»ºï¼Œæˆ‘ä»¬éœ€è¦å…ˆå‘Šè¯‰Makeæˆ‘ä»¬çš„ç¨‹åºåº”è¯¥å¦‚ä½•å»è¿›è¡Œæ„å»ºï¼Œè¿™æ—¶æˆ‘ä»¬å°±è¦ç¼–å†™ä¸€ä¸‹Makefileäº†ï¼š

![image-20220627135232863|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/163ed5b36c0b58514d3cdbca317ee97f.png)

æˆ‘ä»¬åªéœ€è¦æŠŠéœ€è¦æ‰§è¡Œçš„å‘½ä»¤æŒ‰ç…§æˆ‘ä»¬æƒ³è¦çš„é¡ºåºå…¨éƒ¨å†™åˆ°é‡Œé¢å°±å¯ä»¥äº†ï¼Œä½†æ˜¯éœ€è¦éµå¾ªä»¥ä¸‹æ ¼å¼ï¼š

```makefile
targets : prerequisites
  command
```

ä¸€ä¸ªMakefileä¸­å¯ä»¥æœ‰å¾ˆå¤šä¸ªç›®æ ‡ï¼Œæ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦åˆ†åˆ«ç¼–è¯‘main.cå’Œtest.cï¼Œé‚£ä¹ˆå°±éœ€è¦åˆ›å»ºä¸¤ä¸ªç›®æ ‡ï¼š

* targetsï¼šæ„å»ºçš„ç›®æ ‡ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ™®é€šçš„æ ‡ç­¾ã€æ–‡ä»¶åç§°ç­‰
* prerequisitesï¼šå‰ç½®æ¡ä»¶ï¼Œå¯ä»¥è®¾å®šè¦æ±‚å®Œæˆå…¶ä»–ç›®æ ‡æ‰èƒ½å¼€å§‹æ„å»ºå½“å‰ç›®æ ‡
* commandï¼šæ„å»ºéœ€è¦æ‰§è¡Œçš„å‘½ä»¤

æ¯”å¦‚ç°åœ¨æˆ‘ä»¬æƒ³è¦åˆ†åˆ«å…ˆç¼–è¯‘test.cå’Œmain.cï¼Œæœ€åå°†ä»–ä»¬å˜æˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œé‚£ä¹ˆmakefileå¯ä»¥è¿™æ ·ç¼–å†™ï¼š

```makefile
main.exe: test.o main.o  #ç›®æ ‡1ï¼šæ„å»ºæœ€ç»ˆçš„ç¨‹åºï¼Œè¦æ±‚å®Œæˆä¸‹é¢ä¸¤ä¸ªç›®æ ‡ï¼ˆæ³¨æ„æœ€ç»ˆç›®æ ‡éœ€è¦å†™åœ¨ç¬¬ä¸€ä¸ªï¼‰
	gcc test.o main.o -o main

main.o: main.c  #ç›®æ ‡2ï¼šæ„å»ºç›®æ ‡ä¸ºmain.oï¼Œå‰ç½®è¦æ±‚å¿…é¡»æœ‰main.cæ–‡ä»¶
	gcc -E main.c -o main.i
	gcc -S main.i -o main.s
	gcc -c main.s -o main.o

test.o: test.c  #ç›®æ ‡3ï¼šåŒæ ·çš„ï¼Œè¦æ±‚å¿…é¡»æœ‰test.cæ–‡ä»¶æ‰èƒ½å¼€å§‹
	gcc -E test.c -o test.i
	gcc -S test.i -o test.s
	gcc -c test.s -o test.o
```

æ¥ç€æˆ‘ä»¬åªéœ€è¦åœ¨æ§åˆ¶å°è¾“å…¥makeå‘½ä»¤ï¼ˆCLionè‡ªå¸¦ç¯å¢ƒéœ€è¦è¾“å…¥mingw32-makeå‘½ä»¤ï¼ŒMacä¸‹ç›´æ¥è¾“å…¥makeï¼‰å°±å¯ä»¥è¿›è¡Œç¼–è¯‘äº†ï¼š

![image-20220627212727506|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/8ced68bb63f219f8145fbe3ca9e77de4.png)

å‘½ä»¤æ‰§è¡Œçš„æ¯ä¸€æ­¥éƒ½ä¼šè¯¦ç»†æ‰“å°å‡ºæ¥ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ„å»ºç¡®å®æ˜¯æŒ‰ç…§æˆ‘ä»¬çš„é¡ºåºåœ¨è¿›è¡Œï¼Œå¹¶ä¸”æˆåŠŸç¼–è¯‘å‡ºæœ€ç»ˆç›®æ ‡ï¼š

![image-20220627212822806|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/6fcb2d3e047102e7a4c6b1b545eaf848.png)

å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰åšä»»ä½•çš„ä¿®æ”¹ï¼Œé‚£ä¹ˆå†æ¬¡æ‰§è¡Œmakeå‘½ä»¤ä¸ä¼šåšä»»ä½•äº‹æƒ…ï¼š

![image-20220627212951245|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/333798b305e80365f9094a98ec15f581.png)

ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹æºæ–‡ä»¶çš„è¯ï¼Œæ‰§è¡Œmakeå°†ä¼šé‡æ–°æ„å»ºç›®æ ‡ï¼š

![image-20220627213029819|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/99216d2c67bfccd3e080a55d53bad32b.png)

å†æ¬¡æ‰§è¡Œï¼š

![image-20220627213051247|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/9e56293fd236e4ea8c8fd99a656fd92f.png)

é€šè¿‡ä½¿ç”¨Makeï¼Œå³ä½¿æ²¡æœ‰å¦‚æ­¤é«˜çº§çš„IDEï¼Œå“ªæ€•æˆ‘ä»¬çº¯é è®°äº‹æœ¬å†™Cä»£ç ï¼Œéƒ½å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®Œæˆå¯¹ä¸€ä¸ªé¡¹ç›®çš„æ„å»ºäº†ã€‚å½“ç„¶è¿™åªæ˜¯Makeçš„ç®€å•ä½¿ç”¨ï¼Œå®ƒè¿˜æ”¯æŒä½¿ç”¨å˜é‡ã€é€»è¾‘åˆ¤æ–­ç­‰é«˜çº§ç©æ³•ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸å¤šåšä»‹ç»äº†ã€‚

è™½ç„¶ä½¿ç”¨Makeå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯¹é¡¹ç›®æ„å»ºæµç¨‹è¿›è¡Œé…ç½®ï¼Œä½†æ˜¯è²Œä¼¼CLionå¹¶æ²¡æœ‰é‡‡ç”¨è¿™ç§æ–¹å¼æ¥ç»„ç»‡æˆ‘ä»¬çš„é¡¹ç›®è¿›è¡Œæ„å»ºï¼Œè€Œæ˜¯ä½¿ç”¨äº†CMakeï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒåˆæ˜¯åšä»€ä¹ˆçš„ã€‚

> CMakeæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„å®‰è£…ï¼ˆ[ç¼–è¯‘](https://baike.baidu.com/item/ç¼–è¯‘/1258343)ï¼‰å·¥å…·ï¼Œå¯ä»¥ç”¨ç®€å•çš„è¯­å¥æ¥æè¿°æ‰€æœ‰å¹³å°çš„å®‰è£…(ç¼–è¯‘è¿‡ç¨‹)ã€‚ä»–èƒ½å¤Ÿè¾“å‡ºå„ç§å„æ ·çš„makefileæˆ–è€…projectæ–‡ä»¶ï¼Œèƒ½æµ‹è¯•[ç¼–è¯‘å™¨](https://baike.baidu.com/item/ç¼–è¯‘å™¨/8853067)æ‰€æ”¯æŒçš„C++ç‰¹æ€§,ç±»ä¼¼[UNIX](https://baike.baidu.com/item/UNIX/219943)ä¸‹çš„automakeã€‚

ç®€è€Œè¨€ä¹‹ï¼Œ CMakeæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„Makefileç”Ÿæˆå·¥å…·! 

å®é™…ä¸Šå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé¡¹ç›®åï¼ŒCLionä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬é…ç½®CMakeï¼Œè€Œå…·ä½“çš„é…ç½®éƒ½æ˜¯å†™åœ¨CMakeList.txtä¸­çš„ï¼š

```cmake
cmake_minimum_required(VERSION 3.22)
project(untitled C)

set(CMAKE_C_STANDARD 99)

add_executable(untitled main.c test.c test.h)
```

æˆ‘ä»¬é€è¡Œæ¥è¿›è¡Œè§£è¯»ï¼š

* ç¬¬ä¸€è¡Œä½¿ç”¨cmake_minimum_requiredæ¥æŒ‡å®šå½“å‰é¡¹ç›®ä½¿ç”¨çš„CMakeæœ€ä½ç‰ˆæœ¬ï¼Œå¦‚æœä½¿ç”¨çš„CMakeç¨‹åºä½äºæ­¤ç‰ˆæœ¬æ˜¯æ— æ³•æ„å»ºçš„ã€‚
* ç¬¬äºŒè¡ŒprojectæŒ‡å®šé¡¹ç›®åç§°ï¼Œåç§°éšæ„ï¼Œåé¢çš„æ˜¯é¡¹ç›®ä½¿ç”¨çš„è¯­è¨€ï¼Œè¿™é‡Œæ˜¯Cã€‚
* ç¬¬ä¸‰è¡Œsetç”¨äºè®¾å®šä¸€äº›ç¯å¢ƒå˜é‡ç­‰ï¼Œè¿™é‡Œè®¾å®šçš„æ˜¯C 99æ ‡å‡†ã€‚
* ç¬¬å››è¡Œadd_executableç”¨äºæŒ‡å®šä¸€ä¸ªç¼–è¯‘å‡ºæ¥çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿™é‡Œåç§°ä¸ºuntitledï¼Œåé¢çš„éƒ½æ˜¯éœ€è¦ç¼–è¯‘çš„æºæ–‡ä»¶ï¼ˆå¤´æ–‡ä»¶å¯ä»¥ä¸å†™ï¼‰

å½“ç„¶é™¤äº†è¿™äº›è¯­æ³•ä¹‹å¤–ï¼Œè¿˜æœ‰å„ç§å„æ ·çš„è®¾å®šï¼Œæ¯”å¦‚è®¾å®šåº“ç›®å½•æˆ–æ˜¯å¤–éƒ¨åŠ¨æ€è¿æ¥åº“ç­‰ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªè¡Œäº†è§£ã€‚

è¿™é‡Œæˆ‘ä»¬æ¥æ‰‹åŠ¨æ‰§è¡Œä¸€ä¸‹cmakeï¼š

![image-20220627215908039|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/dad1fdb31325de66f181f8ade92a7a02.png)

é¦–å…ˆè¿˜æ˜¯æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œæ·»åŠ å®Œæˆåé‡å¯CLionï¼Œæˆ‘ä»¬è¾“å…¥cmakeå‘½ä»¤è¿›è¡Œç”Ÿæˆï¼š

```sh
 cmake -S . -B test -G "MinGW Makefiles"
```

å…¶ä¸­`-S`åé¢çš„æ˜¯æºæ–‡ä»¶ç›®å½•ï¼Œè¿™é‡Œ`.`è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œ`-B`åé¢æ˜¯æ„å»ºç›®å½•ï¼Œä¸€ä¼šæ„å»ºçš„æ–‡ä»¶éƒ½åœ¨è¿™é‡Œé¢å­˜æ”¾ï¼Œæœ€å`-G`æ˜¯é€‰æ‹©ç”Ÿæˆå™¨ï¼ˆç”Ÿæˆå™¨æœ‰å¾ˆå¤šï¼Œç”šè‡³å¯ä»¥ç›´æ¥ç”Ÿæˆä¸€ä¸ªVSé¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨Visual Studioæ‰“å¼€ï¼‰ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ç”ŸæˆMakefileï¼Œæ‰€ä»¥å¡«å†™"MinGW Makefiles"ï¼š

![image-20220627221226478|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/29ae8e99662086721c0e274e0fcb8882.png)

å¯ä»¥çœ‹åˆ°å·²ç»æˆåŠŸåœ¨æˆ‘ä»¬çš„æ„å»ºç›®å½•ä¸­ç”Ÿæˆäº†ï¼š

![image-20220627221335557|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/f4598883cb16b13457a9f8796847f2aa.png)

åªä¸è¿‡å®ƒè¿™ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„Makefileå†™çš„å°±æ¯”è¾ƒå¤æ‚äº†ï¼Œæˆ‘ä»¬ä¹Ÿä¸éœ€è¦å»å…³å¿ƒï¼Œæ¥ç€æˆ‘ä»¬åƒä¹‹å‰ä¸€æ ·ç›´æ¥ä½¿ç”¨makeå°±å¯ä»¥ç¼–è¯‘äº†ï¼š

è¿™é‡Œè¦å…ˆè¿›å…¥ä¸€ä¸‹testç›®å½•ï¼Œä½¿ç”¨`cd test`å‘½ä»¤ä¿®æ”¹å½“å‰å·¥ä½œç›®å½•ï¼š

![image-20220627221459717|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/8ce63558abf84d484b12092ab7ee1b23.png)

å¯ä»¥çœ‹åˆ°å®ƒç”Ÿæˆçš„Makefileè¿˜æ˜¯æŒºé«˜çº§çš„ï¼Œè¿˜èƒ½è¾“å‡ºè¿›åº¦ï¼Œç°åœ¨æˆ‘ä»¬çš„ç¨‹åºå°±æ„å»ºå¥½äº†ï¼Œç›´æ¥å¯åŠ¨æŠŠï¼š

![image-20220627221546242|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/492de6a11c8c5bb4827930e20d9c2e9c.png)

å½“ç„¶CLionå¹¶æ²¡æœ‰ä½¿ç”¨Makefileçš„ç¼–è¯‘æ–¹å¼ï¼Œè€Œæ˜¯Ninjaï¼Œå¹¶ä¸”ç”Ÿæˆçš„æ„å»ºæ–‡ä»¶é»˜è®¤å­˜æ”¾åœ¨`cmake-build-debug`ä¸­ï¼Œè·Ÿmakeæ¯”è¾ƒç±»ä¼¼ï¼Œä½†æ˜¯é€Ÿåº¦ä¼šæ›´å¿«ä¸€äº›ï¼Œä¸è¿‡æœ€åéƒ½ä¼šæˆåŠŸæ„å»ºå‡ºæˆ‘ä»¬çš„å¯æ‰§è¡Œç¨‹åºã€‚

è¿™ä¸‹ï¼Œæˆ‘ä»¬å°±æ¸…æ¥šæ•´ä¸ªé¡¹ç›®ä¸­ä¸ªä¸ªæ–‡ä»¶æ˜¯å¹²å˜›çš„äº†ã€‚

### 0.3 ä½¿ç”¨LLDBè°ƒè¯•å·¥å…·

æœ€åæˆ‘ä»¬æ¥è¯´ä¸€ä¸‹LLDBè°ƒè¯•å·¥å…·ï¼ˆä¸ä¹‹ç±»ä¼¼çš„è¿˜æœ‰GDBï¼‰ï¼Œé¦–å…ˆè¿˜æ˜¯é…ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡ï¼š

![image-20220628002518087|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/42c1442896c2910419a84f16d380a1ce.png)

LLDBè°ƒè¯•å·¥å…·ç”¨äºå¯¹æˆ‘ä»¬çš„ç¨‹åºè¿›è¡Œé€æ­¥è°ƒè¯•ä½¿ç”¨ï¼Œå®é™…ä¸Šæˆ‘ä»¬ä¹‹å‰ä¹Ÿä½¿ç”¨è°ƒè¯•ï¼Œåªä¸è¿‡æ˜¯åœ¨IDEä¸­çš„å›¾å½¢åŒ–ç•Œé¢ä¸­æ“ä½œçš„ï¼Œé‚£ä¹ˆå¦‚æœæ²¡æœ‰IDEå‘¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨LLDBè°ƒè¯•å·¥å…·æ¥è¿›è¡Œè°ƒè¯•ï¼š

```sh
lldb .\untitled.exe
```

æ³¨æ„åœ¨ç¼–è¯‘æ—¶éœ€è¦éœ€è¦æ·»åŠ -gå‚æ•°æ¥é™„å¸¦è°ƒè¯•ä¿¡æ¯ï¼Œè¿™æ ·æ‰å¯ä»¥ä½¿ç”¨gdbè¿›è¡Œè°ƒè¯•ï¼Œå¦åˆ™ä¸èƒ½ï¼ˆCLioné»˜è®¤ç”Ÿæˆçš„æ˜¯å¯ä»¥è°ƒè¯•çš„ç¨‹åºï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨å°±è¡Œäº†ï¼‰

![image-20220628002734741|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/a2f52a392199666e2498acd46d6053f1.png)

è¿›å…¥åï¼Œå¯ä»¥çœ‹åˆ°æ˜¯è¿™æ ·çš„ä¸€ä¸ªç•Œé¢ï¼Œæˆ‘ä»¬éœ€è¦è¾“å…¥å‘½ä»¤æ¥è¿›è¡Œé€æ­¥è°ƒè¯•ï¼Œè¾“å…¥rå°±å¯ä»¥å¼€å§‹è¿è¡Œäº†ï¼š

![image-20220628001554755|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/0aea80e39a6a43fafe090e8fc66e0ec3.png)

æˆåŠŸè¿è¡Œå‡ºç»“æœï¼Œé‚£ä¹ˆå…·ä½“æ€ä¹ˆè¿›è¡Œæ–­ç‚¹è°ƒè¯•å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`b è¡Œå·`çš„å½¢å¼åœ¨å¯¹åº”çš„è¡Œå·æ‰“ä¸Šæ–­ç‚¹ï¼Œæ¯”å¦‚è¿™é‡Œå¯¹ç¬¬9è¡Œè¿›è¡Œæ–­ç‚¹ï¼š

![image-20220628002035160|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/511b14406a0ad893325515c4c6a3c349.png)

æ¥ç€æˆ‘ä»¬å†è¾“å…¥rä¹‹åï¼Œç¨‹åºä¼šæš‚æ—¶å¡åœ¨æ–­ç‚¹ä½ç½®ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡è¾“å…¥væ¥æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„å±€éƒ¨å˜é‡ä¿¡æ¯ï¼š

![image-20220628003001093|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/30325e27e1c48f8099c0ee2b5067d461.png)

å¯ä»¥çœ‹åˆ°ç°åœ¨æ˜¯å†’æ³¡æ’åºçš„ç¬¬ä¸€è½®ï¼Œæ‰€ä»¥`i`å’Œ`j`éƒ½è¿˜æ˜¯0ï¼Œå¹¶ä¸”æ•°ç»„æ˜¯ä¹±åºçš„ï¼Œæˆ‘ä»¬è¾“å…¥cå¯ä»¥ç»§ç»­è¿è¡Œï¼š

![image-20220628003056092|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/a0b459213d83d3de523d10abdec3a77f.png)

ç»§ç»­è¿è¡Œä¸€è½®åï¼Œæ­¤æ—¶`j`å°±å˜æˆ1äº†ï¼Œå› ä¸ºå†…å±‚å¾ªç¯æ‰§è¡Œäº†ä¸€æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡pæ¥æ‰“å°å˜é‡çš„å€¼ï¼š

![image-20220628003230535|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/7780882f308f7945fc7203b23e6b0925.png)

å½“æˆ‘ä»¬ä¸éœ€è¦å†è°ƒè¯•æ—¶ï¼Œå¯ä»¥ç›´æ¥ç»“æŸæ‰ç¨‹åºï¼š

![image-20220628003631329|500|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/fe90f4e060ab639540ae9b187eb5dd3b.png)

å½“ç„¶è¿™ä»…ä»…æ˜¯å±•ç¤ºlldbçš„ç®€å•ä½¿ç”¨ï¼Œé€šè¿‡ä½¿ç”¨lldbæˆ‘ä»¬å°±å¯ä»¥å¾ˆè½»æ¾åœ°åœ¨æ§åˆ¶å°è¿›è¡Œè°ƒè¯•äº†ã€‚

è‡³æ­¤ï¼ŒåŒ…æ‹¬ç¼–è¯‘ã€æ„å»ºã€è°ƒè¯•çš„æ‰€æœ‰æ“ä½œï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥è„±ç¦»IDEçº¯é å‘½ä»¤è¡Œè¿›è¡Œæ“ä½œäº†ï¼ˆå…¶å®åœ¨æ²¡æœ‰å›¾å½¢åŒ–ç•Œé¢çš„å¹´ä»£åŸºæœ¬ä¸Šéƒ½æ˜¯è¿™æ ·å†™ä»£ç çš„ï¼‰
