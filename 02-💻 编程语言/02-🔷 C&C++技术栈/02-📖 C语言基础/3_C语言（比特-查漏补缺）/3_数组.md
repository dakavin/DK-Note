---
æ–‡ç« æ ‡é¢˜: "[[3_æ•°ç»„]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  æ–‡ç« è¯¦ç»†è®²è§£Cè¯­è¨€ä¸€ç»´/äºŒç»´æ•°ç»„çš„åˆ›å»ºã€åˆå§‹åŒ–ã€ä½¿ç”¨åŠå†…å­˜å¸ƒå±€ã€‚é‡ç‚¹å‰–ææ•°ç»„åä½œä¸ºå‡½æ•°å‚æ•°çš„â€œæŒ‡é’ˆé€€åŒ–â€ä¸`sizeof`ã€`&`çš„ç‰¹æ®Šè¯­ä¹‰ã€‚é€šè¿‡ä¸‰å­æ£‹å®ä¾‹ï¼Œç›´è§‚æ¼”ç¤ºæ•°ç»„åœ¨Cç¼–ç¨‹ä¸­çš„å®é™…åº”ç”¨å’Œè¶Šç•Œæ£€æŸ¥çš„é‡è¦æ€§ã€‚
tags:
- "Cè¯­è¨€"
- "æ•°ç»„"
- "ä¸€ç»´æ•°ç»„"
- "äºŒç»´æ•°ç»„"
- "æŒ‡é’ˆé€€åŒ–"
- "æ•°ç»„å‚æ•°"
- "æ•°ç»„è¶Šç•Œ"
ç›¸å…³æ–‡ç« :
- "[[4_æ•°ç»„]]"
- "[[3_977.æœ‰åºæ•°ç»„çš„å¹³æ–¹]]"
- "[[5_59.èºæ—‹çŸ©é˜µ]]"
- "[[9_(è¿›é˜¶)æŒ‡é’ˆï¼ˆå¤šå›é¡¾ï¼‰ğŸ“•ğŸ“•ğŸ“•]]"
- "[[_å¸¸ç”¨å‡½æ•°]]"
æ–‡ç« åˆ†ç±»: "ğŸ’» ç¼–ç¨‹è¯­è¨€"
æ–‡ç« è·¯å¾„: "02-ğŸ’» ç¼–ç¨‹è¯­è¨€/02-ğŸ”· C&C++æŠ€æœ¯æ ˆ/02-ğŸ“– Cè¯­è¨€åŸºç¡€/3_Cè¯­è¨€ï¼ˆæ¯”ç‰¹-æŸ¥æ¼è¡¥ç¼ºï¼‰/3_æ•°ç»„.md"
æ–‡ç« éš¾åº¦: åˆçº§ ğŸ’§
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­â­ ç²¾é€šå¿…å¤‡
åˆ›å»ºæ—¶é—´: 2025-04-14 00:13:54
ä¿®æ”¹æ—¶é—´: 2025-05-27 21:58:16
---

## 1 ä¸€ç»´æ•°ç»„
### 1.1 åˆ›å»ºğŸ“•

æ•°ç»„æ˜¯ä¸€ç»„ç›¸åŒç±»å‹å…ƒç´ çš„é›†åˆ
```c
// 1. åˆ›å»ºæ–¹å¼
type_t arr_name [const_n];
//type_t æ˜¯æŒ‡æ•°ç»„çš„å…ƒç´ ç±»å‹
//const_n æ˜¯ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ï¼Œç”¨æ¥æŒ‡å®šæ•°ç»„çš„å¤§å°

// 2. å®ä¾‹
//ä»£ç 1
int arr1[10];
//ä»£ç 2
int count=10;
int arr2[count];
```

**æ³¨ï¼šæ•°ç»„åˆ›å»ºï¼Œåœ¨C99æ ‡å‡†ä¹‹å‰ï¼Œ `[]` ä¸­è¦ç»™ä¸€ä¸ªå¸¸é‡æ‰å¯ä»¥ï¼Œä¸èƒ½ä½¿ç”¨å˜é‡ã€‚åœ¨C99æ ‡å‡†æ”¯æŒäº†å˜é•¿æ•°ç»„çš„æ¦‚å¿µ**
### 1.2 åˆå§‹åŒ–

æ•°ç»„çš„åˆå§‹åŒ–æ˜¯æŒ‡ï¼Œåœ¨åˆ›å»ºæ•°ç»„çš„åŒæ—¶ç»™æ•°ç»„çš„å†…å®¹ä¸€äº›åˆç†åˆå§‹å€¼ï¼ˆåˆå§‹åŒ–ï¼‰
```c
int arr1[10] = {1,2,3};
int arr2[] = {1,2,3,4};
int arr3[5] = {1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5}ï¼›
char arr4[3] = {'a',98, 'c'};
char arr5[] = {'a','b','c'};
char arr6[] = "abcdef";
```

æ•°ç»„åœ¨åˆ›å»ºçš„æ—¶å€™å¦‚æœæƒ³**ä¸æŒ‡å®šæ•°ç»„çš„ç¡®å®šçš„å¤§å°å°±å¾—åˆå§‹åŒ–**ã€‚æ•°ç»„çš„å…ƒç´ ä¸ªæ•°æ ¹æ®åˆå§‹åŒ–çš„å†…å®¹æ¥ç¡®å®šã€‚

**ä½†æ˜¯å¯¹äºä¸‹é¢çš„ä»£ç è¦åŒºåˆ†ï¼Œå†…å­˜ä¸­å¦‚ä½•åˆ†é…ã€‚**
```c
char arr1[] = "abc";  // æœ€åæ˜¯ä¸€ä¸ª '\0'
char arr2[] = {'a','b','c'}; // æœ€åæ˜¯ä¸€ä¸ª '\0'
char arr3[3] = {'a','b','c'}; // æœ€åå°±æ˜¯å­—ç¬¦c
```
### 1.3 ä½¿ç”¨

`[]` ï¼šä¸‹æ ‡å¼•ç”¨æ“ä½œç¬¦ï¼Œå…¶å®å°±æ˜¯æ•°ç»„è®¿é—®çš„æ“ä½œç¬¦

1. æ•°ç»„æ˜¯ä½¿ç”¨ä¸‹æ ‡æ¥è®¿é—®çš„ï¼Œä¸‹æ ‡æ˜¯ä»0å¼€å§‹ã€‚
2. æ•°ç»„çš„å¤§å°å¯ä»¥é€šè¿‡è®¡ç®—å¾—åˆ°
### 1.4 å†…å­˜

```c
#include <stdio.h>
int main(){
	int arr[10] = {0};
	int i = 0;
	int sz = sizeof(arr)/sizeof(arr[0]);
	for(i=0; i<sz; ++i){
		printf("&arr[%d] = %p\n", i, &arr[i]);
	}
	return 0;
}
```

![image.png|300](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/2c14fba9a4808b92c0c084962a9186de.png)


**æ•°ç»„åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜æ”¾çš„**
## 2 äºŒç»´æ•°ç»„

### 2.1 åˆ›å»º

```c
//æ•°ç»„åˆ›å»º
int arr[3][4];
char arr[3][5];
double arr[2][4];
```
### 2.2 åˆå§‹åŒ–

```c
//æ•°ç»„åˆå§‹åŒ–
int arr[3][4] = {1,2,3,4};
int arr[3][4] = {{1,2},{4,5}};
int arr[][4] = {{2,3},{4,5}};//äºŒç»´æ•°ç»„å¦‚æœæœ‰åˆå§‹åŒ–ï¼Œè¡Œå¯ä»¥çœç•¥ï¼Œåˆ—ä¸èƒ½çœç•¥
```
### 2.3 ä½¿ç”¨

äºŒç»´æ•°ç»„çš„ä½¿ç”¨ä¹Ÿæ˜¯é€šè¿‡ä¸‹æ ‡çš„æ–¹å¼ï¼Œ`[][]`
### 2.4 å†…å­˜

```c
int main(){
	int arr[3][4];
	for(int i = 0;i<3;i++){
		for(int j = 0;j<4;j++){
			printf("arr[%d][%d] = %p\n",i,j,arr[i][j]);
		}
	}
}
```

![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/04/ff7f5da13d2b4399adbe518ac391cb7f.png)

ä¹Ÿæ˜¯è¿ç»­çš„
## 3 æ•°ç»„è¶Šç•Œ

æ•°ç»„çš„ä¸‹æ ‡æ˜¯æœ‰èŒƒå›´é™åˆ¶çš„ï¼šæ•°ç»„çš„ä¸‹è§„å®šæ˜¯ä»0å¼€å§‹çš„ï¼Œå¦‚æœæ•°ç»„æœ‰nä¸ªå…ƒç´ ï¼Œæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡å°±æ˜¯n-1ã€‚

**Cè¯­è¨€æœ¬èº«æ˜¯ä¸åšæ•°ç»„ä¸‹æ ‡çš„è¶Šç•Œæ£€æŸ¥**ï¼Œç¼–è¯‘å™¨ä¹Ÿä¸ä¸€å®šæŠ¥é”™ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¸æŠ¥é”™ï¼Œå¹¶ä¸æ„å‘³ç€ç¨‹åºå°±æ˜¯æ­£ç¡®çš„ï¼Œæ‰€ä»¥ç¨‹åºå‘˜å†™ä»£ç æ—¶ï¼Œæœ€å¥½è‡ªå·±åšè¶Šç•Œçš„æ£€æŸ¥
## 4 æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°

### 4.1 å†’æ³¡æ’åºå‡½æ•°çš„é”™è¯¯è®¾è®¡

```c
void bubbleSort(int arr[]){
	int size = sizeof(arr) / sizeof(arr[0]); // è¿™é‡Œæ­£ç¡®å—ï¼Ÿ
	for(int i = 0;i<size-1;i++){
		for(int j = 0;j<size-1-i;j++){
			if(arr[j]>arr[j+1]){
				int temp = arr[j];
				arr[j] = arr[j+1];
				arr[j+1] = temp;
			}
		}
	}
}
```

å¯¹äºæ•°ç»„æ¥è¯´ï¼Œarrä¼ é€’çš„æ˜¯æŒ‡é’ˆ(æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å†…å­˜ä½ç½®)ï¼Œæ‰€ä»¥arrå’Œarr[0]æ²¡æœ‰åŒºåˆ«ï¼Œéƒ½æ˜¯ä¸€ä¸ªå…ƒç´ ï¼Œå³size=1

### 4.2 æ•°ç»„åæ˜¯ä»€ä¹ˆï¼ŸğŸ“•

**æ•°ç»„åæ˜¯æ•°ç»„é¦–å…ƒç´ çš„åœ°å€**ï¼Œé‚£ä¹ˆ
```c
int arr[10] = {0};
printf("%d",sizeof(arr)); // 40
```

æ•°ç»„åç¡®å®šæ˜¯è¡¨ç¤ºé¦–å…ƒç´ çš„åœ°å€ï¼Œä½†æ˜¯æœ‰`ä¸¤ä¸ªä¾‹å¤–`ï¼š
- sizeof(æ•°ç»„å)ï¼Œè®¡ç®—æ•´ä¸ªæ•°ç»„çš„å¤§å°ï¼Œsizeofå†…éƒ¨å•ç‹¬æ”¾ä¸€ä¸ªæ•°ç»„åï¼Œæ•°ç»„åè¡¨ç¤ºæ•´ä¸ªæ•°ç»„
- **&æ•°ç»„åï¼Œå–å‡ºçš„æ˜¯æ•°ç»„çš„åœ°å€ã€‚&æ•°ç»„åï¼Œæ•°ç»„åè¡¨ç¤ºæ•´ä¸ªæ•°ç»„**
- é™¤äº†ä¸Šé¢ä¸¤ç§æƒ…å†µå¤–ï¼Œæ‰€æœ‰æ•°ç»„åéƒ½è¡¨ç¤ºæ•°ç»„é¦–å…ƒç´ çš„åœ°å€

**å¦‚ä½•ç†è§£å‘¢ï¼Ÿçœ‹ä¸‹é¢çš„ä»£ç **
```c
int arr[10] = 0;
printf("%p\n",arr);        // é¦–å…ƒç´ åœ°å€
printf("%p\n",arr+1);      // ç´¢å¼•1çš„å…ƒç´ åœ°å€

printf("%p\n",&arr[0]);    // é¦–å…ƒç´ åœ°å€
printf("%p\n",&arr[0]+1);  // ç´¢å¼•1çš„å…ƒç´ åœ°å€

printf("%p\n",&arr);       // æ•°ç»„çš„åœ°å€ == é¦–å…ƒç´ åœ°å€
printf("%p\n",&arr+1);     // æ•°ç»„æœ«å°¾çš„åœ°å€ï¼ï¼ï¼è·³è¿‡æ•´ä¸ªæ•°ç»„
```

**äºŒç»´æ•°ç»„åç†è§£**
- äºŒç»´æ•°ç»„åï¼Œä¹Ÿè¡¨ç¤ºé¦–å…ƒç´ åœ°å€ï¼Œå€¼çœ‹ä¼¼æ˜¯`ç¬¬ä¸€ä¸ªå…ƒç´ `çš„åœ°å€ï¼Œ**ä½†æ˜¯è¿™é‡ŒæŒ‡çš„æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼ï¼ï¼**
```c
int arr[3][4];
int size = sizeof(arr);
printf("%d\n",size); // 48

printf("%p\n",arr); // é¦–å…ƒç´ ï¼ˆç¬¬ä¸€è¡Œï¼‰åœ°å€
printf("%p\n",arr); // ç¬¬äºŒè¡Œåœ°å€

//æ‰€ä»¥
// äºŒç»´æ•°ç»„å…ƒç´ çš„ä¸ªæ•°ï¼Œè¡Œæ•°
int han = sizeof(arr) / sizeof(arr[0]); 
// äºŒç»´æ•°ç»„åˆ—æ•°
int lie = sizeof(arr[0]) / sizeof(arr[0][0]);
```
### 4.3 å†’æ³¡æ’åºå‡½æ•°çš„æ­£ç¡®è®¾è®¡

```c
void bubbleSort(int arr[],int size){
	for(int i = 0;i<size-1;i++){
		for(int j = 0;j<size-1-i;j++){
			if(arr[j]>arr[j+1]){
				int temp = arr[j];
				arr[j] = arr[j+1];
				arr[j+1] = temp;
			}
		}
	}
}
int main(){
	int arr[] = {1,2,3,4,5,6,7};
	// é€šè¿‡è¿™é‡Œä¼ å…¥size
	int size = sizeof(arr) / sizeof(arr[0]); 
	bublleSort(arr,size);
}
```

## 5 æ•°ç»„å®ä¾‹

**Clioné¡¹ç›®ä¸­ï¼ŒCMakeListä¿®æ”¹ï¼Œå¯ä»¥å›Šæ‹¬hæ–‡ä»¶**
```c
# æŒ‰ç…§ä¹¦æœ¬è¦æ±‚è®¾å®šCè¯­è¨€ç‰ˆæœ¬  
set(CMAKE_C_STANDARD 99)  
  
# è®¾å®šæ„å»ºè¿è¡Œè·¯å¾„ï¼Œé¿å…æ±¡æŸ“æ ¹ç›®å½•  
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/.archive)  
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/.library)  
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/.runtime)  
set(LIBRARY_OUTPUT_PATH ${CMAKE_SOURCE_DIR}/.path)  
  
# éå†é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰€æœ‰çš„cå’Œhæ–‡ä»¶ï¼Œå¹¶ä¸ºæ¯ä¸€ä¸ªcæ–‡ä»¶ç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„ç›®æ ‡ 
file(GLOB_RECURSE c_files *.c **/*.c)  
file(GLOB_RECURSE h_files *.h **/*.h)  
  
foreach (file ${c_files})  
    # è·å–ä¸å¸¦è·¯å¾„å’Œåç¼€çš„æ–‡ä»¶å  
    get_filename_component(exe ${file} NAME_WE)  
  
    # æŸ¥æ‰¾å¯¹åº”çš„å¤´æ–‡ä»¶ï¼ˆå¦‚æœæœ‰ï¼‰  
    foreach (h_file ${h_files})  
        get_filename_component(h_file_name ${h_file} NAME_WE)  
        if (h_file_name STREQUAL exe)  
            # å¦‚æœæ‰¾åˆ°åŒ¹é…çš„å¤´æ–‡ä»¶ï¼Œå°†å…¶æ·»åŠ åˆ°æºæ–‡ä»¶åˆ—è¡¨  
            add_executable(${exe} ${file} ${h_file})  
            message(\ \ \ \ --\ \[${exe}.c\]\ and\ \[${exe}.h\]\ will\ be\ compiled\ to\ \'.runtime/${exe}.exe\')  
            break()  
        endif()  
    endforeach()  
  
    # å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å¤´æ–‡ä»¶ï¼Œåªæ·»åŠ æºæ–‡ä»¶  
    if (NOT TARGET ${exe})  
        add_executable(${exe} ${file})  
        message(\ \ \ \ --\ \[${exe}.c\]\ will\ be\ compiled\ to\ \'.runtime/${exe}.exe\')  
    endif()  
endforeach ()
```

### 5.1 ä¸‰å­æ£‹

**test.cæ–‡ä»¶**
```c
#include "game.h"  
  
void menu(){  
    printf("*************************************\n");  
    printf("*********  1.play     0.exit  *******\n");  
    printf("*************************************\n");  
}  
  
void game(){  
    char board[ROW][COL] = {0};  
    char ret;  
    // åˆå§‹åŒ–æ£‹ç›˜çš„å‡½æ•°  
    InitBoard(board,ROW,COL);  
    DisplayBoard(board,ROW,COL);  
    // ä¸‹æ£‹  
    while(1){  
        PlayerMove(board,ROW,COL);  
        DisplayBoard(board,ROW,COL);  
        // åˆ¤æ–­è¾“èµ¢  
        ret = IsWin(board,ROW,COL);  
        if(ret != 'c') break;  
        PcMove(board,ROW,COL);  
        DisplayBoard(board,ROW,COL);  
        // åˆ¤æ–­è¾“èµ¢  
        if(ret != 'c') break;  
    }  
    if (ret == '*'){  
        printf("ç©å®¶èµ¢ï¼\n");  
    }else if(ret == '#'){  
        printf("ç”µè„‘èµ¢ï¼\n");  
    }else{  
        printf("å¹³å±€ï¼\n");  
    }  
    DisplayBoard(board,ROW,COL);  
}  
  
int main(void) {  
    // åˆå§‹åŒ–éšæœºæ•°ç§å­ï¼ˆé¿å…æ¯æ¬¡è¿è¡Œç”Ÿæˆç›¸åŒçš„éšæœºåºåˆ—ï¼‰  
    srand((unsigned int)time(NULL));  
    int input = 0;  
    do{  
        menu(); //æ‰“å°èœå•  
        printf("è¯·é€‰æ‹©:>");  
        fflush(stdout);  
        scanf("%d",&input);  
        switch (input) {  
            case 1:  
                game();  
                break;  
            case 0:  
                printf("é€€å‡ºæ¸¸æˆ\n");  
                break;  
            default:  
                printf("é€‰æ‹©é”™è¯¯\n");  
                break;  
        }  
    } while (input);  
    return 0;  
}
```

**game.hæ–‡ä»¶**
```c
#ifndef INC_1_SANZIQI_GAME_H  
#define INC_1_SANZIQI_GAME_H  
  
#include <stdio.h>  
#include <stdlib.h>  
#include <time.h>  
#include <stdbool.h>  // ä½¿ç”¨ bool ç±»å‹  
  
#define ROW 3  
#define COL 3  
  
// åˆå§‹åŒ–æ£‹ç›˜  
void InitBoard(char board[ROW][COL],int row,int col);  
// æ‰“å°æ£‹ç›˜  
void DisplayBoard(char board[ROW][COL],int row,int col);  
//ç©å®¶ä¸‹æ£‹  
void PlayerMove(char board[ROW][COL],int row,int col);  
//ç”µè„‘ä¸‹æ£‹  
void PcMove(char board[ROW][COL],int row,int col);  
// åˆ¤æ–­è¾“èµ¢ï¼ˆç©å®¶èµ¢*ã€ç”µè„‘èµ¢#ã€å¹³å±€qã€ç»§ç»­cï¼‰  
char IsWin(char board[ROW][COL],int row,int col);  
// åˆ¤æ–­æ˜¯å¦æœ‰è¿ç»­ count ä¸ªç›¸åŒçš„å­—ç¬¦  
static bool CheckLine(char board[ROW][COL], int x, int y, int dx, int dy, char target, int count);  
  
#endif //INC_1_SANZIQI_GAME_H
```

**game.cæ–‡ä»¶**
```c
#include "game.h"  
  
void InitBoard(char board[ROW][COL], int row, int col) {  
    for (int i = 0; i < row; ++i) {  
        for (int j = 0; j < col; ++j) {  
            board[i][j] = ' ';  
        }  
    }  
}  
  
void DisplayBoard(char board[ROW][COL], int row, int col) {  
    for (int i = 0; i < row; ++i) {  
        for (int j = 0; j < col; ++j) {  
            printf(" %c ", board[i][j]);  
            if (j < col - 1)  
                printf("|");  
        }  
        printf("\n");  
        if (i < row - 1) {  
            for (int j = 0; j < col; ++j) {  
                printf("---");  
                if (j < col - 1)  
                    printf("|");  
            }  
            printf("\n");  
        }  
  
    }  
}  
  
void PlayerMove(char board[ROW][COL], int row, int col) {  
    int x = 0;  
    int y = 0;  
    printf("ç©å®¶ä¸‹æ£‹:>\n");  
    while(1){  
        printf("ç©å®¶è¯·è¾“å…¥åæ ‡:>");  
        fflush(stdout);  
        scanf("%d %d", &x, &y);  
        if (x >= 1 && x <= row && y >= 1 && y <= col) {  
            if (board[x - 1][y - 1] == ' ') {  
                board[x - 1][y - 1] = '*';  
                break;  
            } else {  
                printf("å·²æœ‰æ£‹å­ï¼Œè¯·é‡æ–°ä¸‹æ£‹ï¼\n");  
                continue;  
            }  
        } else {  
            printf("è¾“å…¥åæ ‡æœ‰è¯¯ï¼Œè¯·é‡æ–°ä¸‹æ£‹ï¼\n");  
            continue;  
        }  
    }  
}  
  
void PcMove(char board[ROW][COL],int row,int col){  
    printf("ç”µè„‘ä¸‹æ£‹:>\n");  
    while(1){  
        int x = rand() % row;  
        int y = rand() % col;  
        if (board[x][y] == ' ') {  
            board[x][y] = '#';  
            break;  
        }  
    }  
}  
  
// åˆ¤æ–­æ˜¯å¦æœ‰è¿ç»­ count ä¸ªç›¸åŒçš„å­—ç¬¦  
static bool CheckLine(char board[ROW][COL], int x, int y, int dx, int dy, char target, int count) {  
    for (int i = 0; i < count; i++) {  
        if (board[x + i * dx][y + i * dy] != target) {  
            return false;  
        }  
    }  
    return true;  
}  
  
// åˆ¤æ–­è¾“èµ¢  
// ä»æ¯ä¸ªæ ¼å­å‡ºå‘ï¼Œå‘å››ä¸ªæ–¹å‘æ‰¾è¿ç»­ 3 ä¸ªç›¸åŒç¬¦å·ï¼Œæ‰¾åˆ°å°±èµ¢ï¼Œå¦åˆ™æ£€æŸ¥æ£‹ç›˜æ˜¯å¦å¡«æ»¡ã€‚
char IsWin(char board[ROW][COL], int row, int col) {  
    const int win_count = 3;  // è¿ç»­ 3 ä¸ªä¸ºèµ¢  
  
    // æ£€æŸ¥æ‰€æœ‰å¯èƒ½çš„èµ·ç‚¹å’Œæ–¹å‘  
    for (int i = 0; i < row; i++) {  
        for (int j = 0; j < col; j++) {  
            char current = board[i][j];  
            if (current == ' ' || (current != '*' && current != '#')) {  
                continue;  // è·³è¿‡ç©ºæ ¼å’Œæ— æ•ˆå­—ç¬¦  
            }  
  
            // æ£€æŸ¥è¡Œæ–¹å‘ï¼ˆå‘å³ï¼‰  
            if (j <= col - win_count && CheckLine(board, i, j, 0, 1, current, win_count)) {  
                return current;  
            }  
  
            // æ£€æŸ¥åˆ—æ–¹å‘ï¼ˆå‘ä¸‹ï¼‰  
            if (i <= row - win_count && CheckLine(board, i, j, 1, 0, current, win_count)) {  
                return current;  
            }  
  
            // æ£€æŸ¥ä¸»å¯¹è§’çº¿ï¼ˆå³ä¸‹ï¼‰  
            if (i <= row - win_count && j <= col - win_count &&  
                CheckLine(board, i, j, 1, 1, current, win_count)) {  
                return current;  
            }  
  
            // æ£€æŸ¥å‰¯å¯¹è§’çº¿ï¼ˆå·¦ä¸‹ï¼‰  
            if (i <= row - win_count && j >= win_count - 1 &&  
                CheckLine(board, i, j, 1, -1, current, win_count)) {  
                return current;  
            }  
        }  
    }  
  
    // æ£€æŸ¥å¹³å±€ï¼ˆæ£‹ç›˜æ˜¯å¦å·²æ»¡ï¼‰  
    bool is_full = true;  
    for (int i = 0; i < row; i++) {  
        for (int j = 0; j < col; j++) {  
            if (board[i][j] == ' ') {  
                is_full = false;  
                break;  
            }  
        }  
        if (!is_full) break;  
    }  
  
    return is_full ? 'q' : 'c';  // å¹³å±€æˆ–ç»§ç»­  
}
```
