---
æ–‡ç« æ ‡é¢˜: "[[8_å¼‚å¸¸å¤„ç†]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  æ–‡ç« å…¨é¢è®²è§£Javaå¼‚å¸¸å¤„ç†ï¼Œæ¶µç›–å¼‚å¸¸æ¦‚å¿µã€Throwableä½“ç³»ï¼ˆErrorã€Exceptionï¼Œç¼–è¯‘æ—¶/è¿è¡Œæ—¶å¼‚å¸¸ï¼‰ï¼Œå¹¶è¯¦è¿°try-catch-finallyæ•è·ä¸throwså£°æ˜ä¸¤ç§å¤„ç†æœºåˆ¶ã€‚åŒæ—¶ä»‹ç»äº†throwæ‰‹åŠ¨æŠ›å‡ºåŠè‡ªå®šä¹‰å¼‚å¸¸ï¼Œå¼ºè°ƒä»£ç å¥å£®æ€§ä¸èµ„æºç®¡ç†ã€‚
æ–‡ç« æ ‡ç­¾:
- "Java"
- "å¼‚å¸¸å¤„ç†"
- "try-catch-finally"
- "throws"
- "å¼‚å¸¸ä½“ç³»"
- "è‡ªå®šä¹‰å¼‚å¸¸"
- "è¿è¡Œæ—¶å¼‚å¸¸"
- "ç¼–è¯‘æ—¶å¼‚å¸¸"
ç›¸å…³æ–‡ç« :
- "[[3_å…³é”®å­—]]"
- "[[4_Javaå…³é”®å­—50ä¸ªæ·±åº¦è§£æ]]"
- "[[1_Javaå‡½æ•°]]"
- "[[1_JavaåŸºæœ¬æ•°æ®ç±»å‹]]"
- "[[1_Javaé¢å‘å¯¹è±¡]]"
æ–‡ç« åˆ†ç±»: "ğŸ’» ç¼–ç¨‹è¯­è¨€"
æ–‡ç« è·¯å¾„: "02-ğŸ’» ç¼–ç¨‹è¯­è¨€/01-â˜• JavaæŠ€æœ¯æ ˆ/02-ğŸ“š åŸºç¡€è¯­æ³•/1_JavaåŸºç¡€/8_å¼‚å¸¸å¤„ç†.md"
æ–‡ç« éš¾åº¦: åˆçº§ ğŸ’§
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­â­ ç²¾é€šå¿…å¤‡
åˆ›å»ºæ—¶é—´: 2024-08-11 18:15:12
ä¿®æ”¹æ—¶é—´: 2025-05-26 07:14:16
---

## 1 æœ¬ç« ä¸“é¢˜ä¸è„‰ç»œ

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/79283a8fd53852d51cf75a31617d46a3.png)

## 2 å¼‚å¸¸æ¦‚è¿°

### 2.1 ä»€ä¹ˆæ˜¯ç”Ÿæ´»çš„å¼‚å¸¸

ç”·ä¸»è§’å°æ˜æ¯å¤©å¼€è½¦ä¸Šç­ï¼Œæ­£å¸¸è½¦ç¨‹1å°æ—¶ã€‚ä½†æ˜¯ï¼Œä¸å‡ºæ„å¤–çš„è¯ï¼Œå¯èƒ½ä¼šå‡ºç°æ„å¤–ã€‚

å‡ºç°æ„å¤–ï¼Œå³ä¸ºå¼‚å¸¸æƒ…å†µã€‚æˆ‘ä»¬ä¼šåšç›¸åº”çš„å¤„ç†ã€‚å¦‚æœä¸å¤„ç†ï¼Œåˆ°ä¸äº†å…¬å¸ã€‚å¤„ç†å®Œäº†ï¼Œå°±å¯ä»¥æ­£å¸¸å¼€è½¦å»å…¬å¸ã€‚

### 2.2 ä»€ä¹ˆæ˜¯ç¨‹åºçš„å¼‚å¸¸

åœ¨ä½¿ç”¨è®¡ç®—æœºè¯­è¨€è¿›è¡Œé¡¹ç›®å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå³ä½¿ç¨‹åºå‘˜æŠŠä»£ç å†™å¾—`å°½å–„å°½ç¾`ï¼Œåœ¨ç³»ç»Ÿçš„è¿è¡Œè¿‡ç¨‹ä¸­ä»ç„¶ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œå› ä¸ºå¾ˆå¤šé—®é¢˜ä¸æ˜¯é ä»£ç èƒ½å¤Ÿé¿å…çš„ï¼Œæ¯”å¦‚ï¼š`å®¢æˆ·è¾“å…¥æ•°æ®çš„æ ¼å¼é—®é¢˜`ï¼Œ`è¯»å–æ–‡ä»¶æ˜¯å¦å­˜åœ¨`ï¼Œ`ç½‘ç»œæ˜¯å¦å§‹ç»ˆä¿æŒé€šç•…`ç­‰ç­‰ã€‚

* **å¼‚å¸¸** ï¼šæŒ‡çš„æ˜¯ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå‡ºç°çš„éæ­£å¸¸æƒ…å†µï¼Œå¦‚æœä¸å¤„ç†æœ€ç»ˆä¼šå¯¼è‡´JVMçš„éæ­£å¸¸åœæ­¢ã€‚

> å¼‚å¸¸æŒ‡çš„å¹¶ä¸æ˜¯è¯­æ³•é”™è¯¯å’Œé€»è¾‘é”™è¯¯ã€‚è¯­æ³•é”™äº†ï¼Œç¼–è¯‘ä¸é€šè¿‡ï¼Œä¸ä¼šäº§ç”Ÿå­—èŠ‚ç æ–‡ä»¶ï¼Œæ ¹æœ¬ä¸èƒ½è¿è¡Œã€‚
>
> ä»£ç é€»è¾‘é”™è¯¯ï¼Œåªæ˜¯æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„ç»“æœï¼Œä¾‹å¦‚ï¼šæ±‚aä¸bçš„å’Œï¼Œä½ å†™æˆäº†a-b

### 2.3 å¼‚å¸¸çš„æŠ›å‡ºæœºåˆ¶

Javaä¸­æ˜¯å¦‚ä½•è¡¨ç¤ºä¸åŒçš„å¼‚å¸¸æƒ…å†µï¼Œåˆæ˜¯å¦‚ä½•è®©ç¨‹åºå‘˜å¾—çŸ¥ï¼Œå¹¶å¤„ç†å¼‚å¸¸çš„å‘¢ï¼Ÿ

Javaä¸­æŠŠä¸åŒçš„å¼‚å¸¸ç”¨ä¸åŒçš„ç±»è¡¨ç¤ºï¼Œä¸€æ—¦å‘ç”ŸæŸç§å¼‚å¸¸ï¼Œå°±`åˆ›å»ºè¯¥å¼‚å¸¸ç±»å‹çš„å¯¹è±¡`ï¼Œå¹¶ä¸”æŠ›å‡ºï¼ˆthrowï¼‰ã€‚ç„¶åç¨‹åºå‘˜å¯ä»¥æ•è·(catch)åˆ°è¿™ä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œå¹¶å¤„ç†ï¼›å¦‚æœæ²¡æœ‰æ•è·(catch)è¿™ä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸å¯¹è±¡å°†ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ã€‚

ä¸¾ä¾‹ï¼š

è¿è¡Œä¸‹é¢çš„ç¨‹åºï¼Œç¨‹åºä¼šäº§ç”Ÿä¸€ä¸ªæ•°ç»„è§’æ ‡è¶Šç•Œå¼‚å¸¸`ArrayIndexOfBoundsException`ã€‚æˆ‘ä»¬é€šè¿‡å›¾è§£æ¥è§£æä¸‹å¼‚å¸¸äº§ç”Ÿå’ŒæŠ›å‡ºçš„è¿‡ç¨‹ã€‚

~~~java
public class ArrayTools {
    // å¯¹ç»™å®šçš„æ•°ç»„é€šè¿‡ç»™å®šçš„è§’æ ‡è·å–å…ƒç´ ã€‚
    public static int getElement(int[] arr, int index) {
        int element = arr[index];
        return element;
    }
}
~~~

 æµ‹è¯•ç±»

~~~java
public class ExceptionDemo {
    public static void main(String[] args) {
        int[] arr = { 34, 12, 67 };
        intnum = ArrayTools.getElement(arr, 4)
        System.out.println("num=" + num);
        System.out.println("over");
    }
}
~~~

ä¸Šè¿°ç¨‹åºæ‰§è¡Œè¿‡ç¨‹å›¾è§£ï¼š

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/014d9e23ae28ebc87a04e4609a385b5e.png)

### 2.4 å¦‚ä½•å¯¹å¾…å¼‚å¸¸

 å¯¹äºç¨‹åºå‡ºç°çš„å¼‚å¸¸ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼šä¸€æ˜¯é‡åˆ°é”™è¯¯å°±ç»ˆæ­¢ç¨‹åºçš„è¿è¡Œã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯ç¨‹åºå‘˜åœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œå°±å……åˆ†è€ƒè™‘åˆ°å„ç§å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸å’Œé”™è¯¯ï¼ŒæåŠ›é¢„é˜²å’Œé¿å…ã€‚å®åœ¨æ— æ³•é¿å…çš„ï¼Œè¦ç¼–å†™ç›¸åº”çš„ä»£ç è¿›è¡Œå¼‚å¸¸çš„æ£€æµ‹ã€ä»¥åŠ`å¼‚å¸¸çš„å¤„ç†`ï¼Œä¿è¯ä»£ç çš„`å¥å£®æ€§`ã€‚

## 3 Javaå¼‚å¸¸ä½“ç³»

### 3.1 Throwable

`java.lang.Throwable` ç±»æ˜¯Javaç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„å¼‚å¸¸äº‹ä»¶å¯¹åº”çš„ç±»çš„æ ¹çˆ¶ç±»ã€‚

**Throwableä¸­çš„å¸¸ç”¨æ–¹æ³•ï¼š**

* `public void printStackTrace()`ï¼šæ‰“å°å¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯ã€‚

  åŒ…å«äº†å¼‚å¸¸çš„ç±»å‹ã€å¼‚å¸¸çš„åŸå› ã€å¼‚å¸¸å‡ºç°çš„ä½ç½®ã€åœ¨å¼€å‘å’Œè°ƒè¯•é˜¶æ®µéƒ½å¾—ä½¿ç”¨printStackTraceã€‚

* `public String getMessage()`ï¼šè·å–å‘ç”Ÿå¼‚å¸¸çš„åŸå› ã€‚

### 3.2 Error å’Œ Exception

Throwableå¯åˆ†ä¸ºä¸¤ç±»ï¼šErrorå’ŒExceptionã€‚åˆ†åˆ«å¯¹åº”ç€`java.lang.Error`ä¸`java.lang.Exception`ä¸¤ä¸ªç±»ã€‚

**Errorï¼š** Javaè™šæ‹Ÿæœºæ— æ³•è§£å†³çš„ä¸¥é‡é—®é¢˜ã€‚å¦‚ï¼šJVMç³»ç»Ÿå†…éƒ¨é”™è¯¯ã€èµ„æºè€—å°½ç­‰ä¸¥é‡æƒ…å†µã€‚ä¸€èˆ¬ä¸ç¼–å†™é’ˆå¯¹æ€§çš„ä»£ç è¿›è¡Œå¤„ç†ã€‚

- ä¾‹å¦‚ï¼šStackOverflowErrorï¼ˆæ ˆå†…å­˜æº¢å‡ºï¼‰å’ŒOutOfMemoryErrorï¼ˆå †å†…å­˜æº¢å‡ºï¼Œç®€ç§°OOMï¼‰ã€‚

**Exception:** å…¶å®ƒå› ç¼–ç¨‹é”™è¯¯æˆ–å¶ç„¶çš„å¤–åœ¨å› ç´ å¯¼è‡´çš„ä¸€èˆ¬æ€§é—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨é’ˆå¯¹æ€§çš„ä»£ç è¿›è¡Œå¤„ç†ï¼Œä½¿ç¨‹åºç»§ç»­è¿è¡Œã€‚å¦åˆ™ä¸€æ—¦å‘ç”Ÿå¼‚å¸¸ï¼Œç¨‹åºä¹Ÿä¼šæŒ‚æ‰ã€‚ä¾‹å¦‚ï¼š

- ç©ºæŒ‡é’ˆè®¿é—®
- è¯•å›¾è¯»å–ä¸å­˜åœ¨çš„æ–‡ä»¶
- ç½‘ç»œè¿æ¥ä¸­æ–­
- æ•°ç»„è§’æ ‡è¶Šç•Œ

> è¯´æ˜ï¼š
> 1. æ— è®ºæ˜¯Errorè¿˜æ˜¯Exceptionï¼Œè¿˜æœ‰å¾ˆå¤šå­ç±»ï¼Œå¼‚å¸¸çš„ç±»å‹éå¸¸ä¸°å¯Œã€‚å½“ä»£ç è¿è¡Œå‡ºç°å¼‚å¸¸æ—¶ï¼Œç‰¹åˆ«æ˜¯æˆ‘ä»¬ä¸ç†Ÿæ‚‰çš„å¼‚å¸¸æ—¶ï¼Œä¸è¦ç´§å¼ ï¼ŒæŠŠå¼‚å¸¸çš„ç®€å•ç±»åï¼Œæ‹·è´åˆ°APIä¸­å»æŸ¥å»è®¤è¯†å®ƒå³å¯ã€‚
> 2. æˆ‘ä»¬æœ¬ç« è®²çš„å¼‚å¸¸å¤„ç†ï¼Œå…¶å®é’ˆå¯¹çš„å°±æ˜¯Exceptionã€‚

### 3.3 ç¼–è¯‘æ—¶å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸

Javaç¨‹åºçš„æ‰§è¡Œåˆ†ä¸ºç¼–è¯‘æ—¶è¿‡ç¨‹å’Œè¿è¡Œæ—¶è¿‡ç¨‹ã€‚æœ‰çš„é”™è¯¯åªæœ‰åœ¨`è¿è¡Œæ—¶`æ‰ä¼šå‘ç”Ÿã€‚æ¯”å¦‚ï¼šé™¤æ•°ä¸º0ï¼Œæ•°ç»„ä¸‹æ ‡è¶Šç•Œç­‰ã€‚

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/0800e576b3a5ed0309aa6a19c7973551.png)


å› æ­¤ï¼Œæ ¹æ®å¼‚å¸¸å¯èƒ½å‡ºç°çš„é˜¶æ®µï¼Œå¯ä»¥å°†å¼‚å¸¸åˆ†ä¸ºï¼š

* **ç¼–è¯‘æ—¶æœŸå¼‚å¸¸**ï¼ˆå³checkedå¼‚å¸¸ã€å—æ£€å¼‚å¸¸ï¼‰ï¼šåœ¨ä»£ç ç¼–è¯‘é˜¶æ®µï¼Œç¼–è¯‘å™¨å°±èƒ½æ˜ç¡®`è­¦ç¤º`å½“å‰ä»£ç `å¯èƒ½å‘ç”Ÿï¼ˆä¸æ˜¯ä¸€å®šå‘ç”Ÿï¼‰`xxå¼‚å¸¸ï¼Œå¹¶`æ˜ç¡®ç£ä¿ƒ`ç¨‹åºå‘˜æå‰ç¼–å†™å¤„ç†å®ƒçš„ä»£ç ã€‚å¦‚æœç¨‹åºå‘˜`æ²¡æœ‰ç¼–å†™`å¯¹åº”çš„å¼‚å¸¸å¤„ç†ä»£ç ï¼Œåˆ™ç¼–è¯‘å™¨å°±ä¼šç›´æ¥åˆ¤å®šç¼–è¯‘å¤±è´¥ï¼Œä»è€Œä¸èƒ½ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶ã€‚é€šå¸¸ï¼Œè¿™ç±»å¼‚å¸¸çš„å‘ç”Ÿä¸æ˜¯ç”±ç¨‹åºå‘˜çš„ä»£ç å¼•èµ·çš„ï¼Œæˆ–è€…ä¸æ˜¯é åŠ ç®€å•åˆ¤æ–­å°±å¯ä»¥é¿å…çš„ï¼Œä¾‹å¦‚ï¼šFileNotFoundExceptionï¼ˆæ–‡ä»¶æ‰¾ä¸åˆ°å¼‚å¸¸ï¼‰ã€‚
* **è¿è¡Œæ—¶æœŸå¼‚å¸¸**ï¼ˆå³runtimeå¼‚å¸¸ã€uncheckedå¼‚å¸¸ã€éå—æ£€å¼‚å¸¸ï¼‰ï¼šåœ¨ä»£ç ç¼–è¯‘é˜¶æ®µï¼Œç¼–è¯‘å™¨å®Œå…¨ä¸åšä»»ä½•æ£€æŸ¥ï¼Œæ— è®ºè¯¥å¼‚å¸¸æ˜¯å¦ä¼šå‘ç”Ÿï¼Œç¼–è¯‘å™¨éƒ½ä¸ç»™å‡ºä»»ä½•æç¤ºã€‚åªæœ‰ç­‰ä»£ç è¿è¡Œèµ·æ¥å¹¶ç¡®å®å‘ç”Ÿäº†xxå¼‚å¸¸ï¼Œå®ƒæ‰èƒ½è¢«å‘ç°ã€‚é€šå¸¸ï¼Œè¿™ç±»å¼‚å¸¸æ˜¯ç”±ç¨‹åºå‘˜çš„ä»£ç ç¼–å†™ä¸å½“å¼•èµ·çš„ï¼Œåªè¦ç¨åŠ åˆ¤æ–­ï¼Œæˆ–è€…ç»†å¿ƒæ£€æŸ¥å°±å¯ä»¥é¿å…ã€‚
  * **java.lang.RuntimeException**ç±»åŠå®ƒçš„å­ç±»éƒ½æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ã€‚æ¯”å¦‚ï¼šArrayIndexOutOfBoundsExceptionæ•°ç»„ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸ï¼ŒClassCastExceptionç±»å‹è½¬æ¢å¼‚å¸¸ã€‚
  * 
![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/44402e50a82ccbfd58cf9dcf659857f5.png)

## 4 å¸¸è§çš„é”™è¯¯å’Œå¼‚å¸¸

### 4.1 Error

æœ€å¸¸è§çš„å°±æ˜¯VirtualMachineErrorï¼Œå®ƒæœ‰ä¸¤ä¸ªç»å…¸çš„å­ç±»ï¼šStackOverflowErrorã€OutOfMemoryErrorã€‚

```java
package com.atguigu.exception;

import org.junit.Test;

public class TestStackOverflowError {
    @Test
    public void test01(){
        //StackOverflowError
        recursion();
    }

    public void recursion(){ //é€’å½’æ–¹æ³•
        recursion(); 
    }
}

```

```java
package com.atguigu.exception;

import org.junit.Test;

public class TestOutOfMemoryError {
    @Test
    public void test02(){
        //OutOfMemoryError
        //æ–¹å¼ä¸€ï¼š
        int[] arr = new int[Integer.MAX_VALUE];
    }
    @Test
    public void test03(){
        //OutOfMemoryError
        //æ–¹å¼äºŒï¼š
        StringBuilder s = new StringBuilder();
        while(true){
            s.append("atguigu");
        }
    }
}

```

### 4.2 è¿è¡Œæ—¶å¼‚å¸¸

```java
package com.atguigu.exception;

import org.junit.Test;

import java.util.Scanner;

public class TestRuntimeException {
    @Test
    public void test01(){
        //NullPointerException
        int[][] arr = new int[3][];
        System.out.println(arr[0].length);
    }

    @Test
    public void test02(){
        //ClassCastException
        Object obj = 15;
        String str = (String) obj;
    }

    @Test
    public void test03(){
        //ArrayIndexOutOfBoundsException
        int[] arr = new int[5];
        for (int i = 1; i <= 5; i++) {
            System.out.println(arr[i]);
        }
    }

    @Test
    public void test04(){
        //InputMismatchException
        Scanner input = new Scanner(System.in);
        System.out.print("è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼š");//è¾“å…¥éæ•´æ•°
        int num = input.nextInt();
        input.close();
    }

    @Test
    public void test05(){
        int a = 1;
        int b = 0;
        //ArithmeticException
        System.out.println(a/b);
    }
}

```

### 4.3 ç¼–è¯‘æ—¶å¼‚å¸¸

```java
package com.atguigu.exception;

import org.junit.Test;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

public class TestCheckedException {
    @Test
    public void test06() {
        Thread.sleep(1000);//ä¼‘çœ 1ç§’  InterruptedException
    }

    @Test
    public void test07(){
        Class c = Class.forName("java.lang.String");//ClassNotFoundException
    }

    @Test
    public void test08() {
        Connection conn = DriverManager.getConnection("....");  //SQLException
    }
    @Test
    public void test09()  {
        FileInputStream fis = new FileInputStream("å°šç¡…è°·Javaç§˜ç±.txt"); //FileNotFoundException
    }
    @Test
    public void test10() {
        File file = new File("å°šç¡…è°·Javaç§˜ç±.txt");
		FileInputStream fis = new FileInputStream(file);//FileNotFoundException
		int b = fis.read();//IOException
		while(b != -1){
			System.out.print((char)b);
			b = fis.read();//IOException
		}
		
		fis.close();//IOException
    }
}
```

## 5 å¼‚å¸¸çš„å¤„ç†

### 5.1 å¼‚å¸¸å¤„ç†æ¦‚è¿°

åœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œç»å¸¸è¦åœ¨å¯èƒ½å‡ºç°é”™è¯¯çš„åœ°æ–¹åŠ ä¸Šæ£€æµ‹çš„ä»£ç ï¼Œå¦‚è¿›è¡Œx/yè¿ç®—æ—¶ï¼Œè¦`æ£€æµ‹åˆ†æ¯ä¸º0`ï¼Œ`æ•°æ®ä¸ºç©º`ï¼Œ`è¾“å…¥çš„ä¸æ˜¯æ•°æ®è€Œæ˜¯å­—ç¬¦`ç­‰ã€‚è¿‡å¤šçš„if-elseåˆ†æ”¯ä¼šå¯¼è‡´ç¨‹åºçš„`ä»£ç åŠ é•¿`ã€`è‡ƒè‚¿`ï¼Œ`å¯è¯»æ€§å·®`ï¼Œç¨‹åºå‘˜éœ€è¦èŠ±å¾ˆå¤§çš„ç²¾åŠ›â€œ`å µæ¼æ´`â€ã€‚å› æ­¤é‡‡ç”¨å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚

**Javaå¼‚å¸¸å¤„ç†**

Javaé‡‡ç”¨çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œæ˜¯`å°†å¼‚å¸¸å¤„ç†çš„ç¨‹åºä»£ç é›†ä¸­åœ¨ä¸€èµ·`ï¼Œä¸æ­£å¸¸çš„ç¨‹åºä»£ç åˆ†å¼€ï¼Œä½¿å¾—ç¨‹åºç®€æ´ã€ä¼˜é›…ï¼Œå¹¶æ˜“äºç»´æŠ¤ã€‚

**Javaå¼‚å¸¸å¤„ç†çš„æ–¹å¼ï¼š**

æ–¹å¼ä¸€ï¼štry-catch-finally

æ–¹å¼äºŒï¼šthrows + å¼‚å¸¸ç±»å‹

### 5.2 æ–¹å¼1ï¼šæ•è·å¼‚å¸¸ï¼ˆtry-catch-finallyï¼‰

Javaæä¾›äº†å¼‚å¸¸å¤„ç†çš„**æŠ“æŠ›æ¨¡å‹**ã€‚

- å‰é¢æåˆ°ï¼ŒJavaç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚å‡ºç°å¼‚å¸¸ï¼Œä¼šç”Ÿæˆä¸€ä¸ªå¼‚å¸¸ç±»å¯¹è±¡ï¼Œè¯¥å¼‚å¸¸å¯¹è±¡å°†è¢«æäº¤ç»™Javaè¿è¡Œæ—¶ç³»ç»Ÿï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º`æŠ›å‡º(throw)å¼‚å¸¸`ã€‚
- å¦‚æœä¸€ä¸ªæ–¹æ³•å†…æŠ›å‡ºå¼‚å¸¸ï¼Œè¯¥å¼‚å¸¸å¯¹è±¡ä¼šè¢«æŠ›ç»™è°ƒç”¨è€…æ–¹æ³•ä¸­å¤„ç†ã€‚å¦‚æœå¼‚å¸¸æ²¡æœ‰åœ¨è°ƒç”¨è€…æ–¹æ³•ä¸­å¤„ç†ï¼Œå®ƒç»§ç»­è¢«æŠ›ç»™è¿™ä¸ªè°ƒç”¨æ–¹æ³•çš„ä¸Šå±‚æ–¹æ³•ã€‚è¿™ä¸ªè¿‡ç¨‹å°†ä¸€ç›´ç»§ç»­ä¸‹å»ï¼Œç›´åˆ°å¼‚å¸¸è¢«å¤„ç†ã€‚è¿™ä¸€è¿‡ç¨‹ç§°ä¸º`æ•è·(catch)å¼‚å¸¸`ã€‚
- å¦‚æœä¸€ä¸ªå¼‚å¸¸å›åˆ°main()æ–¹æ³•ï¼Œå¹¶ä¸”main()ä¹Ÿä¸å¤„ç†ï¼Œåˆ™ç¨‹åºè¿è¡Œç»ˆæ­¢ã€‚

#### 5.2.1 try-catch-finallyåŸºæœ¬æ ¼å¼

æ•è·å¼‚å¸¸è¯­æ³•å¦‚ä¸‹ï¼š

~~~java
try{
	......	//å¯èƒ½äº§ç”Ÿå¼‚å¸¸çš„ä»£ç 
}
catch( å¼‚å¸¸ç±»å‹1 e ){
	......	//å½“äº§ç”Ÿå¼‚å¸¸ç±»å‹1å‹å¼‚å¸¸æ—¶çš„å¤„ç½®æªæ–½
}
catch( å¼‚å¸¸ç±»å‹2 e ){
	...... 	//å½“äº§ç”Ÿå¼‚å¸¸ç±»å‹2å‹å¼‚å¸¸æ—¶çš„å¤„ç½®æªæ–½
}  
finally{
	...... //æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œéƒ½æ— æ¡ä»¶æ‰§è¡Œçš„è¯­å¥
} 

~~~

**1ã€æ•´ä½“æ‰§è¡Œè¿‡ç¨‹ï¼š**

å½“æŸæ®µä»£ç å¯èƒ½å‘ç”Ÿå¼‚å¸¸ï¼Œä¸ç®¡è¿™ä¸ªå¼‚å¸¸æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ï¼ˆå—æ£€å¼‚å¸¸ï¼‰è¿˜æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ï¼ˆéå—æ£€å¼‚å¸¸ï¼‰ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ä½¿ç”¨tryå—å°†å®ƒæ‹¬èµ·æ¥ï¼Œå¹¶åœ¨tryå—ä¸‹é¢ç¼–å†™catchåˆ†æ”¯å°è¯•æ•è·å¯¹åº”çš„å¼‚å¸¸å¯¹è±¡ã€‚

- å¦‚æœåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œtryå—ä¸­çš„ä»£ç æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œé‚£ä¹ˆcatchæ‰€æœ‰çš„åˆ†æ”¯éƒ½ä¸æ‰§è¡Œã€‚
- å¦‚æœåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œtryå—ä¸­çš„ä»£ç å‘ç”Ÿäº†å¼‚å¸¸ï¼Œæ ¹æ®å¼‚å¸¸å¯¹è±¡çš„ç±»å‹ï¼Œå°†ä»ä¸Šåˆ°ä¸‹é€‰æ‹©ç¬¬ä¸€ä¸ªåŒ¹é…çš„catchåˆ†æ”¯æ‰§è¡Œã€‚æ­¤æ—¶tryä¸­å‘ç”Ÿå¼‚å¸¸çš„è¯­å¥ä¸‹é¢çš„ä»£ç å°†ä¸æ‰§è¡Œï¼Œè€Œæ•´ä¸ªtry...catchä¹‹åçš„ä»£ç å¯ä»¥ç»§ç»­è¿è¡Œã€‚
- å¦‚æœåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œtryå—ä¸­çš„ä»£ç å‘ç”Ÿäº†å¼‚å¸¸ï¼Œä½†æ˜¯æ‰€æœ‰catchåˆ†æ”¯éƒ½æ— æ³•åŒ¹é…ï¼ˆæ•è·ï¼‰è¿™ä¸ªå¼‚å¸¸ï¼Œé‚£ä¹ˆJVMå°†ä¼šç»ˆæ­¢å½“å‰æ–¹æ³•çš„æ‰§è¡Œï¼Œå¹¶æŠŠå¼‚å¸¸å¯¹è±¡â€œæŠ›â€ç»™è°ƒç”¨è€…ã€‚å¦‚æœè°ƒç”¨è€…ä¸å¤„ç†ï¼Œç¨‹åºå°±æŒ‚äº†ã€‚

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/c7fa617899d7e4b2a61b0a176c3092fe.png)


**2ã€try**

- æ•è·å¼‚å¸¸çš„ç¬¬ä¸€æ­¥æ˜¯ç”¨`try{â€¦}è¯­å¥å—`é€‰å®šæ•è·å¼‚å¸¸çš„èŒƒå›´ï¼Œå°†å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä¸šåŠ¡é€»è¾‘ä»£ç æ”¾åœ¨tryè¯­å¥å—ä¸­ã€‚

**3ã€catch (Exceptiontype e)**

- catchåˆ†æ”¯ï¼Œåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œcatch()ä¸­ç¼–å†™å¼‚å¸¸ç±»å‹å’Œå¼‚å¸¸å‚æ•°åï¼Œ{}ä¸­ç¼–å†™å¦‚æœå‘ç”Ÿäº†è¿™ä¸ªå¼‚å¸¸ï¼Œè¦åšä»€ä¹ˆå¤„ç†çš„ä»£ç ã€‚

- å¦‚æœæ˜ç¡®çŸ¥é“äº§ç”Ÿçš„æ˜¯ä½•ç§å¼‚å¸¸ï¼Œå¯ä»¥ç”¨è¯¥å¼‚å¸¸ç±»ä½œä¸ºcatchçš„å‚æ•°ï¼›ä¹Ÿå¯ä»¥ç”¨å…¶çˆ¶ç±»ä½œä¸ºcatchçš„å‚æ•°ã€‚

  æ¯”å¦‚ï¼šå¯ä»¥ç”¨ArithmeticExceptionç±»ä½œä¸ºå‚æ•°çš„åœ°æ–¹ï¼Œå°±å¯ä»¥ç”¨RuntimeExceptionç±»ä½œä¸ºå‚æ•°ï¼Œæˆ–è€…ç”¨æ‰€æœ‰å¼‚å¸¸çš„çˆ¶ç±»Exceptionç±»ä½œä¸ºå‚æ•°ã€‚ä½†ä¸èƒ½æ˜¯ä¸ArithmeticExceptionç±»æ— å…³çš„å¼‚å¸¸ï¼Œå¦‚NullPointerExceptionï¼ˆcatchä¸­çš„è¯­å¥å°†ä¸ä¼šæ‰§è¡Œï¼‰ã€‚

- æ¯ä¸ªtryè¯­å¥å—å¯ä»¥ä¼´éšä¸€ä¸ªæˆ–å¤šä¸ªcatchè¯­å¥ï¼Œç”¨äºå¤„ç†å¯èƒ½äº§ç”Ÿçš„ä¸åŒç±»å‹çš„å¼‚å¸¸å¯¹è±¡ã€‚

- å¦‚æœæœ‰å¤šä¸ªcatchåˆ†æ”¯ï¼Œå¹¶ä¸”å¤šä¸ªå¼‚å¸¸ç±»å‹æœ‰çˆ¶å­ç±»å…³ç³»ï¼Œå¿…é¡»ä¿è¯å°çš„å­å¼‚å¸¸ç±»å‹åœ¨ä¸Šï¼Œå¤§çš„çˆ¶å¼‚å¸¸ç±»å‹åœ¨ä¸‹ã€‚å¦åˆ™ï¼ŒæŠ¥é”™ã€‚

- catchä¸­å¸¸ç”¨å¼‚å¸¸å¤„ç†çš„æ–¹å¼

  - `public String getMessage()`ï¼šè·å–å¼‚å¸¸çš„æè¿°ä¿¡æ¯ï¼Œè¿”å›å­—ç¬¦ä¸²

  - `public void printStackTrace()`ï¼šæ‰“å°å¼‚å¸¸çš„è·Ÿè¸ªæ ˆä¿¡æ¯å¹¶è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚åŒ…å«äº†å¼‚å¸¸çš„ç±»å‹ã€å¼‚å¸¸çš„åŸå› ã€è¿˜åŒ…æ‹¬å¼‚å¸¸å‡ºç°çš„ä½ç½®ï¼Œåœ¨å¼€å‘å’Œè°ƒè¯•é˜¶æ®µï¼Œéƒ½å¾—ä½¿ç”¨printStackTrace()ã€‚

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/46682094a0ef59f90cde03bbd1d47525.png)

#### 5.2.2 ä½¿ç”¨ä¸¾ä¾‹

ä¸¾ä¾‹1ï¼š

```java
public class IndexOutExp {
    public static void main(String[] args) {
        String friends[] = { "lisa", "bily", "kessy" };
        try {
            for (int i = 0; i < 5; i++) {
            System.out.println(friends[i]);
            }
        } catch (ArrayIndexOutOfBoundsException e) {
            System.out.println("index err");
        }
        System.out.println("\nthis is the end");
    }
}

```

ä¸¾ä¾‹2ï¼š

```java
public class DivideZero1 {
    int x;
    public static void main(String[] args) {
        int y;
        DivideZero1 c = new DivideZero1();
        try {
            y = 3 / c.x;
        } catch (ArithmeticException e) {
            System.out.println("divide by zero error!");
        }
        System.out.println("program ends ok!");
    }
}

```

ä¸¾ä¾‹3ï¼š

```java
@Test
public void test1(){
	try{
		String str1 = "atguigu.com";
		str1 = null;
		System.out.println(str1.charAt(0));
	}catch(NullPointerException e){
		//å¼‚å¸¸çš„å¤„ç†æ–¹å¼1
		System.out.println("ä¸å¥½æ„æ€ï¼Œäº²~å‡ºç°äº†å°é—®é¢˜ï¼Œæ­£åœ¨åŠ ç´§è§£å†³...");	
	}catch(ClassCastException e){
		//å¼‚å¸¸çš„å¤„ç†æ–¹å¼2
		System.out.println("å‡ºç°äº†ç±»å‹è½¬æ¢çš„å¼‚å¸¸");
	}catch(RuntimeException e){
		//å¼‚å¸¸çš„å¤„ç†æ–¹å¼3
		System.out.println("å‡ºç°äº†è¿è¡Œæ—¶å¼‚å¸¸");
	}
	//æ­¤å¤„çš„ä»£ç ï¼Œåœ¨å¼‚å¸¸è¢«å¤„ç†äº†ä»¥åï¼Œæ˜¯å¯ä»¥æ­£å¸¸æ‰§è¡Œçš„
	System.out.println("hello");
}
```

#### 5.2.3 finallyä½¿ç”¨åŠä¸¾ä¾‹

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/bd792eee53d89dd5d4aa38496098f9fb.png)


- å› ä¸ºå¼‚å¸¸ä¼šå¼•å‘ç¨‹åºè·³è½¬ï¼Œä»è€Œä¼šå¯¼è‡´æœ‰äº›è¯­å¥æ‰§è¡Œä¸åˆ°ã€‚è€Œç¨‹åºä¸­æœ‰ä¸€äº›ç‰¹å®šçš„ä»£ç æ— è®ºå¼‚å¸¸æ˜¯å¦å‘ç”Ÿï¼Œéƒ½`éœ€è¦æ‰§è¡Œ`ã€‚ä¾‹å¦‚ï¼Œæ•°æ®åº“è¿æ¥ã€è¾“å…¥æµè¾“å‡ºæµã€Socketè¿æ¥ã€Locké”çš„å…³é—­ç­‰ï¼Œè¿™æ ·çš„ä»£ç é€šå¸¸å°±ä¼šæ”¾åˆ°finallyå—ä¸­ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬é€šå¸¸å°†ä¸€å®šè¦è¢«æ‰§è¡Œçš„ä»£ç å£°æ˜åœ¨finallyä¸­ã€‚

  - å”¯ä¸€çš„ä¾‹å¤–ï¼Œä½¿ç”¨ System.exit(0) æ¥ç»ˆæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„ Java è™šæ‹Ÿæœºã€‚

- ä¸è®ºåœ¨tryä»£ç å—ä¸­æ˜¯å¦å‘ç”Ÿäº†å¼‚å¸¸äº‹ä»¶ï¼Œcatchè¯­å¥æ˜¯å¦æ‰§è¡Œï¼Œcatchè¯­å¥æ˜¯å¦æœ‰å¼‚å¸¸ï¼Œcatchè¯­å¥ä¸­æ˜¯å¦æœ‰returnï¼Œfinallyå—ä¸­çš„è¯­å¥éƒ½ä¼šè¢«æ‰§è¡Œã€‚

- finallyè¯­å¥å’Œcatchè¯­å¥æ˜¯å¯é€‰çš„ï¼Œä½†finallyä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚

  ```java
  try{
       
  }finally{
      
  } 
  ```

ä¸¾ä¾‹1ï¼šç¡®ä¿èµ„æºå…³é—­

```java
package com.atguigu.keyword;

import java.util.InputMismatchException;
import java.util.Scanner;

public class TestFinally {
    public static void main(String[] args) {
        Scanner input = new Scanner(System.in);
        try {
            System.out.print("è¯·è¾“å…¥ç¬¬ä¸€ä¸ªæ•´æ•°ï¼š");
            int a = input.nextInt();
            System.out.print("è¯·è¾“å…¥ç¬¬äºŒä¸ªæ•´æ•°ï¼š");
            int b = input.nextInt();
            int result = a/b;
            System.out.println(a + "/" + b +"=" + result);
        } catch (InputMismatchException e) {
            System.out.println("æ•°å­—æ ¼å¼ä¸æ­£ç¡®ï¼Œè¯·è¾“å…¥ä¸¤ä¸ªæ•´æ•°");
        }catch (ArithmeticException e){
            System.out.println("ç¬¬äºŒä¸ªæ•´æ•°ä¸èƒ½ä¸º0");
        } finally {
            System.out.println("ç¨‹åºç»“æŸï¼Œé‡Šæ”¾èµ„æº");
            input.close();
        }
    }
    
    @Test
    public void test1(){
        FileInputStream fis = null;
        try{
            File file = new File("hello1.txt");
            fis = new FileInputStream(file);//FileNotFoundException
            int b = fis.read();//IOException
            while(b != -1){
                System.out.print((char)b);
                b = fis.read();//IOException
            }

        }catch(IOException e){
            e.printStackTrace();
        }finally{
            try {
                if(fis != null)
                    fis.close();//IOException
            } catch (IOException e) {
                e.printStackTrace();
            }	
        }
    }
}
```

ä¸¾ä¾‹2ï¼šä»tryå›æ¥

```java
public class FinallyTest1 {
    public static void main(String[] args) {
        int result = test("12");
        System.out.println(result);
    }

    public static int test(String str){
        try{
            Integer.parseInt(str);
            return 1;
        }catch(NumberFormatException e){
            return -1;
        }finally{
            System.out.println("testç»“æŸ");
        }
    }
}
```

ä¸¾ä¾‹3ï¼šä»catchå›æ¥

```java
public class FinallyTest2 {
    public static void main(String[] args) {
        int result = test("a");
        System.out.println(result);
    }

    public static int test(String str) {
        try {
            Integer.parseInt(str);
            return 1;
        } catch (NumberFormatException e) {
            return -1;
        } finally {
            System.out.println("testç»“æŸ");
        }
    }
}
```

ä¸¾ä¾‹4ï¼šä»finallyå›æ¥

```java
public class FinallyTest3 {
    public static void main(String[] args) {
        int result = test("a");
        System.out.println(result);
    }

    public static int test(String str) {
        try {
            Integer.parseInt(str);
            return 1;
        } catch (NumberFormatException e) {
            return -1;
        } finally {
            System.out.println("testç»“æŸ");
            return 0;
        }
    }
}
```

ç¬”è¯•é¢˜ï¼š

```java
public class ExceptionTest {
    public static void main(String[] args) {
        int result = test();
        System.out.println(result); //100
    }

    public static int test(){
        int i = 100;
        try {
            return i;
        } finally {
            i++;
        }
    }
}
```

> ç¬”è¯•é¢˜ï¼šfinalã€finallyã€finalizeæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
>

#### 5.2.4 ç»ƒä¹ 

ç¼–å†™ä¸€ä¸ªç±»ExceptionTestï¼Œåœ¨mainæ–¹æ³•ä¸­ä½¿ç”¨tryã€catchã€finallyï¼Œè¦æ±‚ï¼š

- åœ¨tryå—ä¸­ï¼Œç¼–å†™è¢«é›¶é™¤çš„ä»£ç ã€‚

- åœ¨catchå—ä¸­ï¼Œæ•è·è¢«é›¶é™¤æ‰€äº§ç”Ÿçš„å¼‚å¸¸ï¼Œå¹¶ä¸”æ‰“å°å¼‚å¸¸ä¿¡æ¯

- åœ¨finallyå—ä¸­ï¼Œæ‰“å°ä¸€æ¡è¯­å¥ã€‚

#### 5.2.5 å¼‚å¸¸å¤„ç†çš„ä½“ä¼š

- å‰é¢ä½¿ç”¨çš„å¼‚å¸¸éƒ½æ˜¯`RuntimeExceptionç±»`æˆ–æ˜¯å®ƒçš„`å­ç±»`ï¼Œè¿™äº›ç±»çš„å¼‚å¸¸çš„ç‰¹ç‚¹æ˜¯ï¼šå³ä½¿æ²¡æœ‰ä½¿ç”¨tryå’Œcatchæ•è·ï¼ŒJavaè‡ªå·±ä¹Ÿèƒ½æ•è·ï¼Œå¹¶ä¸”ç¼–è¯‘é€šè¿‡ ( ä½†è¿è¡Œæ—¶ä¼šå‘ç”Ÿå¼‚å¸¸ä½¿å¾—ç¨‹åºè¿è¡Œç»ˆæ­¢ )ã€‚æ‰€ä»¥ï¼Œå¯¹äºè¿™ç±»å¼‚å¸¸ï¼Œå¯ä»¥ä¸ä½œå¤„ç†ï¼Œå› ä¸ºè¿™ç±»å¼‚å¸¸å¾ˆæ™®éï¼Œè‹¥å…¨å¤„ç†å¯èƒ½ä¼šå¯¹ç¨‹åºçš„å¯è¯»æ€§å’Œè¿è¡Œæ•ˆç‡äº§ç”Ÿå½±å“ã€‚

- å¦‚æœæŠ›å‡ºçš„å¼‚å¸¸æ˜¯IOExceptionç­‰ç±»å‹çš„`éè¿è¡Œæ—¶å¼‚å¸¸`ï¼Œåˆ™å¿…é¡»æ•è·ï¼Œå¦åˆ™`ç¼–è¯‘é”™è¯¯`ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¿…é¡»å¤„ç†ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œå°†å¼‚å¸¸è¿›è¡Œæ•æ‰ï¼Œè½¬åŒ–ä¸ºè¿è¡Œæ—¶å¼‚å¸¸ã€‚

### 5.3 æ–¹å¼2ï¼šå£°æ˜æŠ›å‡ºå¼‚å¸¸ç±»å‹ï¼ˆthrowsï¼‰

- å¦‚æœåœ¨ç¼–å†™æ–¹æ³•ä½“çš„ä»£ç æ—¶ï¼ŒæŸå¥ä»£ç å¯èƒ½å‘ç”ŸæŸä¸ª`ç¼–è¯‘æ—¶å¼‚å¸¸`ï¼Œä¸å¤„ç†ç¼–è¯‘ä¸é€šè¿‡ï¼Œä½†æ˜¯åœ¨å½“å‰æ–¹æ³•ä½“ä¸­å¯èƒ½`ä¸é€‚åˆå¤„ç†`æˆ–`æ— æ³•ç»™å‡ºåˆç†çš„å¤„ç†æ–¹å¼`ï¼Œåˆ™æ­¤æ–¹æ³•åº”`æ˜¾ç¤ºåœ°`å£°æ˜æŠ›å‡ºå¼‚å¸¸ï¼Œè¡¨æ˜è¯¥æ–¹æ³•å°†ä¸å¯¹è¿™äº›å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œè€Œç”±è¯¥æ–¹æ³•çš„è°ƒç”¨è€…è´Ÿè´£å¤„ç†ã€‚

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/45e08b4f2cfa56103ecb158d91952b50.png)


- å…·ä½“æ–¹å¼ï¼šåœ¨æ–¹æ³•å£°æ˜ä¸­ç”¨`throwsè¯­å¥`å¯ä»¥å£°æ˜æŠ›å‡ºå¼‚å¸¸çš„åˆ—è¡¨ï¼Œthrowsåé¢çš„å¼‚å¸¸ç±»å‹å¯ä»¥æ˜¯æ–¹æ³•ä¸­äº§ç”Ÿçš„å¼‚å¸¸ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å®ƒçš„çˆ¶ç±»ã€‚

#### 5.3.1 throwsåŸºæœ¬æ ¼å¼

**å£°æ˜å¼‚å¸¸æ ¼å¼ï¼š**

~~~
ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°) throws å¼‚å¸¸ç±»å1,å¼‚å¸¸ç±»å2â€¦{   }	
~~~

åœ¨throwsåé¢å¯ä»¥å†™å¤šä¸ªå¼‚å¸¸ç±»å‹ï¼Œç”¨é€—å·éš”å¼€ã€‚

ä¸¾ä¾‹ï¼š

```java
public void readFile(String file)  throws FileNotFoundException,IOException {
	...
	// è¯»æ–‡ä»¶çš„æ“ä½œå¯èƒ½äº§ç”ŸFileNotFoundExceptionæˆ–IOExceptionç±»å‹çš„å¼‚å¸¸
	FileInputStream fis = new FileInputStream(file);
    //...
}

```

#### 5.3.2 throws ä½¿ç”¨ä¸¾ä¾‹

**ä¸¾ä¾‹ï¼šé’ˆå¯¹äºç¼–è¯‘æ—¶å¼‚å¸¸**

```java
package com.atguigu.keyword;

public class TestThrowsCheckedException {
    public static void main(String[] args) {
        System.out.println("ä¸Šè¯¾.....");
        try {
            afterClass();//æ¢åˆ°è¿™é‡Œå¤„ç†å¼‚å¸¸
        } catch (InterruptedException e) {
            e.printStackTrace();
            System.out.println("å‡†å¤‡æå‰ä¸Šè¯¾");
        }
        System.out.println("ä¸Šè¯¾.....");
    }

    public static void afterClass() throws InterruptedException {
        for(int i=10; i>=1; i--){
            Thread.sleep(1000);//æœ¬æ¥åº”è¯¥åœ¨è¿™é‡Œå¤„ç†å¼‚å¸¸
            System.out.println("è·ç¦»ä¸Šè¯¾è¿˜æœ‰ï¼š" + i + "åˆ†é’Ÿ");
        }
    }
}

```

**ä¸¾ä¾‹ï¼šé’ˆå¯¹äºè¿è¡Œæ—¶å¼‚å¸¸ï¼š**

throwsåé¢ä¹Ÿå¯ä»¥å†™è¿è¡Œæ—¶å¼‚å¸¸ç±»å‹ï¼Œåªæ˜¯è¿è¡Œæ—¶å¼‚å¸¸ç±»å‹ï¼Œå†™æˆ–ä¸å†™å¯¹äºç¼–è¯‘å™¨å’Œç¨‹åºæ‰§è¡Œæ¥è¯´éƒ½æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚å¦‚æœå†™äº†ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯è°ƒç”¨è€…è°ƒç”¨è¯¥æ–¹æ³•åï¼Œä½¿ç”¨try...catchç»“æ„æ—¶ï¼ŒIDEAå¯ä»¥è·å¾—æ›´å¤šçš„ä¿¡æ¯ï¼Œéœ€è¦æ·»åŠ å“ªç§catchåˆ†æ”¯ã€‚

~~~java
package com.atguigu.keyword;

import java.util.InputMismatchException;
import java.util.Scanner;

public class TestThrowsRuntimeException {
    public static void main(String[] args) {
        Scanner input = new Scanner(System.in);
        try {
            System.out.print("è¯·è¾“å…¥ç¬¬ä¸€ä¸ªæ•´æ•°ï¼š");
            int a = input.nextInt();
            System.out.print("è¯·è¾“å…¥ç¬¬äºŒä¸ªæ•´æ•°ï¼š");
            int b = input.nextInt();
            int result = divide(a,b);
            System.out.println(a + "/" + b +"=" + result);
        } catch (ArithmeticException | InputMismatchException e) {
            e.printStackTrace();
        } finally {
            input.close();
        }
    }

    public static int divide(int a, int b)throws ArithmeticException{
        return a/b;
    }
}

~~~

#### 5.3.3 æ–¹æ³•é‡å†™ä¸­throwsçš„è¦æ±‚

æ–¹æ³•é‡å†™æ—¶ï¼Œå¯¹äºæ–¹æ³•ç­¾åæ˜¯æœ‰ä¸¥æ ¼è¦æ±‚çš„ã€‚å¤ä¹ ï¼š

```
ï¼ˆ1ï¼‰æ–¹æ³•åå¿…é¡»ç›¸åŒ
ï¼ˆ2ï¼‰å½¢å‚åˆ—è¡¨å¿…é¡»ç›¸åŒ
ï¼ˆ3ï¼‰è¿”å›å€¼ç±»å‹
	- åŸºæœ¬æ•°æ®ç±»å‹å’Œvoidï¼šå¿…é¡»ç›¸åŒ
	- å¼•ç”¨æ•°æ®ç±»å‹ï¼š<=
ï¼ˆ4ï¼‰æƒé™ä¿®é¥°ç¬¦ï¼š>=ï¼Œè€Œä¸”è¦æ±‚çˆ¶ç±»è¢«é‡å†™æ–¹æ³•åœ¨å­ç±»ä¸­æ˜¯å¯è§çš„
ï¼ˆ5ï¼‰ä¸èƒ½æ˜¯staticï¼Œfinalä¿®é¥°çš„æ–¹æ³•
```

æ­¤å¤–ï¼Œå¯¹äºthrowså¼‚å¸¸åˆ—è¡¨è¦æ±‚ï¼š

- å¦‚æœçˆ¶ç±»è¢«é‡å†™æ–¹æ³•çš„æ–¹æ³•ç­¾ååé¢æ²¡æœ‰ â€œthrows  ç¼–è¯‘æ—¶å¼‚å¸¸ç±»å‹â€ï¼Œé‚£ä¹ˆé‡å†™æ–¹æ³•æ—¶ï¼Œæ–¹æ³•ç­¾ååé¢ä¹Ÿä¸èƒ½å‡ºç°â€œthrows  ç¼–è¯‘æ—¶å¼‚å¸¸ç±»å‹â€ã€‚
- å¦‚æœçˆ¶ç±»è¢«é‡å†™æ–¹æ³•çš„æ–¹æ³•ç­¾ååé¢æœ‰ â€œ`throws  ç¼–è¯‘æ—¶å¼‚å¸¸ç±»å‹`â€ï¼Œé‚£ä¹ˆé‡å†™æ–¹æ³•æ—¶ï¼Œthrowsçš„ç¼–è¯‘æ—¶å¼‚å¸¸ç±»å‹å¿…é¡» <= è¢«é‡å†™æ–¹æ³•throwsçš„ç¼–è¯‘æ—¶å¼‚å¸¸ç±»å‹ï¼Œæˆ–è€…ä¸throwsç¼–è¯‘æ—¶å¼‚å¸¸ã€‚
- æ–¹æ³•é‡å†™ï¼Œå¯¹äºâ€œ`throws è¿è¡Œæ—¶å¼‚å¸¸ç±»å‹`â€æ²¡æœ‰è¦æ±‚ã€‚

```java
package com.atguigu.keyword;

import java.io.IOException;

class Father{
    public void method()throws Exception{
        System.out.println("Father.method");
    }
}
class Son extends Father{
    @Override
    public void method() throws IOException,ClassCastException {
        System.out.println("Son.method");
    }
}
```

### 5.4 ä¸¤ç§å¼‚å¸¸å¤„ç†æ–¹å¼çš„é€‰æ‹©

å‰æï¼šå¯¹äºå¼‚å¸¸ï¼Œä½¿ç”¨ç›¸åº”çš„å¤„ç†æ–¹å¼ã€‚æ­¤æ—¶çš„å¼‚å¸¸ï¼Œä¸»è¦æŒ‡çš„æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ã€‚

- å¦‚æœç¨‹åºä»£ç ä¸­ï¼Œæ¶‰åŠåˆ°èµ„æºçš„è°ƒç”¨ï¼ˆæµã€æ•°æ®åº“è¿æ¥ã€ç½‘ç»œè¿æ¥ç­‰ï¼‰ï¼Œåˆ™å¿…é¡»è€ƒè™‘ä½¿ç”¨try-catch-finallyæ¥å¤„ç†ï¼Œä¿è¯ä¸å‡ºç°å†…å­˜æ³„æ¼ã€‚
- å¦‚æœçˆ¶ç±»è¢«é‡å†™çš„æ–¹æ³•æ²¡æœ‰throwså¼‚å¸¸ç±»å‹ï¼Œåˆ™å­ç±»é‡å†™çš„æ–¹æ³•ä¸­å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œåªèƒ½è€ƒè™‘ä½¿ç”¨try-catch-finallyè¿›è¡Œå¤„ç†ï¼Œä¸èƒ½throwsã€‚
- å¼€å‘ä¸­ï¼Œæ–¹æ³•aä¸­ä¾æ¬¡è°ƒç”¨äº†æ–¹æ³•b,c,dç­‰æ–¹æ³•ï¼Œæ–¹æ³•b,c,dä¹‹é—´æ˜¯é€’è¿›å…³ç³»ã€‚æ­¤æ—¶ï¼Œå¦‚æœæ–¹æ³•b,c,dä¸­æœ‰å¼‚å¸¸ï¼Œæˆ‘ä»¬é€šå¸¸é€‰æ‹©ä½¿ç”¨throwsï¼Œè€Œæ–¹æ³•aä¸­é€šå¸¸é€‰æ‹©ä½¿ç”¨try-catch-finallyã€‚

## 6 æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸å¯¹è±¡ï¼šthrow

Java ä¸­å¼‚å¸¸å¯¹è±¡çš„ç”Ÿæˆæœ‰ä¸¤ç§æ–¹å¼ï¼š

- ç”±è™šæ‹Ÿæœº**è‡ªåŠ¨ç”Ÿæˆ**ï¼šç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè™šæ‹Ÿæœºæ£€æµ‹åˆ°ç¨‹åºå‘ç”Ÿäº†é—®é¢˜ï¼Œé‚£ä¹ˆé’ˆå¯¹å½“å‰ä»£ç ï¼Œå°±ä¼šåœ¨åå°è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå¯¹åº”å¼‚å¸¸ç±»çš„å®ä¾‹å¯¹è±¡å¹¶æŠ›å‡ºã€‚

- ç”±å¼€å‘äººå‘˜**æ‰‹åŠ¨åˆ›å»º**ï¼š`new å¼‚å¸¸ç±»å‹([å®å‚åˆ—è¡¨]);`ï¼Œå¦‚æœåˆ›å»ºå¥½çš„å¼‚å¸¸å¯¹è±¡ä¸æŠ›å‡ºå¯¹ç¨‹åºæ²¡æœ‰ä»»ä½•å½±å“ï¼Œå’Œåˆ›å»ºä¸€ä¸ªæ™®é€šå¯¹è±¡ä¸€æ ·ï¼Œä½†æ˜¯ä¸€æ—¦throwæŠ›å‡ºï¼Œå°±ä¼šå¯¹ç¨‹åºè¿è¡Œäº§ç”Ÿå½±å“äº†ã€‚

### 6.1 ä½¿ç”¨æ ¼å¼

~~~java
throw new å¼‚å¸¸ç±»å(å‚æ•°);
~~~

throwè¯­å¥æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡ï¼Œå’ŒJVMè‡ªåŠ¨åˆ›å»ºå’ŒæŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡ä¸€æ ·ã€‚

- å¦‚æœæ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ç±»å‹çš„å¯¹è±¡ï¼ŒåŒæ ·éœ€è¦ä½¿ç”¨throwsæˆ–è€…try...catchå¤„ç†ï¼Œå¦åˆ™ç¼–è¯‘ä¸é€šè¿‡ã€‚

- å¦‚æœæ˜¯è¿è¡Œæ—¶å¼‚å¸¸ç±»å‹çš„å¯¹è±¡ï¼Œç¼–è¯‘å™¨ä¸æç¤ºã€‚

- å¯ä»¥æŠ›å‡ºçš„å¼‚å¸¸å¿…é¡»æ˜¯Throwableæˆ–å…¶å­ç±»çš„å®ä¾‹ã€‚ä¸‹é¢çš„è¯­å¥åœ¨ç¼–è¯‘æ—¶å°†ä¼šäº§ç”Ÿè¯­æ³•é”™è¯¯ï¼š

  ```java
  throw new String("want to throw");
  ```

### 6.2 ä½¿ç”¨æ³¨æ„ç‚¹ï¼š

æ— è®ºæ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ç±»å‹çš„å¯¹è±¡ï¼Œè¿˜æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ç±»å‹çš„å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰è¢«try..catchåˆç†çš„å¤„ç†ï¼Œéƒ½ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚

throwè¯­å¥ä¼šå¯¼è‡´ç¨‹åºæ‰§è¡Œæµç¨‹è¢«æ”¹å˜ï¼Œthrowè¯­å¥æ˜¯æ˜ç¡®æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œå› æ­¤å®ƒ`ä¸‹é¢çš„ä»£ç å°†ä¸ä¼šæ‰§è¡Œ`ã€‚

å¦‚æœå½“å‰æ–¹æ³•æ²¡æœ‰try...catchå¤„ç†è¿™ä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œthrowè¯­å¥å°±ä¼š`ä»£æ›¿returnè¯­å¥`æå‰ç»ˆæ­¢å½“å‰æ–¹æ³•çš„æ‰§è¡Œï¼Œå¹¶è¿”å›ä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ç»™è°ƒç”¨è€…ã€‚

~~~java
package com.atguigu.keyword;

public class TestThrow {
    public static void main(String[] args) {
        try {
            System.out.println(max(4,2,31,1));
        } catch (Exception e) {
            e.printStackTrace();
        }
        try {
            System.out.println(max(4));
        } catch (Exception e) {
            e.printStackTrace();
        }
        try {
            System.out.println(max());
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public static int max(int... nums){
        if(nums == null || nums.length==0){
            throw new IllegalArgumentException("æ²¡æœ‰ä¼ å…¥ä»»ä½•æ•´æ•°ï¼Œæ— æ³•è·å–æœ€å¤§å€¼");
        }
        int max = nums[0];
        for (int i = 1; i < nums.length; i++) {
            if(nums[i] > max){
                max = nums[i];
            }
        }
        return max;
    }
}

~~~

## 7 è‡ªå®šä¹‰å¼‚å¸¸

### 7.1 ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰å¼‚å¸¸ç±»

Javaä¸­ä¸åŒçš„å¼‚å¸¸ç±»ï¼Œåˆ†åˆ«è¡¨ç¤ºç€æŸä¸€ç§å…·ä½“çš„å¼‚å¸¸æƒ…å†µã€‚é‚£ä¹ˆåœ¨å¼€å‘ä¸­æ€»æ˜¯æœ‰äº›å¼‚å¸¸æƒ…å†µæ˜¯æ ¸å¿ƒç±»åº“ä¸­æ²¡æœ‰å®šä¹‰å¥½çš„ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦æ ¹æ®è‡ªå·±ä¸šåŠ¡çš„å¼‚å¸¸æƒ…å†µæ¥å®šä¹‰å¼‚å¸¸ç±»ã€‚ä¾‹å¦‚å¹´é¾„è´Ÿæ•°é—®é¢˜ï¼Œè€ƒè¯•æˆç»©è´Ÿæ•°é—®é¢˜ï¼ŒæŸå‘˜å·¥å·²åœ¨å›¢é˜Ÿä¸­ç­‰ã€‚

### 7.2 å¦‚ä½•è‡ªå®šä¹‰å¼‚å¸¸ç±»

ï¼ˆ1ï¼‰è¦ç»§æ‰¿ä¸€ä¸ªå¼‚å¸¸ç±»å‹

â€‹			è‡ªå®šä¹‰ä¸€ä¸ªç¼–è¯‘æ—¶å¼‚å¸¸ç±»å‹ï¼šè‡ªå®šä¹‰ç±»ç»§æ‰¿`java.lang.Exception`ã€‚

â€‹			è‡ªå®šä¹‰ä¸€ä¸ªè¿è¡Œæ—¶å¼‚å¸¸ç±»å‹ï¼šè‡ªå®šä¹‰ç±»ç»§æ‰¿`java.lang.RuntimeException`ã€‚

ï¼ˆ2ï¼‰å»ºè®®å¤§å®¶æä¾›è‡³å°‘ä¸¤ä¸ªæ„é€ å™¨ï¼Œä¸€ä¸ªæ˜¯æ— å‚æ„é€ ï¼Œä¸€ä¸ªæ˜¯(String message)æ„é€ å™¨ã€‚

ï¼ˆ3ï¼‰è‡ªå®šä¹‰å¼‚å¸¸éœ€è¦æä¾›`serialVersionUID`

### 7.3 æ³¨æ„ç‚¹

1. è‡ªå®šä¹‰çš„å¼‚å¸¸åªèƒ½é€šè¿‡throwæŠ›å‡ºã€‚
2. è‡ªå®šä¹‰å¼‚å¸¸æœ€é‡è¦çš„æ˜¯å¼‚å¸¸ç±»çš„åå­—å’Œmessageå±æ€§ã€‚å½“å¼‚å¸¸å‡ºç°æ—¶ï¼Œå¯ä»¥æ ¹æ®åå­—åˆ¤æ–­å¼‚å¸¸ç±»å‹ã€‚æ¯”å¦‚ï¼š`TeamException("æˆå‘˜å·²æ»¡ï¼Œæ— æ³•æ·»åŠ "); `ã€ `TeamException("è¯¥å‘˜å·¥å·²æ˜¯æŸå›¢é˜Ÿæˆå‘˜");`

3. è‡ªå®šä¹‰å¼‚å¸¸å¯¹è±¡åªèƒ½æ‰‹åŠ¨æŠ›å‡ºã€‚æŠ›å‡ºåç”±try..catchå¤„ç†ï¼Œä¹Ÿå¯ä»¥ç”©é”…throwsç»™è°ƒç”¨è€…å¤„ç†ã€‚

### 7.4 ä¸¾ä¾‹

ä¸¾ä¾‹1ï¼š

```java
class MyException extends Exception {
    static final long serialVersionUID = 23423423435L;
    private int idnumber;

    public MyException(String message, int id) {
        super(message);
        this.idnumber = id;
    }

    public int getId() {
        return idnumber;
    }
}

```

```java
public class MyExpTest {
    public void regist(int num) throws MyException {
        if (num < 0)
            throw new MyException("äººæ•°ä¸ºè´Ÿå€¼ï¼Œä¸åˆç†", 3);
        else
            System.out.println("ç™»è®°äººæ•°" + num);
    }
    public void manager() {
        try {
            regist(100);
        } catch (MyException e) {
            System.out.print("ç™»è®°å¤±è´¥ï¼Œå‡ºé”™ç§ç±»" + e.getId());
        }
        System.out.print("æœ¬æ¬¡ç™»è®°æ“ä½œç»“æŸ");
    }
    public static void main(String args[]) {
        MyExpTest t = new MyExpTest();
        t.manager();
    }
}

```

ä¸¾ä¾‹2ï¼š

~~~java
package com.atguigu.define;
//è‡ªå®šä¹‰å¼‚å¸¸ï¼š
public class NotTriangleException extends Exception{
    static final long serialVersionUID = 13465653435L;

    public NotTriangleException() {
    }

    public NotTriangleException(String message) {
        super(message);
    }
}

~~~

```java
package com.atguigu.define;

public class Triangle {
    private double a;
    private double b;
    private double c;

    public Triangle(double a, double b, double c) throws NotTriangleException {
        if(a<=0 || b<=0 || c<=0){
            throw new NotTriangleException("ä¸‰è§’å½¢çš„è¾¹é•¿å¿…é¡»æ˜¯æ­£æ•°");
        }
        if(a+b<=c || b+c<=a || a+c<=b){
            throw new NotTriangleException(a+"," + b +"," + c +"ä¸èƒ½æ„é€ ä¸‰è§’å½¢ï¼Œä¸‰è§’å½¢ä»»æ„ä¸¤è¾¹ä¹‹åå¿…é¡»å¤§äºç¬¬ä¸‰è¾¹");
        }
        this.a = a;
        this.b = b;
        this.c = c;
    }

    public double getA() {
        return a;
    }

    public void setA(double a) throws NotTriangleException{
        if(a<=0){
            throw new NotTriangleException("ä¸‰è§’å½¢çš„è¾¹é•¿å¿…é¡»æ˜¯æ­£æ•°");
        }
        if(a+b<=c || b+c<=a || a+c<=b){
            throw new NotTriangleException(a+"," + b +"," + c +"ä¸èƒ½æ„é€ ä¸‰è§’å½¢ï¼Œä¸‰è§’å½¢ä»»æ„ä¸¤è¾¹ä¹‹åå¿…é¡»å¤§äºç¬¬ä¸‰è¾¹");
        }
        this.a = a;
    }

    public double getB() {
        return b;
    }

    public void setB(double b) throws NotTriangleException {
        if(b<=0){
            throw new NotTriangleException("ä¸‰è§’å½¢çš„è¾¹é•¿å¿…é¡»æ˜¯æ­£æ•°");
        }
        if(a+b<=c || b+c<=a || a+c<=b){
            throw new NotTriangleException(a+"," + b +"," + c +"ä¸èƒ½æ„é€ ä¸‰è§’å½¢ï¼Œä¸‰è§’å½¢ä»»æ„ä¸¤è¾¹ä¹‹åå¿…é¡»å¤§äºç¬¬ä¸‰è¾¹");
        }
        this.b = b;
    }

    public double getC() {
        return c;
    }

    public void setC(double c) throws NotTriangleException {
        if(c<=0){
            throw new NotTriangleException("ä¸‰è§’å½¢çš„è¾¹é•¿å¿…é¡»æ˜¯æ­£æ•°");
        }
        if(a+b<=c || b+c<=a || a+c<=b){
            throw new NotTriangleException(a+"," + b +"," + c +"ä¸èƒ½æ„é€ ä¸‰è§’å½¢ï¼Œä¸‰è§’å½¢ä»»æ„ä¸¤è¾¹ä¹‹åå¿…é¡»å¤§äºç¬¬ä¸‰è¾¹");
        }
        this.c = c;
    }

    @Override
    public String toString() {
        return "Triangle{" +
                "a=" + a +
                ", b=" + b +
                ", c=" + c +
                '}';
    }
}
```

```java
package com.atguigu.define;

public class TestTriangle {
    public static void main(String[] args) {
        Triangle t = null;
        try {
            t = new Triangle(2,2,3);
            System.out.println("ä¸‰è§’å½¢åˆ›å»ºæˆåŠŸï¼š");
            System.out.println(t);
        } catch (NotTriangleException e) {
            System.err.println("ä¸‰è§’å½¢åˆ›å»ºå¤±è´¥");
            e.printStackTrace();
        }

        try {
            if(t != null) {
                t.setA(1);
            }
            System.out.println("ä¸‰è§’å½¢è¾¹é•¿ä¿®æ”¹æˆåŠŸ");
        } catch (NotTriangleException e) {
            System.out.println("ä¸‰è§’å½¢è¾¹é•¿ä¿®æ”¹å¤±è´¥");
            e.printStackTrace();
        }
    }
}
```

## 8 ç»ƒä¹ 

**ç»ƒä¹ 1ï¼š**

```java
public class ReturnExceptionDemo {
    static void methodA() {
        try {
            System.out.println("è¿›å…¥æ–¹æ³•A");
            throw new RuntimeException("åˆ¶é€ å¼‚å¸¸");
        }finally {
            System.out.println("ç”¨Aæ–¹æ³•çš„finally");
        }
    }

    static void methodB() {
        try {
            System.out.println("è¿›å…¥æ–¹æ³•B");
            return;
        } finally {
            System.out.println("è°ƒç”¨Bæ–¹æ³•çš„finally");
        }
    }
	public static void main(String[] args) {
    	try {
    	    methodA();
   		} catch (Exception e) {
    	  	System.out.println(e.getMessage());
    	}
    	methodB();
  	}
}

```

**ç»ƒä¹ 2ï¼š**

ä»é”®ç›˜æ¥æ”¶å­¦ç”Ÿæˆç»©ï¼Œæˆç»©å¿…é¡»åœ¨0~100ä¹‹é—´ã€‚

è‡ªå®šä¹‰æˆç»©æ— æ•ˆå¼‚å¸¸ã€‚

ç¼–å†™æ–¹æ³•æ¥æ”¶æˆç»©å¹¶è¿”å›è¯¥æˆç»©ï¼Œå¦‚æœè¾“å…¥æ— æ•ˆï¼Œåˆ™æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸ã€‚

**ç»ƒä¹ 3ï¼š**

ç¼–å†™åº”ç”¨ç¨‹åºEcmDef.javaï¼Œæ¥æ”¶å‘½ä»¤è¡Œçš„ä¸¤ä¸ªå‚æ•°ï¼Œè¦æ±‚ä¸èƒ½è¾“å…¥è´Ÿæ•°ï¼Œè®¡ç®—ä¸¤æ•°ç›¸é™¤ã€‚
å¯¹æ•°æ®ç±»å‹ä¸ä¸€è‡´(NumberFormatException)ã€ç¼ºå°‘å‘½ä»¤è¡Œå‚æ•°(ArrayIndexOutOfBoundsExceptionã€
é™¤0(ArithmeticException)åŠè¾“å…¥è´Ÿæ•°(EcDef è‡ªå®šä¹‰çš„å¼‚å¸¸)è¿›è¡Œå¼‚å¸¸å¤„ç†ã€‚

æç¤ºï¼š 
(1)åœ¨ä¸»ç±»(EcmDef)ä¸­å®šä¹‰å¼‚å¸¸æ–¹æ³•(ecm)å®Œæˆä¸¤æ•°ç›¸é™¤åŠŸèƒ½ã€‚

(2)åœ¨main()æ–¹æ³•ä¸­ä½¿ç”¨å¼‚å¸¸å¤„ç†è¯­å¥è¿›è¡Œå¼‚å¸¸å¤„ç†ã€‚

(3)åœ¨ç¨‹åºä¸­ï¼Œè‡ªå®šä¹‰å¯¹åº”è¾“å…¥è´Ÿæ•°çš„å¼‚å¸¸ç±»(EcDef)ã€‚

(4)è¿è¡Œæ—¶æ¥å—å‚æ•° java EcmDef 20 10   //args[0]=â€œ20â€ args[1]=â€œ10â€

(5)Intergerç±»çš„staticæ–¹æ³•parseInt(String s)å°†sè½¬æ¢æˆå¯¹åº”çš„intå€¼ã€‚
     å¦‚ï¼šint a=Interger.parseInt(â€œ314â€);	//a=314;

## 9 å°ç»“ä¸å°æ‚Ÿ

### 9.1 å°ç»“ï¼šå¼‚å¸¸å¤„ç†5ä¸ªå…³é”®å­—

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/64572b8fb559fd9406a41c2594aa17db.png)


> ç±»æ¯”ï¼šä¸Šæ¸¸æ’æ±¡ï¼Œä¸‹æ¸¸æ²»æ±¡
>

### 9.2 æ„Ÿæ‚Ÿ

**å°å“²ç†ï¼š**

ä¸–ç•Œä¸Šæœ€é¥è¿œçš„`è·ç¦»`ï¼Œæ˜¯æˆ‘åœ¨`if`é‡Œä½ åœ¨`else`é‡Œï¼Œä¼¼ä¹ä¸€ç›´ç›¸ä¼´åˆæ°¸è¿œåˆ†ç¦»ï¼›

ä¸–ç•Œä¸Šæœ€ç—´å¿ƒçš„`ç­‰å¾…`ï¼Œæ˜¯æˆ‘å½“`case`ä½ æ˜¯`switch`ï¼Œæˆ–è®¸æ°¸è¿œéƒ½é€‰ä¸ä¸Šè‡ªå·±ï¼›

ä¸–ç•Œä¸Šæœ€çœŸæƒ…çš„`ç›¸ä¾`ï¼Œæ˜¯ä½ åœ¨`try`æˆ‘åœ¨`catch`ã€‚æ— è®ºä½ å‘ç¥é©¬è„¾æ°”ï¼Œæˆ‘éƒ½é»˜é»˜æ‰¿å—ï¼Œé™é™å¤„ç†ã€‚åˆ°é‚£æ—¶ï¼Œå†æ¥æœŸå¾…æˆ‘ä»¬çš„`finally`ã€‚

**æ­Œè¯ï¼š**

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/e8a163ec3a8c7f3eecce7ab15e50c015.png)
