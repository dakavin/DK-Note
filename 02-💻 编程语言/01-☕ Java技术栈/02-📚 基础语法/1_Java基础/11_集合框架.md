---
æ–‡ç« æ ‡é¢˜: "[[11_é›†åˆæ¡†æ¶]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  æ–‡ç« å…¨é¢æ¦‚è¿°Javaé›†åˆæ¡†æ¶ï¼Œè®²è§£Collectionã€Listã€Setã€Mapæ¥å£åŠä¸»è¦å®ç°ç±»ã€‚è¯¦è¿°å…¶ç‰¹æ€§ã€æ–¹æ³•ã€è¿­ä»£ä¸æ’åºï¼Œå¹¶æä¾›ä»£ç ç¤ºä¾‹ï¼Œç³»ç»Ÿè®²è§£Javaæ•°æ®å­˜å‚¨ã€‚
æ–‡ç« æ ‡ç­¾:
- "Java"
- "é›†åˆæ¡†æ¶"
- "Collection"
- "List"
- "Set"
- "Map"
- "è¿­ä»£å™¨"
- "æ’åº"
ç›¸å…³æ–‡ç« :
- "[[12_æ³›å‹]]"
- "[[1_Javaå‡½æ•°]]"
- "[[1_JavaåŸºæœ¬æ•°æ®ç±»å‹]]"
- "[[1_Javaé¢å‘å¯¹è±¡]]"
- "[[1_Javaæ¡ä»¶åˆ¤æ–­]]"
æ–‡ç« åˆ†ç±»: "ğŸ’» ç¼–ç¨‹è¯­è¨€"
æ–‡ç« è·¯å¾„: "02-ğŸ’» ç¼–ç¨‹è¯­è¨€/01-â˜• JavaæŠ€æœ¯æ ˆ/02-ğŸ“š åŸºç¡€è¯­æ³•/1_JavaåŸºç¡€/11_é›†åˆæ¡†æ¶.md"
æ–‡ç« éš¾åº¦: ä¸­çº§ ğŸŒ³
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­â­ ç²¾é€šå¿…å¤‡
åˆ›å»ºæ—¶é—´: 2024-08-11 18:15:12
ä¿®æ”¹æ—¶é—´: 2025-05-26 07:14:56
---

## 1 æœ¬ç« ä¸“é¢˜ä¸è„‰ç»œ

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/83fb289e04f4c9af6687ffa688f6f416.png)

## 2 é›†åˆæ¡†æ¶æ¦‚è¿°

### 2.1 ç”Ÿæ´»ä¸­çš„å®¹å™¨

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/c087dd6b63f2bce6d59afbdd0625494c.png)

### 2.2 æ•°ç»„çš„ç‰¹ç‚¹ä¸å¼Šç«¯

- ä¸€æ–¹é¢ï¼Œé¢å‘å¯¹è±¡è¯­è¨€å¯¹äº‹ç‰©çš„ä½“ç°éƒ½æ˜¯ä»¥å¯¹è±¡çš„å½¢å¼ï¼Œä¸ºäº†æ–¹ä¾¿å¯¹å¤šä¸ªå¯¹è±¡çš„æ“ä½œï¼Œå°±è¦å¯¹å¯¹è±¡è¿›è¡Œå­˜å‚¨ã€‚
- å¦ä¸€æ–¹é¢ï¼Œä½¿ç”¨æ•°ç»„å­˜å‚¨å¯¹è±¡æ–¹é¢å…·æœ‰`ä¸€äº›å¼Šç«¯`ï¼Œè€ŒJava é›†åˆå°±åƒä¸€ç§å®¹å™¨ï¼Œå¯ä»¥`åŠ¨æ€åœ°`æŠŠå¤šä¸ªå¯¹è±¡çš„å¼•ç”¨æ”¾å…¥å®¹å™¨ä¸­ã€‚
- æ•°ç»„åœ¨å†…å­˜å­˜å‚¨æ–¹é¢çš„`ç‰¹ç‚¹`ï¼š
  - æ•°ç»„åˆå§‹åŒ–ä»¥åï¼Œé•¿åº¦å°±ç¡®å®šäº†ã€‚
  - æ•°ç»„ä¸­çš„æ·»åŠ çš„å…ƒç´ æ˜¯ä¾æ¬¡ç´§å¯†æ’åˆ—çš„ï¼Œæœ‰åºçš„ï¼Œå¯ä»¥é‡å¤çš„ã€‚
  - æ•°ç»„å£°æ˜çš„ç±»å‹ï¼Œå°±å†³å®šäº†è¿›è¡Œå…ƒç´ åˆå§‹åŒ–æ—¶çš„ç±»å‹ã€‚ä¸æ˜¯æ­¤ç±»å‹çš„å˜é‡ï¼Œå°±ä¸èƒ½æ·»åŠ ã€‚
  - å¯ä»¥å­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹å€¼ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨å¼•ç”¨æ•°æ®ç±»å‹çš„å˜é‡
- æ•°ç»„åœ¨å­˜å‚¨æ•°æ®æ–¹é¢çš„`å¼Šç«¯`ï¼š
  - æ•°ç»„åˆå§‹åŒ–ä»¥åï¼Œé•¿åº¦å°±ä¸å¯å˜äº†ï¼Œä¸ä¾¿äºæ‰©å±•
  - æ•°ç»„ä¸­æä¾›çš„å±æ€§å’Œæ–¹æ³•å°‘ï¼Œä¸ä¾¿äºè¿›è¡Œæ·»åŠ ã€åˆ é™¤ã€æ’å…¥ã€è·å–å…ƒç´ ä¸ªæ•°ç­‰æ“ä½œï¼Œä¸”æ•ˆç‡ä¸é«˜ã€‚
  - æ•°ç»„å­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹å•ä¸€ï¼Œåªèƒ½å­˜å‚¨æœ‰åºçš„ã€å¯ä»¥é‡å¤çš„æ•°æ®
- Java é›†åˆæ¡†æ¶ä¸­çš„ç±»å¯ä»¥ç”¨äºå­˜å‚¨å¤šä¸ª`å¯¹è±¡`ï¼Œè¿˜å¯ç”¨äºä¿å­˜å…·æœ‰`æ˜ å°„å…³ç³»`çš„å…³è”æ•°ç»„ã€‚

### 2.3 Javaé›†åˆæ¡†æ¶ä½“ç³»

Java é›†åˆå¯åˆ†ä¸º Collection å’Œ Map ä¸¤å¤§ä½“ç³»ï¼š

- Collectionæ¥å£ï¼šç”¨äºå­˜å‚¨ä¸€ä¸ªä¸€ä¸ªçš„æ•°æ®ï¼Œä¹Ÿç§°`å•åˆ—æ•°æ®é›†åˆ`ã€‚
  - Listå­æ¥å£ï¼šç”¨æ¥å­˜å‚¨æœ‰åºçš„ã€å¯ä»¥é‡å¤çš„æ•°æ®ï¼ˆä¸»è¦ç”¨æ¥æ›¿æ¢æ•°ç»„ï¼Œ"åŠ¨æ€"æ•°ç»„ï¼‰
    - å®ç°ç±»ï¼šArrayList(ä¸»è¦å®ç°ç±»)ã€LinkedListã€Vector
- Setå­æ¥å£ï¼šç”¨æ¥å­˜å‚¨æ— åºçš„ã€ä¸å¯é‡å¤çš„æ•°æ®ï¼ˆç±»ä¼¼äºé«˜ä¸­è®²çš„"é›†åˆ"ï¼‰
    - å®ç°ç±»ï¼šHashSet(ä¸»è¦å®ç°ç±»)ã€LinkedHashSetã€TreeSet
- Mapæ¥å£ï¼šç”¨äºå­˜å‚¨å…·æœ‰æ˜ å°„å…³ç³»â€œkey-valueå¯¹â€çš„é›†åˆï¼Œå³ä¸€å¯¹ä¸€å¯¹çš„æ•°æ®ï¼Œä¹Ÿç§°`åŒåˆ—æ•°æ®é›†åˆ`ã€‚(ç±»ä¼¼äºé«˜ä¸­çš„å‡½æ•°ã€æ˜ å°„ã€‚(x1,y1),(x2,y2) ---> y = f(x) )
  - HashMap(ä¸»è¦å®ç°ç±»)ã€LinkedHashMapã€TreeMapã€Hashtableã€Properties

- JDKæä¾›çš„é›†åˆAPIä½äºjava.utilåŒ…å†…
- å›¾ç¤ºï¼šé›†åˆæ¡†æ¶å…¨å›¾
![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4ef50c90f33413c7878ee6976d8e0d61.png)


- ç®€å›¾1ï¼š**Collectionæ¥å£ç»§æ‰¿æ ‘**
![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/22f88c430b67f412b2123192583a29e2.png)

- ç®€å›¾2ï¼š**Mapæ¥å£ç»§æ‰¿æ ‘**
![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/2797668d14271ec476f412fe1124b111.png)

### 2.4 é›†åˆçš„ä½¿ç”¨åœºæ™¯

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/964be002d7f55e2b5e9f23dc7eb4f92e.png)

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/646a8a7516d06141df1a3a93b13d5d8d.png)

## 3 Collectionæ¥å£åŠæ–¹æ³•

- JDKä¸æä¾›æ­¤æ¥å£çš„ä»»ä½•ç›´æ¥å®ç°ï¼Œè€Œæ˜¯æä¾›æ›´å…·ä½“çš„å­æ¥å£ï¼ˆå¦‚ï¼šSetå’ŒListï¼‰å»å®ç°ã€‚
- Collection æ¥å£æ˜¯ Listå’ŒSetæ¥å£çš„çˆ¶æ¥å£ï¼Œè¯¥æ¥å£é‡Œå®šä¹‰çš„æ–¹æ³•æ—¢å¯ç”¨äºæ“ä½œ Set é›†åˆï¼Œä¹Ÿå¯ç”¨äºæ“ä½œ List é›†åˆã€‚æ–¹æ³•å¦‚ä¸‹ï¼š

### 3.1 æ·»åŠ 

ï¼ˆ1ï¼‰add(E obj)ï¼šæ·»åŠ å…ƒç´ å¯¹è±¡åˆ°å½“å‰é›†åˆä¸­
ï¼ˆ2ï¼‰addAll(Collection other)ï¼šæ·»åŠ otheré›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ å¯¹è±¡åˆ°å½“å‰é›†åˆä¸­ï¼Œå³this = this âˆª other

æ³¨æ„ï¼šaddå’ŒaddAllçš„åŒºåˆ«

~~~java
package com.atguigu.collection;

import org.junit.Test;

import java.util.ArrayList;
import java.util.Collection;

public class TestCollectionAdd {
    @Test
    public void testAdd(){
        //ArrayListæ˜¯Collectionçš„å­æ¥å£Listçš„å®ç°ç±»ä¹‹ä¸€ã€‚
        Collection coll = new ArrayList();
        coll.add("å°æå¹¿");
        coll.add("æ‰«åœ°åƒ§");
        coll.add("çŸ³ç ´å¤©");
        System.out.println(coll);
    }

    @Test
    public void testAddAll(){
        Collection c1 = new ArrayList();
        c1.add(1);
        c1.add(2);
        System.out.println("c1é›†åˆå…ƒç´ çš„ä¸ªæ•°ï¼š" + c1.size());//2
        System.out.println("c1 = " + c1);

        Collection c2 = new ArrayList();
        c2.add(1);
        c2.add(2);
        System.out.println("c2é›†åˆå…ƒç´ çš„ä¸ªæ•°ï¼š" + c2.size());//2
        System.out.println("c2 = " + c2);

        Collection other = new ArrayList();
        other.add(1);
        other.add(2);
        other.add(3);
        System.out.println("otheré›†åˆå…ƒç´ çš„ä¸ªæ•°ï¼š" + other.size());//3
        System.out.println("other = " + other);
        System.out.println();

        c1.addAll(other);
        System.out.println("c1é›†åˆå…ƒç´ çš„ä¸ªæ•°ï¼š" + c1.size());//5
        System.out.println("c1.addAll(other) = " + c1);

        c2.add(other);
        System.out.println("c2é›†åˆå…ƒç´ çš„ä¸ªæ•°ï¼š" + c2.size());//3
        System.out.println("c2.add(other) = " + c2);
    }
}
~~~

> æ³¨æ„ï¼šcoll.addAll(other);ä¸coll.add(other);

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/ee83a45b19352f280dbf0e6fa3059998.png)


### 3.2 åˆ¤æ–­

ï¼ˆ3ï¼‰int size()ï¼šè·å–å½“å‰é›†åˆä¸­å®é™…å­˜å‚¨çš„å…ƒç´ ä¸ªæ•°
ï¼ˆ4ï¼‰boolean isEmpty()ï¼šåˆ¤æ–­å½“å‰é›†åˆæ˜¯å¦ä¸ºç©ºé›†åˆ
ï¼ˆ5ï¼‰boolean contains(Object obj)ï¼šåˆ¤æ–­å½“å‰é›†åˆä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªä¸objå¯¹è±¡equalsè¿”å›trueçš„å…ƒç´ 
ï¼ˆ6ï¼‰boolean containsAll(Collection coll)ï¼šåˆ¤æ–­collé›†åˆä¸­çš„å…ƒç´ æ˜¯å¦åœ¨å½“å‰é›†åˆä¸­éƒ½å­˜åœ¨ã€‚å³collé›†åˆæ˜¯å¦æ˜¯å½“å‰é›†åˆçš„â€œå­é›†â€
ï¼ˆ7ï¼‰boolean equals(Object obj)ï¼šåˆ¤æ–­å½“å‰é›†åˆä¸objæ˜¯å¦ç›¸ç­‰

```java
package com.atguigu.collection;

import org.junit.Test;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;

public class TestCollectionContains {
    @Test
    public void test01() {
        Collection coll = new ArrayList();
        System.out.println("collåœ¨æ·»åŠ å…ƒç´ ä¹‹å‰ï¼ŒisEmpty = " + coll.isEmpty());
        coll.add("å°æå¹¿");
        coll.add("æ‰«åœ°åƒ§");
        coll.add("çŸ³ç ´å¤©");
        coll.add("ä½›åœ°é­”");
        System.out.println("collçš„å…ƒç´ ä¸ªæ•°" + coll.size());

        System.out.println("collåœ¨æ·»åŠ å…ƒç´ ä¹‹åï¼ŒisEmpty = " + coll.isEmpty());
    }

    @Test
    public void test02() {
        Collection coll = new ArrayList();
        coll.add("å°æå¹¿");
        coll.add("æ‰«åœ°åƒ§");
        coll.add("çŸ³ç ´å¤©");
        coll.add("ä½›åœ°é­”");
        System.out.println("coll = " + coll);
        System.out.println("collæ˜¯å¦åŒ…å«â€œå°æå¹¿â€ = " + coll.contains("å°æå¹¿"));
        System.out.println("collæ˜¯å¦åŒ…å«â€œå®‹çº¢åº·â€ = " + coll.contains("å®‹çº¢åº·"));

        Collection other = new ArrayList();
        other.add("å°æå¹¿");
        other.add("æ‰«åœ°åƒ§");
        other.add("å°šç¡…è°·");
        System.out.println("other = " + other);

        System.out.println("coll.containsAll(other) = " + coll.containsAll(other));
    }

    @Test
    public void test03(){
        Collection c1 = new ArrayList();
        c1.add(1);
        c1.add(2);
        System.out.println("c1é›†åˆå…ƒç´ çš„ä¸ªæ•°ï¼š" + c1.size());//2
        System.out.println("c1 = " + c1);

        Collection c2 = new ArrayList();
        c2.add(1);
        c2.add(2);
        System.out.println("c2é›†åˆå…ƒç´ çš„ä¸ªæ•°ï¼š" + c2.size());//2
        System.out.println("c2 = " + c2);

        Collection other = new ArrayList();
        other.add(1);
        other.add(2);
        other.add(3);
        System.out.println("otheré›†åˆå…ƒç´ çš„ä¸ªæ•°ï¼š" + other.size());//3
        System.out.println("other = " + other);
        System.out.println();

        c1.addAll(other);
        System.out.println("c1é›†åˆå…ƒç´ çš„ä¸ªæ•°ï¼š" + c1.size());//5
        System.out.println("c1.addAll(other) = " + c1);
        System.out.println("c1.contains(other) = " + c1.contains(other));
        System.out.println("c1.containsAll(other) = " + c1.containsAll(other));
        System.out.println();

        c2.add(other);
        System.out.println("c2é›†åˆå…ƒç´ çš„ä¸ªæ•°ï¼š" + c2.size());
        System.out.println("c2.add(other) = " + c2);
        System.out.println("c2.contains(other) = " + c2.contains(other));
        System.out.println("c2.containsAll(other) = " + c2.containsAll(other));
    }

}
```

### 3.3 åˆ é™¤

ï¼ˆ8ï¼‰void clear()ï¼šæ¸…ç©ºé›†åˆå…ƒç´ 
ï¼ˆ9ï¼‰ boolean remove(Object obj) ï¼šä»å½“å‰é›†åˆä¸­åˆ é™¤ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„ä¸objå¯¹è±¡equalsè¿”å›trueçš„å…ƒç´ ã€‚
ï¼ˆ10ï¼‰boolean removeAll(Collection coll)ï¼šä»å½“å‰é›†åˆä¸­åˆ é™¤æ‰€æœ‰ä¸collé›†åˆä¸­ç›¸åŒçš„å…ƒç´ ã€‚å³this = this - this âˆ© coll
ï¼ˆ11ï¼‰boolean retainAll(Collection coll)ï¼šä»å½“å‰é›†åˆä¸­åˆ é™¤ä¸¤ä¸ªé›†åˆä¸­ä¸åŒçš„å…ƒç´ ï¼Œä½¿å¾—å½“å‰é›†åˆä»…ä¿ç•™ä¸collé›†åˆä¸­çš„å…ƒç´ ç›¸åŒçš„å…ƒç´ ï¼Œå³å½“å‰é›†åˆä¸­ä»…ä¿ç•™ä¸¤ä¸ªé›†åˆçš„äº¤é›†ï¼Œå³this  = this âˆ© collï¼›

æ³¨æ„å‡ ç§åˆ é™¤æ–¹æ³•çš„åŒºåˆ«

```java
package com.atguigu.collection;

import org.junit.Test;

import java.util.ArrayList;
import java.util.Collection;
import java.util.function.Predicate;

public class TestCollectionRemove {
    @Test
    public void test01(){
        Collection coll = new ArrayList();
        coll.add("å°æå¹¿");
        coll.add("æ‰«åœ°åƒ§");
        coll.add("çŸ³ç ´å¤©");
        coll.add("ä½›åœ°é­”");
        System.out.println("coll = " + coll);

        coll.remove("å°æå¹¿");
        System.out.println("åˆ é™¤å…ƒç´ \"å°æå¹¿\"ä¹‹åcoll = " + coll);
        
        coll.clear();
        System.out.println("collæ¸…ç©ºä¹‹åï¼Œcoll = " + coll);
    }

    @Test
    public void test02() {
        Collection coll = new ArrayList();
        coll.add("å°æå¹¿");
        coll.add("æ‰«åœ°åƒ§");
        coll.add("çŸ³ç ´å¤©");
        coll.add("ä½›åœ°é­”");
        System.out.println("coll = " + coll);

        Collection other = new ArrayList();
        other.add("å°æå¹¿");
        other.add("æ‰«åœ°åƒ§");
        other.add("å°šç¡…è°·");
        System.out.println("other = " + other);

        coll.removeAll(other);
        System.out.println("coll.removeAll(other)ä¹‹åï¼Œcoll = " + coll);
        System.out.println("coll.removeAll(other)ä¹‹åï¼Œother = " + other);
    }

    @Test
    public void test03() {
        Collection coll = new ArrayList();
        coll.add("å°æå¹¿");
        coll.add("æ‰«åœ°åƒ§");
        coll.add("çŸ³ç ´å¤©");
        coll.add("ä½›åœ°é­”");
        System.out.println("coll = " + coll);

        Collection other = new ArrayList();
        other.add("å°æå¹¿");
        other.add("æ‰«åœ°åƒ§");
        other.add("å°šç¡…è°·");
        System.out.println("other = " + other);

        coll.retainAll(other);
        System.out.println("coll.retainAll(other)ä¹‹åï¼Œcoll = " + coll);
        System.out.println("coll.retainAll(other)ä¹‹åï¼Œother = " + other);
    }

}
```

### 3.4 å…¶å®ƒ

ï¼ˆ12ï¼‰Object[] toArray()ï¼šè¿”å›åŒ…å«å½“å‰é›†åˆä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„
ï¼ˆ13ï¼‰hashCode()ï¼šè·å–é›†åˆå¯¹è±¡çš„å“ˆå¸Œå€¼
ï¼ˆ14ï¼‰iterator()ï¼šè¿”å›è¿­ä»£å™¨å¯¹è±¡ï¼Œç”¨äºé›†åˆéå†

```java
public class TestCollectionContains {
    @Test
    public void test01() {
        Collection coll = new ArrayList();

        coll.add("å°æå¹¿");
        coll.add("æ‰«åœ°åƒ§");
        coll.add("çŸ³ç ´å¤©");
        coll.add("ä½›åœ°é­”");
		//é›†åˆè½¬æ¢ä¸ºæ•°ç»„ï¼šé›†åˆçš„toArray()æ–¹æ³•
        Object[] objects = coll.toArray();
        System.out.println("ç”¨æ•°ç»„è¿”å›collä¸­æ‰€æœ‰å…ƒç´ ï¼š" + Arrays.toString(objects));
		
        //å¯¹åº”çš„ï¼Œæ•°ç»„è½¬æ¢ä¸ºé›†åˆï¼šè°ƒç”¨Arraysçš„asList(Object ...objs)
        Object[] arr1 = new Object[]{123,"AA","CC"};
        Collection list = Arrays.asList(arr1);
        System.out.println(list);
    }
}
```

## 4 Iterator(è¿­ä»£å™¨)æ¥å£

### 4.1 Iteratoræ¥å£

- åœ¨ç¨‹åºå¼€å‘ä¸­ï¼Œç»å¸¸éœ€è¦éå†é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚é’ˆå¯¹è¿™ç§éœ€æ±‚ï¼ŒJDKä¸“é—¨æä¾›äº†ä¸€ä¸ªæ¥å£`java.util.Iterator`ã€‚`Iterator`æ¥å£ä¹Ÿæ˜¯Javaé›†åˆä¸­çš„ä¸€å‘˜ï¼Œä½†å®ƒä¸`Collection`ã€`Map`æ¥å£æœ‰æ‰€ä¸åŒã€‚
  - Collectionæ¥å£ä¸Mapæ¥å£ä¸»è¦ç”¨äº`å­˜å‚¨`å…ƒç´ 
  - `Iterator`ï¼Œè¢«ç§°ä¸ºè¿­ä»£å™¨æ¥å£ï¼Œæœ¬èº«å¹¶ä¸æä¾›å­˜å‚¨å¯¹è±¡çš„èƒ½åŠ›ï¼Œä¸»è¦ç”¨äº`éå†`Collectionä¸­çš„å…ƒç´ 


- Collectionæ¥å£ç»§æ‰¿äº†java.lang.Iterableæ¥å£ï¼Œè¯¥æ¥å£æœ‰ä¸€ä¸ªiterator()æ–¹æ³•ï¼Œé‚£ä¹ˆæ‰€æœ‰å®ç°äº†Collectionæ¥å£çš„é›†åˆç±»éƒ½æœ‰ä¸€ä¸ªiterator()æ–¹æ³•ï¼Œç”¨ä»¥è¿”å›ä¸€ä¸ªå®ç°äº†Iteratoræ¥å£çš„å¯¹è±¡ã€‚
  - `public Iterator iterator()`: è·å–é›†åˆå¯¹åº”çš„è¿­ä»£å™¨ï¼Œç”¨æ¥éå†é›†åˆä¸­çš„å…ƒç´ çš„ã€‚
  - é›†åˆå¯¹è±¡æ¯æ¬¡è°ƒç”¨iterator()æ–¹æ³•éƒ½å¾—åˆ°ä¸€ä¸ªå…¨æ–°çš„è¿­ä»£å™¨å¯¹è±¡ï¼Œé»˜è®¤æ¸¸æ ‡éƒ½åœ¨é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰ã€‚

- Iteratoræ¥å£çš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š
  - `public E next()`:è¿”å›è¿­ä»£çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚
  - `public boolean hasNext()`:å¦‚æœä»æœ‰å…ƒç´ å¯ä»¥è¿­ä»£ï¼Œåˆ™è¿”å› trueã€‚

- æ³¨æ„ï¼šåœ¨è°ƒç”¨it.next()æ–¹æ³•ä¹‹å‰å¿…é¡»è¦è°ƒç”¨it.hasNext()è¿›è¡Œæ£€æµ‹ã€‚è‹¥ä¸è°ƒç”¨ï¼Œä¸”ä¸‹ä¸€æ¡è®°å½•æ— æ•ˆï¼Œç›´æ¥è°ƒç”¨it.next()ä¼šæŠ›å‡º`NoSuchElementExceptionå¼‚å¸¸`ã€‚


ä¸¾ä¾‹ï¼š

~~~java
package com.atguigu.iterator;

import org.junit.Test;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;

public class TestIterator {
    @Test
    public void test01(){
        Collection coll = new ArrayList();
        coll.add("å°æå¹¿");
        coll.add("æ‰«åœ°åƒ§");
        coll.add("çŸ³ç ´å¤©");

        Iterator iterator = coll.iterator();
        System.out.println(iterator.next());
        System.out.println(iterator.next());
        System.out.println(iterator.next());
        System.out.println(iterator.next()); //æŠ¥NoSuchElementExceptionå¼‚å¸¸
    }

    @Test
    public void test02(){
        Collection coll = new ArrayList();
        coll.add("å°æå¹¿");
        coll.add("æ‰«åœ°åƒ§");
        coll.add("çŸ³ç ´å¤©");

        Iterator iterator = coll.iterator();//è·å–è¿­ä»£å™¨å¯¹è±¡
        while(iterator.hasNext()) {//åˆ¤æ–­æ˜¯å¦è¿˜æœ‰å…ƒç´ å¯è¿­ä»£
            System.out.println(iterator.next());//å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ 
        }
    }
}

~~~

### 4.2 è¿­ä»£å™¨çš„æ‰§è¡ŒåŸç†

Iteratorè¿­ä»£å™¨å¯¹è±¡åœ¨éå†é›†åˆæ—¶ï¼Œå†…éƒ¨é‡‡ç”¨æŒ‡é’ˆçš„æ–¹å¼æ¥è·Ÿè¸ªé›†åˆä¸­çš„å…ƒç´ ï¼Œæ¥ä¸‹æ¥é€šè¿‡ä¸€ä¸ªå›¾ä¾‹æ¥æ¼”ç¤ºIteratorå¯¹è±¡è¿­ä»£å…ƒç´ çš„è¿‡ç¨‹ï¼š

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f847e4be6f07fd5ae0d0098514f2fc23.png)


ä½¿ç”¨Iteratorè¿­ä»£å™¨åˆ é™¤å…ƒç´ ï¼šjava.util.Iteratorè¿­ä»£å™¨ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•ï¼švoid remove() ;

```java
Iterator iter = coll.iterator();//å›åˆ°èµ·ç‚¹
while(iter.hasNext()){
    Object obj = iter.next();
    if(obj.equals("Tom")){
        iter.remove();
    }
}
```

æ³¨æ„ï¼š
- Iteratorå¯ä»¥åˆ é™¤é›†åˆçš„å…ƒç´ ï¼Œä½†æ˜¯éå†è¿‡ç¨‹ä¸­é€šè¿‡è¿­ä»£å™¨å¯¹è±¡çš„removeæ–¹æ³•ï¼Œä¸æ˜¯é›†åˆå¯¹è±¡çš„removeæ–¹æ³•ã€‚
- å¦‚æœè¿˜æœªè°ƒç”¨next()æˆ–åœ¨ä¸Šä¸€æ¬¡è°ƒç”¨ next() æ–¹æ³•ä¹‹åå·²ç»è°ƒç”¨äº† remove() æ–¹æ³•ï¼Œå†è°ƒç”¨remove()éƒ½ä¼šæŠ¥IllegalStateExceptionã€‚

- Collectionå·²ç»æœ‰remove(xx)æ–¹æ³•äº†ï¼Œä¸ºä»€ä¹ˆIteratorè¿­ä»£å™¨è¿˜è¦æä¾›åˆ é™¤æ–¹æ³•å‘¢ï¼Ÿå› ä¸ºè¿­ä»£å™¨çš„remove()å¯ä»¥æŒ‰æŒ‡å®šçš„æ¡ä»¶è¿›è¡Œåˆ é™¤ã€‚


ä¾‹å¦‚ï¼šè¦åˆ é™¤ä»¥ä¸‹é›†åˆå…ƒç´ ä¸­çš„å¶æ•°

```java
package com.atguigu.iterator;

import org.junit.Test;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;

public class TestIteratorRemove {
    @Test
    public void test01(){
        Collection coll = new ArrayList();
        coll.add(1);
        coll.add(2);
        coll.add(3);
        coll.add(4);
        coll.add(5);
        coll.add(6);

        Iterator iterator = coll.iterator();
        while(iterator.hasNext()){
            Integer element = (Integer) iterator.next();
            if(element % 2 == 0){
                iterator.remove();
            }
        }
        System.out.println(coll);
    }
}

```

åœ¨JDK8.0æ—¶ï¼ŒCollectionæ¥å£æœ‰äº†removeIf æ–¹æ³•ï¼Œå³å¯ä»¥æ ¹æ®æ¡ä»¶åˆ é™¤ã€‚ï¼ˆç¬¬18ç« ä¸­å†è®²ï¼‰

```java
package com.atguigu.collection;

import org.junit.Test;

import java.util.ArrayList;
import java.util.Collection;
import java.util.function.Predicate;

public class TestCollectionRemoveIf {
    @Test
    public void test01(){
        Collection coll = new ArrayList();
        coll.add("å°æå¹¿");
        coll.add("æ‰«åœ°åƒ§");
        coll.add("çŸ³ç ´å¤©");
        coll.add("ä½›åœ°é­”");
        System.out.println("coll = " + coll);

        coll.removeIf(new Predicate() {
            @Override
            public boolean test(Object o) {
                String str = (String) o;
                return str.contains("åœ°");
            }
        });
        System.out.println("åˆ é™¤åŒ…å«\"åœ°\"å­—çš„å…ƒç´ ä¹‹åcoll = " + coll);
    }
}
```

### 4.3 foreachå¾ªç¯

- foreachå¾ªç¯ï¼ˆä¹Ÿç§°å¢å¼ºforå¾ªç¯ï¼‰æ˜¯ JDK5.0 ä¸­å®šä¹‰çš„ä¸€ä¸ªé«˜çº§forå¾ªç¯ï¼Œä¸“é—¨ç”¨æ¥`éå†æ•°ç»„å’Œé›†åˆ`çš„ã€‚


- foreachå¾ªç¯çš„è¯­æ³•æ ¼å¼ï¼š


```java
for(å…ƒç´ çš„æ•°æ®ç±»å‹ å±€éƒ¨å˜é‡ : Collectioné›†åˆæˆ–æ•°ç»„){ 
  	//æ“ä½œå±€éƒ¨å˜é‡çš„è¾“å‡ºæ“ä½œ
}
//è¿™é‡Œå±€éƒ¨å˜é‡å°±æ˜¯ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œè‡ªå·±å‘½åå°±å¯ä»¥
```

- ä¸¾ä¾‹ï¼š


```java
package com.atguigu.iterator;

import org.junit.Test;

import java.util.ArrayList;
import java.util.Collection;

public class TestForeach {
    @Test
    public void test01(){
        Collection coll = new ArrayList();
        coll.add("å°æå¹¿");
        coll.add("æ‰«åœ°åƒ§");
        coll.add("çŸ³ç ´å¤©");
		//foreachå¾ªç¯å…¶å®å°±æ˜¯ä½¿ç”¨Iteratorè¿­ä»£å™¨æ¥å®Œæˆå…ƒç´ çš„éå†çš„ã€‚
        for (Object o : coll) {
            System.out.println(o);
        }
    }
    @Test
    public void test02(){
        int[] nums = {1,2,3,4,5};
        for (int num : nums) {
            System.out.println(num);
        }
        System.out.println("-----------------");
        String[] names = {"å¼ ä¸‰","æå››","ç‹äº”"};
        for (String name : names) {
            System.out.println(name);
        }
    }
}
```

- å¯¹äºé›†åˆçš„éå†ï¼Œå¢å¼ºforçš„å†…éƒ¨åŸç†å…¶å®æ˜¯ä¸ªIteratorè¿­ä»£å™¨ã€‚å¦‚ä¸‹å›¾ã€‚

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4b8f56e0aa7978ba0c4f1afe12861c68.png)

- å®ƒç”¨äºéå†Collectionå’Œæ•°ç»„ã€‚é€šå¸¸åªè¿›è¡Œéå†å…ƒç´ ï¼Œä¸è¦åœ¨éå†çš„è¿‡ç¨‹ä¸­å¯¹é›†åˆå…ƒç´ è¿›è¡Œå¢åˆ æ“ä½œã€‚
  - ç»ƒä¹ ï¼šåˆ¤æ–­è¾“å‡ºç»“æœä¸ºä½•ï¼Ÿ

```java
public class ForTest {
    public static void main(String[] args) {
        String[] str = new String[5];
        for (String myStr : str) {
            myStr = "atguigu";
            System.out.println(myStr);
        }
        for (int i = 0; i < str.length; i++) {
            System.out.println(str[i]);
        }
    }
}

```

## 5 Collectionå­æ¥å£1ï¼šList

### 5.1 Listæ¥å£ç‰¹ç‚¹

- é‰´äºJavaä¸­æ•°ç»„ç”¨æ¥å­˜å‚¨æ•°æ®çš„å±€é™æ€§ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨`java.util.List`æ›¿ä»£æ•°ç»„
- Listé›†åˆç±»ä¸­`å…ƒç´ æœ‰åº`ã€ä¸”`å¯é‡å¤`ï¼Œé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æœ‰å…¶å¯¹åº”çš„é¡ºåºç´¢å¼•ã€‚

  - ä¸¾ä¾‹ï¼šListé›†åˆå­˜å‚¨æ•°æ®ï¼Œå°±åƒé“¶è¡Œé—¨å£å®¢æœï¼Œç»™æ¯ä¸€ä¸ªæ¥åŠç†ä¸šåŠ¡çš„å®¢æˆ·åˆ†é…åºå·ï¼šç¬¬ä¸€ä¸ªæ¥çš„æ˜¯â€œå¼ ä¸‰â€ï¼Œå®¢æœç»™ä»–åˆ†é…çš„æ˜¯0ï¼›ç¬¬äºŒä¸ªæ¥çš„æ˜¯â€œæå››â€ï¼Œå®¢æœç»™ä»–åˆ†é…çš„1ï¼›ä»¥æ­¤ç±»æ¨ï¼Œæœ€åä¸€ä¸ªåºå·åº”è¯¥æ˜¯â€œæ€»äººæ•°-1â€ã€‚

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3fc127ecbdd1520d03fb6f900f63151d.png)


- JDK APIä¸­Listæ¥å£çš„å®ç°ç±»å¸¸ç”¨çš„æœ‰ï¼š`ArrayList`ã€`LinkedList`å’Œ`Vector`ã€‚

### 5.2 Listæ¥å£æ–¹æ³•

Listé™¤äº†ä»Collectioné›†åˆç»§æ‰¿çš„æ–¹æ³•å¤–ï¼ŒList é›†åˆé‡Œæ·»åŠ äº†ä¸€äº›`æ ¹æ®ç´¢å¼•`æ¥æ“ä½œé›†åˆå…ƒç´ çš„æ–¹æ³•ã€‚

- æ’å…¥å…ƒç´ 
  - `void add(int index, Object ele)`:åœ¨indexä½ç½®æ’å…¥eleå…ƒç´ 
  - boolean addAll(int index, Collection eles):ä»indexä½ç½®å¼€å§‹å°†elesä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ è¿›æ¥
- è·å–å…ƒç´ 
  - `Object get(int index)`:è·å–æŒ‡å®šindexä½ç½®çš„å…ƒç´ 
  - List subList(int fromIndex, int toIndex):è¿”å›ä»fromIndexåˆ°toIndexä½ç½®çš„å­é›†åˆ
- è·å–å…ƒç´ ç´¢å¼•
  - int indexOf(Object obj):è¿”å›objåœ¨é›†åˆä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®
  - int lastIndexOf(Object obj):è¿”å›objåœ¨å½“å‰é›†åˆä¸­æœ«æ¬¡å‡ºç°çš„ä½ç½®
- åˆ é™¤å’Œæ›¿æ¢å…ƒç´ 
  - `Object remove(int index)`:ç§»é™¤æŒ‡å®šindexä½ç½®çš„å…ƒç´ ï¼Œå¹¶è¿”å›æ­¤å…ƒç´ 

  - `Object set(int index, Object ele)`:è®¾ç½®æŒ‡å®šindexä½ç½®çš„å…ƒç´ ä¸ºele


ä¸¾ä¾‹ï¼š

```java
package com.atguigu.list;

import java.util.ArrayList;
import java.util.List;

public class TestListMethod {
    public static void main(String[] args) {
        // åˆ›å»ºListé›†åˆå¯¹è±¡
        List<String> list = new ArrayList<String>();

        // å¾€ å°¾éƒ¨æ·»åŠ  æŒ‡å®šå…ƒç´ 
        list.add("å›¾å›¾");
        list.add("å°ç¾");
        list.add("ä¸é«˜å…´");

        System.out.println(list);
        // add(int index,String s) å¾€æŒ‡å®šä½ç½®æ·»åŠ 
        list.add(1,"æ²¡å¤´è„‘");

        System.out.println(list);
        // String remove(int index) åˆ é™¤æŒ‡å®šä½ç½®å…ƒç´   è¿”å›è¢«åˆ é™¤å…ƒç´ 
        // åˆ é™¤ç´¢å¼•ä½ç½®ä¸º2çš„å…ƒç´ 
        System.out.println("åˆ é™¤ç´¢å¼•ä½ç½®ä¸º2çš„å…ƒç´ ");
        System.out.println(list.remove(2));

        System.out.println(list);

        // String set(int index,String s)
        // åœ¨æŒ‡å®šä½ç½® è¿›è¡Œ å…ƒç´ æ›¿ä»£ï¼ˆæ”¹ï¼‰
        // ä¿®æ”¹æŒ‡å®šä½ç½®å…ƒç´ 
        list.set(0, "ä¸‰æ¯›");
        System.out.println(list);

        // String get(int index)  è·å–æŒ‡å®šä½ç½®å…ƒç´ 
        // è·Ÿsize() æ–¹æ³•ä¸€èµ·ç”¨  æ¥ éå†çš„
        for(int i = 0;i<list.size();i++){
            System.out.println(list.get(i));
        }
        //è¿˜å¯ä»¥ä½¿ç”¨å¢å¼ºfor
        for (String string : list) {
            System.out.println(string);
        }
    }
}
```

> æ³¨æ„ï¼šåœ¨JavaSEä¸­Liståç§°çš„ç±»å‹æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯java.util.Listé›†åˆæ¥å£ï¼Œä¸€ä¸ªæ˜¯java.awt.Listå›¾å½¢ç•Œé¢çš„ç»„ä»¶ï¼Œåˆ«å¯¼é”™åŒ…äº†ã€‚

### 5.3 Listæ¥å£ä¸»è¦å®ç°ç±»ï¼šArrayList

- ArrayList æ˜¯ List æ¥å£çš„`ä¸»è¦å®ç°ç±»`

- æœ¬è´¨ä¸Šï¼ŒArrayListæ˜¯å¯¹è±¡å¼•ç”¨çš„ä¸€ä¸ªâ€å˜é•¿â€æ•°ç»„

- Arrays.asList(â€¦) æ–¹æ³•è¿”å›çš„ List é›†åˆï¼Œæ—¢ä¸æ˜¯ ArrayList å®ä¾‹ï¼Œä¹Ÿä¸æ˜¯ Vector å®ä¾‹ã€‚ Arrays.asList(â€¦) è¿”å›å€¼æ˜¯ä¸€ä¸ªå›ºå®šé•¿åº¦çš„ List é›†åˆ
 ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/343a89850b9e1fa92e6288fc970050f7.png)
### 5.4 Listçš„å®ç°ç±»ä¹‹äºŒï¼šLinkedList

- å¯¹äºé¢‘ç¹çš„æ’å…¥æˆ–åˆ é™¤å…ƒç´ çš„æ“ä½œï¼Œå»ºè®®ä½¿ç”¨LinkedListç±»ï¼Œæ•ˆç‡è¾ƒé«˜ã€‚è¿™æ˜¯ç”±åº•å±‚é‡‡ç”¨é“¾è¡¨ï¼ˆåŒå‘é“¾è¡¨ï¼‰ç»“æ„å­˜å‚¨æ•°æ®å†³å®šçš„ã€‚

- ç‰¹æœ‰æ–¹æ³•ï¼š
  - void addFirst(Object obj)
  - void addLast(Object obj)	
  - Object getFirst()
  - Object getLast()
  - Object removeFirst()
  - Object removeLast()

### 5.5 Listçš„å®ç°ç±»ä¹‹ä¸‰ï¼šVector

- Vector æ˜¯ä¸€ä¸ª`å¤è€`çš„é›†åˆï¼ŒJDK1.0å°±æœ‰äº†ã€‚å¤§å¤šæ•°æ“ä½œä¸ArrayListç›¸åŒï¼ŒåŒºåˆ«ä¹‹å¤„åœ¨äºVectoræ˜¯`çº¿ç¨‹å®‰å…¨`çš„ã€‚
- åœ¨å„ç§Listä¸­ï¼Œæœ€å¥½æŠŠ`ArrayListä½œä¸ºé»˜è®¤é€‰æ‹©`ã€‚å½“æ’å…¥ã€åˆ é™¤é¢‘ç¹æ—¶ï¼Œä½¿ç”¨LinkedListï¼›Vectoræ€»æ˜¯æ¯”ArrayListæ…¢ï¼Œæ‰€ä»¥å°½é‡é¿å…ä½¿ç”¨ã€‚
- ç‰¹æœ‰æ–¹æ³•ï¼š
  - void addElement(Object obj)
  - void insertElementAt(Object obj,int index)
  - void setElementAt(Object obj,int index)
  - void removeElement(Object obj)
  - void removeAllElements()

### 5.6 ç»ƒä¹ 

**é¢è¯•é¢˜ï¼š**

```java
@Test
public void testListRemove() {
    List list = new ArrayList();
    list.add(1);
    list.add(2);
    list.add(3);
    updateList(list);
    System.out.println(list);//[1,2]
}

private static void updateList(List list) {
    list.remove(2);  
}

```

**ç»ƒä¹ 1ï¼š**

- å®šä¹‰å­¦ç”Ÿç±»ï¼Œå±æ€§ä¸ºå§“åã€å¹´é¾„ï¼Œæä¾›å¿…è¦çš„getterã€setteræ–¹æ³•ï¼Œæ„é€ å™¨ï¼ŒtoString()ï¼Œequals()æ–¹æ³•ã€‚
- ä½¿ç”¨ArrayListé›†åˆï¼Œä¿å­˜å½•å…¥çš„å¤šä¸ªå­¦ç”Ÿå¯¹è±¡ã€‚
- å¾ªç¯å½•å…¥çš„æ–¹å¼ï¼Œ1ï¼šç»§ç»­å½•å…¥ï¼Œ0ï¼šç»“æŸå½•å…¥ã€‚
- å½•å…¥ç»“æŸåï¼Œç”¨foreachéå†é›†åˆã€‚

* ä»£ç å®ç°ï¼Œæ•ˆæœå¦‚å›¾æ‰€ç¤ºï¼š
  ![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/0c95dcb3d8f444ede739684dd1115394.png)
```java
package com.atguigu.test01;

import java.util.ArrayList;
import java.util.Scanner;

public class StudentTest {
    public static void main(String[] args) {

        Scanner scanner = new Scanner(System.in);
        ArrayList stuList = new ArrayList();

        for (;;) {

            System.out.println("é€‰æ‹©ï¼ˆå½•å…¥ 1 ï¼›ç»“æŸ 0ï¼‰");
            int x = scanner.nextInt();//æ ¹æ®xçš„å€¼ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦ç»§ç»­å¾ªç¯

            if (x == 1) {
                System.out.println("å§“å");
                String name = scanner.next();
                System.out.println("å¹´é¾„");
                int age = scanner.nextInt();
                Student stu = new Student(age, name);
                stuList.add(stu);

            } else if (x == 0) {
                break;

            } else {

                System.out.println("è¾“å…¥æœ‰è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥");
            }
        }

        for (Object stu : stuList) {
            System.out.println(stu);
        }
    }
}

public class Student {

    private int age;
    private String name;

    public Student() {
    }

    
    public Student(int age, String name) {
		super();
		this.age = age;
		this.name = name;
	}


	public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;

    }

	@Override
	public String toString() {
		return "Student [age=" + age + ", name=" + name + "]";
	}

}
```

**ç»ƒä¹ 2ï¼š**

â€‹	1ã€è¯·å®šä¹‰æ–¹æ³•public static int listTest(Collection list,String s)ç»Ÿè®¡é›†åˆä¸­æŒ‡å®šå…ƒç´ å‡ºç°çš„æ¬¡æ•°

â€‹	2ã€åˆ›å»ºé›†åˆï¼Œé›†åˆå­˜æ”¾éšæœºç”Ÿæˆçš„30ä¸ªå°å†™å­—æ¯

â€‹	3ã€ç”¨listTestç»Ÿè®¡ï¼Œaã€bã€cã€xå…ƒç´ çš„å‡ºç°æ¬¡æ•°

â€‹	4ã€æ•ˆæœå¦‚ä¸‹

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/160d578a03aa9a0a384afd61c81efaa3.png)


```java
package com.atguigu.test02;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Random;

public class Test02 {
	public static void main(String[] args) {
		Collection list = new ArrayList();
		Random rand = new Random();
		for (int i = 0; i < 30; i++) {
			list.add((char)(rand.nextInt(26)+97)+"");
		}
		System.out.println(list);
		System.out.println("a:"+listTest(list, "a"));	
		System.out.println("b:"+listTest(list, "b"));	
		System.out.println("c:"+listTest(list, "c"));
		System.out.println("x:"+listTest(list, "x"));	
	}

	public static int listTest(Collection list, String string) {
		int count = 0;
		for (Object object : list) {
			if(string.equals(object)){
				count++;
			}
		}
		return count;
	}
}

```

**ç»ƒä¹ 3ï¼šKTVç‚¹æ­Œç³»ç»Ÿ**

**æè¿°**

åˆ†åˆ«ä½¿ç”¨ArrayListå’ŒLinkedListé›†åˆï¼Œç¼–å†™ä¸€ä¸ª**`KTVç‚¹æ­Œç³»ç»Ÿ`**çš„ç¨‹åºã€‚åœ¨ç¨‹åºä¸­ï¼š

- æŒ‡ä»¤1ä»£è¡¨æ·»åŠ æ­Œæ›²
- æŒ‡ä»¤2ä»£è¡¨å°†æ‰€é€‰æ­Œæ›²ç½®é¡¶
- æŒ‡ä»¤3ä»£è¡¨å°†æ‰€é€‰æ­Œæ›²æå‰ä¸€ä½
- æŒ‡ä»¤4ä»£è¡¨é€€å‡ºè¯¥ç³»ç»Ÿ

è¦æ±‚æ ¹æ®ç”¨æˆ·è¾“å…¥çš„æŒ‡ä»¤å’Œæ­Œæ›²åå±•ç°æ­Œæ›²åˆ—è¡¨ã€‚ä¾‹å¦‚è¾“å…¥æŒ‡ä»¤1ï¼Œè¾“å…¥æ­Œæ›²å"çˆ±ä½ ä¸€ä¸‡å¹´"ï¼Œåˆ™è¾“å‡ºâ€œå½“å‰æ­Œæ›²åˆ—è¡¨ï¼š[çˆ±ä½ ä¸€ä¸‡å¹´]â€ã€‚

**æç¤º**

* ä¸ºäº†æŒ‡å¼•ç”¨æˆ·æ“ä½œï¼Œé¦–å…ˆè¦å°†å„ä¸ªæŒ‡ä»¤æ‰€è¡¨ç¤ºçš„å«ä¹‰æ‰“å°åˆ°æ§åˆ¶å°

  ```java
  System.out.println("-------------æ¬¢è¿æ¥åˆ°ç‚¹æ­Œç³»ç»Ÿ------------");
  System.out.println("1.æ·»åŠ æ­Œæ›²è‡³åˆ—è¡¨");
  System.out.println("2.å°†æ­Œæ›²ç½®é¡¶");
  System.out.println("3.å°†æ­Œæ›²å‰ç§»ä¸€ä½");
  System.out.println("4.é€€å‡º");
  ```

* ç¨‹åºä¸­éœ€è¦åˆ›å»ºä¸€ä¸ªé›†åˆä½œä¸ºæ­Œæ›²åˆ—è¡¨ï¼Œå¹¶å‘å…¶æ·»åŠ ä¸€éƒ¨åˆ†æ­Œæ›²

* é€šè¿‡ArrayListæˆ–LinkedListé›†åˆå®šä¹‰çš„æ–¹æ³•æ“ä½œæ­Œæ›²åˆ—è¡¨

**ä»£ç **

* ä½¿ç”¨ArrayListé›†åˆæ¨¡æ‹Ÿç‚¹æ­Œç³»ç»Ÿçš„å®ç°ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

  ```java
  /**
   * @author å°šç¡…è°·-å®‹çº¢åº·
   * @create 20:26
   */
  public class KTVByArrayList {
      private static ArrayList musicList = new ArrayList();// åˆ›å»ºæ­Œæ›²åˆ—è¡¨
      private static Scanner sc = new Scanner(System.in);
  
      public static void main(String[] args) {
          addMusicList();// æ·»åŠ ä¸€éƒ¨åˆ†æ­Œæ›²è‡³æ­Œæ›²åˆ—è¡¨
          boolean flag = true;
          while (flag) {
              System.out.println("å½“å‰æ­Œæ›²åˆ—è¡¨ï¼š" + musicList);
              System.out.println("-------------æ¬¢è¿æ¥åˆ°ç‚¹æ­Œç³»ç»Ÿ------------");
              System.out.println("1.æ·»åŠ æ­Œæ›²è‡³åˆ—è¡¨");
              System.out.println("2.å°†æ­Œæ›²ç½®é¡¶");
              System.out.println("3.å°†æ­Œæ›²å‰ç§»ä¸€ä½");
              System.out.println("4.é€€å‡º");
              System.out.print("è¯·è¾“å…¥æ“ä½œåºå·ï¼š");
              int key = sc.nextInt();// //æ¥æ”¶é”®ç›˜è¾“å…¥çš„åŠŸèƒ½é€‰é¡¹åºå·
              // æ‰§è¡Œåºå·å¯¹åº”çš„åŠŸèƒ½
              switch (key) {
                  case 1:// æ·»åŠ æ­Œæ›²è‡³åˆ—è¡¨
                      addMusic();
                      break;
                  case 2:// å°†æ­Œæ›²ç½®é¡¶
                      setTop();
                      break;
                  case 3:// å°†æ­Œæ›²å‰ç§»ä¸€ä½
                      setBefore();
                      break;
                  case 4:// é€€å‡º
                      System.out.println("----------------é€€å‡º---------------");
                      System.out.println("æ‚¨å·²é€€å‡ºç³»ç»Ÿ");
                      flag = false;
                      break;
                  default:
                      System.out.println("----------------------------------");
                      System.out.println("åŠŸèƒ½é€‰æ‹©æœ‰è¯¯ï¼Œè¯·è¾“å…¥æ­£ç¡®çš„åŠŸèƒ½åºå·!");
                      break;
              }
  
          }
      }
  
      // åˆå§‹æ—¶æ·»åŠ æ­Œæ›²åç§°
      private static void addMusicList() {
          musicList.add("æœ¬è‰çº²ç›®");
          musicList.add("ä½ æ˜¯æˆ‘çš„çœ¼");
          musicList.add("è€ç”·å­©");
          musicList.add("ç™½æœˆå…‰ä¸æœ±ç ‚ç—£");
          musicList.add("ä¸è°“ä¾ ");
          musicList.add("çˆ±ä½ ");
      }
  
      // æ‰§è¡Œæ·»åŠ æ­Œæ›²
      private static void addMusic() {
          System.out.print("è¯·è¾“å…¥è¦æ·»åŠ çš„æ­Œæ›²åç§°ï¼š");
          String musicName = sc.next();// è·å–é”®ç›˜è¾“å…¥å†…å®¹
          musicList.add(musicName);// æ·»åŠ æ­Œæ›²åˆ°åˆ—è¡¨çš„æœ€å
          System.out.println("å·²æ·»åŠ æ­Œæ›²ï¼š" + musicName);
      }
  
      // æ‰§è¡Œå°†æ­Œæ›²ç½®é¡¶
      private static void setTop() {
          System.out.print("è¯·è¾“å…¥è¦ç½®é¡¶çš„æ­Œæ›²åç§°ï¼š");
          String musicName = sc.next();// è·å–é”®ç›˜è¾“å…¥å†…å®¹
          int musicIndex = musicList.indexOf(musicName);// æŸ¥æ‰¾æŒ‡å®šæ­Œæ›²ä½ç½®
          if (musicIndex < 0) {// åˆ¤æ–­è¾“å…¥æ­Œæ›²æ˜¯å¦å­˜åœ¨
              System.out.println("å½“å‰åˆ—è¡¨ä¸­æ²¡æœ‰è¾“å…¥çš„æ­Œæ›²ï¼");
          }else if(musicIndex == 0){
              System.out.println("å½“å‰æ­Œæ›²é»˜è®¤å·²ç½®é¡¶ï¼");
          }else {
              musicList.remove(musicName);// ç§»é™¤æŒ‡å®šçš„æ­Œæ›²
              musicList.add(0, musicName);// å°†æŒ‡å®šçš„æ­Œæ›²æ”¾åˆ°ç¬¬ä¸€ä½
              System.out.println("å·²å°†æ­Œæ›²ã€Š" + musicName + "ã€‹ç½®é¡¶");
          }
      }
  
      // æ‰§è¡Œå°†æ­Œæ›²ç½®å‰ä¸€ä½
      private static void setBefore() {
          System.out.print("è¯·è¾“å…¥è¦ç½®å‰çš„æ­Œæ›²åç§°ï¼š");
          String musicName = sc.next();// è·å–é”®ç›˜è¾“å…¥å†…å®¹
          int musicIndex = musicList.indexOf(musicName);// æŸ¥æ‰¾æŒ‡å®šæ­Œæ›²ä½ç½®
          if (musicIndex < 0) {// åˆ¤æ–­è¾“å…¥æ­Œæ›²æ˜¯å¦å­˜åœ¨
              System.out.println("å½“å‰åˆ—è¡¨ä¸­æ²¡æœ‰è¾“å…¥çš„æ­Œæ›²ï¼");
          } else if (musicIndex == 0) {// åˆ¤æ–­æ­Œæ›²æ˜¯å¦å·²åœ¨ç¬¬ä¸€ä½
              System.out.println("å½“å‰æ­Œæ›²å·²åœ¨æœ€é¡¶éƒ¨ï¼");
          } else {
              musicList.remove(musicName);// ç§»é™¤æŒ‡å®šçš„æ­Œæ›²
              musicList.add(musicIndex - 1, musicName);// å°†æŒ‡å®šçš„æ­Œæ›²æ”¾åˆ°å‰ä¸€ä½
              System.out.println("å·²å°†æ­Œæ›²ã€Š" + musicName + "ã€‹ç½®å‰ä¸€ä½");
          }
      }
  }
  ```

## 6 Collectionå­æ¥å£2ï¼šSet

### 6.1 Setæ¥å£æ¦‚è¿°

- Setæ¥å£æ˜¯Collectionçš„å­æ¥å£ï¼ŒSetæ¥å£ç›¸è¾ƒäºCollectionæ¥å£æ²¡æœ‰æä¾›é¢å¤–çš„æ–¹æ³•
- Set é›†åˆä¸å…è®¸åŒ…å«ç›¸åŒçš„å…ƒç´ ï¼Œå¦‚æœè¯•æŠŠä¸¤ä¸ªç›¸åŒçš„å…ƒç´ åŠ å…¥åŒä¸€ä¸ª Set é›†åˆä¸­ï¼Œåˆ™æ·»åŠ æ“ä½œå¤±è´¥ã€‚
- Seté›†åˆæ”¯æŒçš„éå†æ–¹å¼å’ŒCollectioné›†åˆä¸€æ ·ï¼šforeachå’ŒIteratorã€‚
- Setçš„å¸¸ç”¨å®ç°ç±»æœ‰ï¼šHashSetã€TreeSetã€LinkedHashSetã€‚

### 6.2 Setä¸»è¦å®ç°ç±»ï¼šHashSet

#### 6.2.1 HashSetæ¦‚è¿°

- HashSet æ˜¯ Set æ¥å£çš„ä¸»è¦å®ç°ç±»ï¼Œå¤§å¤šæ•°æ—¶å€™ä½¿ç”¨ Set é›†åˆæ—¶éƒ½ä½¿ç”¨è¿™ä¸ªå®ç°ç±»ã€‚

- HashSet æŒ‰ Hash ç®—æ³•æ¥å­˜å‚¨é›†åˆä¸­çš„å…ƒç´ ï¼Œå› æ­¤å…·æœ‰å¾ˆå¥½çš„å­˜å‚¨ã€æŸ¥æ‰¾ã€åˆ é™¤æ€§èƒ½ã€‚

- HashSet å…·æœ‰ä»¥ä¸‹`ç‰¹ç‚¹`ï¼š
  - ä¸èƒ½ä¿è¯å…ƒç´ çš„æ’åˆ—é¡ºåº
  - HashSet ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„
  - é›†åˆå…ƒç´ å¯ä»¥æ˜¯ null
  
- HashSet é›†åˆ`åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æ ‡å‡†`ï¼šä¸¤ä¸ªå¯¹è±¡é€šè¿‡ `hashCode()` æ–¹æ³•å¾—åˆ°çš„å“ˆå¸Œå€¼ç›¸ç­‰ï¼Œå¹¶ä¸”ä¸¤ä¸ªå¯¹è±¡çš„ `equals() `æ–¹æ³•è¿”å›å€¼ä¸ºtrueã€‚

- å¯¹äºå­˜æ”¾åœ¨Setå®¹å™¨ä¸­çš„å¯¹è±¡ï¼Œ**å¯¹åº”çš„ç±»ä¸€å®šè¦é‡å†™hashCode()å’Œequals(Object obj)æ–¹æ³•**ï¼Œä»¥å®ç°å¯¹è±¡ç›¸ç­‰è§„åˆ™ã€‚å³ï¼šâ€œç›¸ç­‰çš„å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸ç­‰çš„æ•£åˆ—ç â€ã€‚

- HashSeté›†åˆä¸­å…ƒç´ çš„æ— åºæ€§ï¼Œä¸ç­‰åŒäºéšæœºæ€§ã€‚è¿™é‡Œçš„æ— åºæ€§ä¸å…ƒç´ çš„æ·»åŠ ä½ç½®æœ‰å…³ã€‚å…·ä½“æ¥è¯´ï¼šæˆ‘ä»¬åœ¨æ·»åŠ æ¯ä¸€ä¸ªå…ƒç´ åˆ°æ•°ç»„ä¸­æ—¶ï¼Œå…·ä½“çš„å­˜å‚¨ä½ç½®æ˜¯ç”±å…ƒç´ çš„hashCode()è°ƒç”¨åè¿”å›çš„hashå€¼å†³å®šçš„ã€‚å¯¼è‡´åœ¨æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ ä¸æ˜¯ä¾æ¬¡ç´§å¯†å­˜æ”¾çš„ï¼Œè¡¨ç°å‡ºä¸€å®šçš„æ— åºæ€§ã€‚


#### 6.2.2 HashSetä¸­æ·»åŠ å…ƒç´ çš„è¿‡ç¨‹ï¼š

- ç¬¬1æ­¥ï¼šå½“å‘ HashSet é›†åˆä¸­å­˜å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼ŒHashSet ä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„ hashCode() æ–¹æ³•å¾—åˆ°è¯¥å¯¹è±¡çš„ hashCodeå€¼ï¼Œç„¶åæ ¹æ® hashCodeå€¼ï¼Œé€šè¿‡æŸä¸ªæ•£åˆ—å‡½æ•°å†³å®šè¯¥å¯¹è±¡åœ¨ HashSet åº•å±‚æ•°ç»„ä¸­çš„å­˜å‚¨ä½ç½®ã€‚
  
- ç¬¬2æ­¥ï¼šå¦‚æœè¦åœ¨æ•°ç»„ä¸­å­˜å‚¨çš„ä½ç½®ä¸Šæ²¡æœ‰å…ƒç´ ï¼Œåˆ™ç›´æ¥æ·»åŠ æˆåŠŸã€‚
  
- ç¬¬3æ­¥ï¼šå¦‚æœè¦åœ¨æ•°ç»„ä¸­å­˜å‚¨çš„ä½ç½®ä¸Šæœ‰å…ƒç´ ï¼Œåˆ™ç»§ç»­æ¯”è¾ƒï¼š
  
  - å¦‚æœä¸¤ä¸ªå…ƒç´ çš„hashCodeå€¼ä¸ç›¸ç­‰ï¼Œåˆ™æ·»åŠ æˆåŠŸï¼›
  - å¦‚æœä¸¤ä¸ªå…ƒç´ çš„hashCode()å€¼ç›¸ç­‰ï¼Œåˆ™ä¼šç»§ç»­è°ƒç”¨equals()æ–¹æ³•ï¼š
    - å¦‚æœequals()æ–¹æ³•ç»“æœä¸ºfalseï¼Œåˆ™æ·»åŠ æˆåŠŸã€‚
    - å¦‚æœequals()æ–¹æ³•ç»“æœä¸ºtrueï¼Œåˆ™æ·»åŠ å¤±è´¥ã€‚
  
  > ç¬¬2æ­¥æ·»åŠ æˆåŠŸï¼Œå…ƒç´ ä¼šä¿å­˜åœ¨åº•å±‚æ•°ç»„ä¸­ã€‚
  >
  > ç¬¬3æ­¥ä¸¤ç§æ·»åŠ æˆåŠŸçš„æ“ä½œï¼Œç”±äºè¯¥åº•å±‚æ•°ç»„çš„ä½ç½®å·²ç»æœ‰å…ƒç´ äº†ï¼Œåˆ™ä¼šé€šè¿‡`é“¾è¡¨`çš„æ–¹å¼ç»§ç»­é“¾æ¥ï¼Œå­˜å‚¨ã€‚

ä¸¾ä¾‹ï¼š

```java
package com.atguigu.set;

import java.util.Objects;

public class MyDate {
    private int year;
    private int month;
    private int day;

    public MyDate(int year, int month, int day) {
        this.year = year;
        this.month = month;
        this.day = day;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        MyDate myDate = (MyDate) o;
        return year == myDate.year &&
                month == myDate.month &&
                day == myDate.day;
    }

    @Override
    public int hashCode() {
        return Objects.hash(year, month, day);
    }

    @Override
    public String toString() {
        return "MyDate{" +
                "year=" + year +
                ", month=" + month +
                ", day=" + day +
                '}';
    }
}
```

```java
package com.atguigu.set;

import org.junit.Test;

import java.util.HashSet;

public class TestHashSet {
    @Test
    public void test01(){
        HashSet set = new HashSet();
        set.add("å¼ ä¸‰");
        set.add("å¼ ä¸‰");
        set.add("æå››");
        set.add("ç‹äº”");
        set.add("ç‹äº”");
        set.add("èµµå…­");

        System.out.println("set = " + set);//ä¸å…è®¸é‡å¤ï¼Œæ— åº
    }

    @Test
    public void test02(){
        HashSet set = new HashSet();
        set.add(new MyDate(2021,1,1));
        set.add(new MyDate(2021,1,1));
        set.add(new MyDate(2022,2,4));
        set.add(new MyDate(2022,2,4));


        System.out.println("set = " + set);//ä¸å…è®¸é‡å¤ï¼Œæ— åº
    }
}
```

#### 6.2.3 é‡å†™ hashCode() æ–¹æ³•çš„åŸºæœ¬åŸåˆ™

- åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼ŒåŒä¸€ä¸ªå¯¹è±¡å¤šæ¬¡è°ƒç”¨ hashCode() æ–¹æ³•åº”è¯¥è¿”å›ç›¸åŒçš„å€¼ã€‚
- å½“ä¸¤ä¸ªå¯¹è±¡çš„ equals() æ–¹æ³•æ¯”è¾ƒè¿”å› true æ—¶ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡çš„ hashCode() æ–¹æ³•çš„è¿”å›å€¼ä¹Ÿåº”ç›¸ç­‰ã€‚
- å¯¹è±¡ä¸­ç”¨ä½œ equals() æ–¹æ³•æ¯”è¾ƒçš„ Fieldï¼Œéƒ½åº”è¯¥ç”¨æ¥è®¡ç®— hashCode å€¼ã€‚


> æ³¨æ„ï¼šå¦‚æœä¸¤ä¸ªå…ƒç´ çš„ equals() æ–¹æ³•è¿”å› trueï¼Œä½†å®ƒä»¬çš„ hashCode() è¿”å›å€¼ä¸ç›¸ç­‰ï¼ŒhashSet å°†ä¼šæŠŠå®ƒä»¬å­˜å‚¨åœ¨ä¸åŒçš„ä½ç½®ï¼Œä½†ä¾ç„¶å¯ä»¥æ·»åŠ æˆåŠŸã€‚

#### 6.2.4 é‡å†™equals()æ–¹æ³•çš„åŸºæœ¬åŸåˆ™

- é‡å†™equalsæ–¹æ³•çš„æ—¶å€™ä¸€èˆ¬éƒ½éœ€è¦åŒæ—¶å¤å†™hashCodeæ–¹æ³•ã€‚é€šå¸¸å‚ä¸è®¡ç®—hashCodeçš„å¯¹è±¡çš„å±æ€§ä¹Ÿåº”è¯¥å‚ä¸åˆ°equals()ä¸­è¿›è¡Œè®¡ç®—ã€‚

- æ¨èï¼šå¼€å‘ä¸­ç›´æ¥è°ƒç”¨Eclipse/IDEAé‡Œçš„å¿«æ·é”®è‡ªåŠ¨é‡å†™equals()å’ŒhashCode()æ–¹æ³•å³å¯ã€‚

  - ä¸ºä»€ä¹ˆç”¨Eclipse/IDEAå¤å†™hashCodeæ–¹æ³•ï¼Œæœ‰31è¿™ä¸ªæ•°å­—ï¼Ÿ

  ```
  é¦–å…ˆï¼Œé€‰æ‹©ç³»æ•°çš„æ—¶å€™è¦é€‰æ‹©å°½é‡å¤§çš„ç³»æ•°ã€‚å› ä¸ºå¦‚æœè®¡ç®—å‡ºæ¥çš„hashåœ°å€è¶Šå¤§ï¼Œæ‰€è°“çš„â€œå†²çªâ€å°±è¶Šå°‘ï¼ŒæŸ¥æ‰¾èµ·æ¥æ•ˆç‡ä¹Ÿä¼šæé«˜ã€‚ï¼ˆå‡å°‘å†²çªï¼‰
  
  å…¶æ¬¡ï¼Œ31åªå ç”¨5bits,ç›¸ä¹˜é€ æˆæ•°æ®æº¢å‡ºçš„æ¦‚ç‡è¾ƒå°ã€‚
  
  å†æ¬¡ï¼Œ31å¯ä»¥ ç”±i*31== (i<<5)-1æ¥è¡¨ç¤º,ç°åœ¨å¾ˆå¤šè™šæ‹Ÿæœºé‡Œé¢éƒ½æœ‰åšç›¸å…³ä¼˜åŒ–ã€‚ï¼ˆæé«˜ç®—æ³•æ•ˆç‡ï¼‰
  
  æœ€åï¼Œ31æ˜¯ä¸€ä¸ªç´ æ•°ï¼Œç´ æ•°ä½œç”¨å°±æ˜¯å¦‚æœæˆ‘ç”¨ä¸€ä¸ªæ•°å­—æ¥ä¹˜ä»¥è¿™ä¸ªç´ æ•°ï¼Œé‚£ä¹ˆæœ€ç»ˆå‡ºæ¥çš„ç»“æœåªèƒ½è¢«ç´ æ•°æœ¬èº«å’Œè¢«ä¹˜æ•°è¿˜æœ‰1æ¥æ•´é™¤ï¼(å‡å°‘å†²çª)
  ```

#### 6.2.5 ç»ƒä¹ 

**ç»ƒä¹ 1ï¼š** åœ¨Listå†…å»é™¤é‡å¤æ•°å­—å€¼ï¼Œè¦æ±‚å°½é‡ç®€å•

```java
public static List duplicateList(List list) {
      HashSet set = new HashSet();
      set.addAll(list);
      return new ArrayList(set);
}
public static void main(String[] args) {
      List list = new ArrayList();
      list.add(new Integer(1));
      list.add(new Integer(2));
      list.add(new Integer(2));
      list.add(new Integer(4));
      list.add(new Integer(4));
      List list2 = duplicateList(list);
      for (Object integer : list2) {
          System.out.println(integer);
      }
}

```

**ç»ƒä¹ 2ï¼š** è·å–éšæœºæ•°

ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œè·å–10ä¸ª1è‡³20çš„éšæœºæ•°ï¼Œè¦æ±‚éšæœºæ•°ä¸èƒ½é‡å¤ã€‚å¹¶æŠŠæœ€ç»ˆçš„éšæœºæ•°è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚

```java
/**
 * 
 * @Description 
 * @author å°šç¡…è°·-å®‹çº¢åº·
 * @date 2022å¹´5æœˆ7æ—¥ä¸Šåˆ12:43:01
 *
 */
public class RandomValueTest {
	public static void main(String[] args) {
		HashSet hs = new HashSet(); // åˆ›å»ºé›†åˆå¯¹è±¡
		Random r = new Random();
		while (hs.size() < 10) {
			int num = r.nextInt(20) + 1; // ç”Ÿæˆ1åˆ°20çš„éšæœºæ•°
			hs.add(num);
		}

		for (Integer integer : hs) { // éå†é›†åˆ
			System.out.println(integer); // æ‰“å°æ¯ä¸€ä¸ªå…ƒç´ 
		}
	}
}

```

**ç»ƒä¹ 3ï¼š** å»é‡

ä½¿ç”¨Scannerä»é”®ç›˜è¯»å–ä¸€è¡Œè¾“å…¥ï¼Œå»æ‰å…¶ä¸­é‡å¤å­—ç¬¦ï¼Œæ‰“å°å‡ºä¸åŒçš„é‚£äº›å­—ç¬¦ã€‚æ¯”å¦‚ï¼šaaaabbbcccddd

```java
/**
 * 
 * @Description 
 * @author å°šç¡…è°·-å®‹çº¢åº·
 * @date 2022å¹´5æœˆ7æ—¥ä¸Šåˆ12:44:01
 *
 */
public class DistinctTest {
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in); // åˆ›å»ºé”®ç›˜å½•å…¥å¯¹è±¡
		System.out.println("è¯·è¾“å…¥ä¸€è¡Œå­—ç¬¦ä¸²:");
		String line = sc.nextLine(); // å°†é”®ç›˜å½•å…¥çš„å­—ç¬¦ä¸²å­˜å‚¨åœ¨lineä¸­
		char[] arr = line.toCharArray(); // å°†å­—ç¬¦ä¸²è½¬æ¢æˆå­—ç¬¦æ•°ç»„
        
		HashSet hs = new HashSet(); // åˆ›å»ºHashSeté›†åˆå¯¹è±¡

		for (Object c : arr) { // éå†å­—ç¬¦æ•°ç»„
			hs.add(c); // å°†å­—ç¬¦æ•°ç»„ä¸­çš„å­—ç¬¦æ·»åŠ åˆ°é›†åˆä¸­
		}

		for (Object ch : hs) { // éå†é›†åˆ
			System.out.print(ch);
		}
	}
}

```

**ç»ƒä¹ 4ï¼š** é¢è¯•é¢˜

```java
HashSet set = new HashSet();
Person p1 = new Person(1001,"AA");
Person p2 = new Person(1002,"BB");

set.add(p1);
set.add(p2);
p1.name = "CC";
set.remove(p1);
System.out.println(set);

set.add(new Person(1001,"CC"));
System.out.println(set);

set.add(new Person(1001,"AA"));
System.out.println(set);

//å…¶ä¸­Personç±»ä¸­é‡å†™äº†hashCode()å’Œequal()æ–¹æ³•

```

### 6.3 Setå®ç°ç±»ä¹‹äºŒï¼šLinkedHashSet

- LinkedHashSet æ˜¯ HashSet çš„å­ç±»ï¼Œä¸å…è®¸é›†åˆå…ƒç´ é‡å¤ã€‚

- LinkedHashSet æ ¹æ®å…ƒç´ çš„ hashCode å€¼æ¥å†³å®šå…ƒç´ çš„å­˜å‚¨ä½ç½®ï¼Œä½†å®ƒåŒæ—¶ä½¿ç”¨`åŒå‘é“¾è¡¨`ç»´æŠ¤å…ƒç´ çš„æ¬¡åºï¼Œè¿™ä½¿å¾—å…ƒç´ çœ‹èµ·æ¥æ˜¯ä»¥`æ·»åŠ é¡ºåº`ä¿å­˜çš„ã€‚

- LinkedHashSet`æ’å…¥æ€§èƒ½ç•¥ä½`äº HashSetï¼Œä½†åœ¨`è¿­ä»£è®¿é—®` Set é‡Œçš„å…¨éƒ¨å…ƒç´ æ—¶æœ‰å¾ˆå¥½çš„æ€§èƒ½ã€‚

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/dd0471d6f3125a4f5979effbfa01b5df.png)


ä¸¾ä¾‹ï¼š

```java
package com.atguigu.set;

import org.junit.Test;

import java.util.LinkedHashSet;

public class TestLinkedHashSet {
    @Test
    public void test01(){
        LinkedHashSet set = new LinkedHashSet();
        set.add("å¼ ä¸‰");
        set.add("å¼ ä¸‰");
        set.add("æå››");
        set.add("ç‹äº”");
        set.add("ç‹äº”");
        set.add("èµµå…­");

        System.out.println("set = " + set);//ä¸å…è®¸é‡å¤ï¼Œä½“ç°æ·»åŠ é¡ºåº
    }
}
```

### 6.4 Setå®ç°ç±»ä¹‹ä¸‰ï¼šTreeSet

#### 6.4.1 TreeSetæ¦‚è¿°

- TreeSet æ˜¯ SortedSet æ¥å£çš„å®ç°ç±»ï¼ŒTreeSet å¯ä»¥æŒ‰ç…§æ·»åŠ çš„å…ƒç´ çš„æŒ‡å®šçš„å±æ€§çš„å¤§å°é¡ºåºè¿›è¡Œéå†ã€‚
- TreeSetåº•å±‚ä½¿ç”¨`çº¢é»‘æ ‘`ç»“æ„å­˜å‚¨æ•°æ®
- æ–°å¢çš„æ–¹æ³•å¦‚ä¸‹ï¼š (äº†è§£)
  - Comparator comparator()
  - Object first()
  - Object last()
  - Object lower(Object e)
  - Object higher(Object e)
  - SortedSet subSet(fromElement, toElement)
  - SortedSet headSet(toElement)
  - SortedSet tailSet(fromElement)
- TreeSetç‰¹ç‚¹ï¼šä¸å…è®¸é‡å¤ã€å®ç°æ’åºï¼ˆè‡ªç„¶æ’åºæˆ–å®šåˆ¶æ’åºï¼‰
- TreeSet ä¸¤ç§æ’åºæ–¹æ³•ï¼š`è‡ªç„¶æ’åº`å’Œ`å®šåˆ¶æ’åº`ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒTreeSet é‡‡ç”¨è‡ªç„¶æ’åºã€‚
  - `è‡ªç„¶æ’åº`ï¼šTreeSet ä¼šè°ƒç”¨é›†åˆå…ƒç´ çš„ compareTo(Object obj) æ–¹æ³•æ¥æ¯”è¾ƒå…ƒç´ ä¹‹é—´çš„å¤§å°å…³ç³»ï¼Œç„¶åå°†é›†åˆå…ƒç´ æŒ‰å‡åº(é»˜è®¤æƒ…å†µ)æ’åˆ—ã€‚
    - å¦‚æœè¯•å›¾æŠŠä¸€ä¸ªå¯¹è±¡æ·»åŠ åˆ° TreeSet æ—¶ï¼Œåˆ™è¯¥å¯¹è±¡çš„ç±»å¿…é¡»å®ç° Comparable æ¥å£ã€‚
    - å®ç° Comparable çš„ç±»å¿…é¡»å®ç° compareTo(Object obj) æ–¹æ³•ï¼Œä¸¤ä¸ªå¯¹è±¡å³é€šè¿‡ compareTo(Object obj) æ–¹æ³•çš„è¿”å›å€¼æ¥æ¯”è¾ƒå¤§å°ã€‚
  - `å®šåˆ¶æ’åº`ï¼šå¦‚æœå…ƒç´ æ‰€å±çš„ç±»æ²¡æœ‰å®ç°Comparableæ¥å£ï¼Œæˆ–ä¸å¸Œæœ›æŒ‰ç…§å‡åº(é»˜è®¤æƒ…å†µ)çš„æ–¹å¼æ’åˆ—å…ƒç´ æˆ–å¸Œæœ›æŒ‰ç…§å…¶å®ƒå±æ€§å¤§å°è¿›è¡Œæ’åºï¼Œåˆ™è€ƒè™‘ä½¿ç”¨å®šåˆ¶æ’åºã€‚å®šåˆ¶æ’åºï¼Œé€šè¿‡Comparatoræ¥å£æ¥å®ç°ã€‚éœ€è¦é‡å†™compare(T o1,T o2)æ–¹æ³•ã€‚
    - åˆ©ç”¨int compare(T o1,T o2)æ–¹æ³•ï¼Œæ¯”è¾ƒo1å’Œo2çš„å¤§å°ï¼šå¦‚æœæ–¹æ³•è¿”å›æ­£æ•´æ•°ï¼Œåˆ™è¡¨ç¤ºo1å¤§äºo2ï¼›å¦‚æœè¿”å›0ï¼Œè¡¨ç¤ºç›¸ç­‰ï¼›è¿”å›è´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºo1å°äºo2ã€‚
    - è¦å®ç°å®šåˆ¶æ’åºï¼Œéœ€è¦å°†å®ç°Comparatoræ¥å£çš„å®ä¾‹ä½œä¸ºå½¢å‚ä¼ é€’ç»™TreeSetçš„æ„é€ å™¨ã€‚
- å› ä¸ºåªæœ‰ç›¸åŒç±»çš„ä¸¤ä¸ªå®ä¾‹æ‰ä¼šæ¯”è¾ƒå¤§å°ï¼Œæ‰€ä»¥å‘ TreeSet ä¸­æ·»åŠ çš„åº”è¯¥æ˜¯`åŒä¸€ä¸ªç±»çš„å¯¹è±¡`ã€‚
- å¯¹äº TreeSet é›†åˆè€Œè¨€ï¼Œå®ƒåˆ¤æ–­`ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„å”¯ä¸€æ ‡å‡†`æ˜¯ï¼šä¸¤ä¸ªå¯¹è±¡é€šè¿‡ `compareTo(Object obj) æˆ–compare(Object o1,Object o2)`æ–¹æ³•æ¯”è¾ƒè¿”å›å€¼ã€‚è¿”å›å€¼ä¸º0ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ã€‚

#### 6.4.2 ä¸¾ä¾‹

ä¸¾ä¾‹1ï¼š

```java
package com.atguigu.set;


import org.junit.Test;
import java.util.Iterator;
import java.util.TreeSet;

/**
 * @author å°šç¡…è°·-å®‹çº¢åº·
 * @create 14:22
 */
public class TreeSetTest {
    /*
    * è‡ªç„¶æ’åºï¼šé’ˆå¯¹Stringç±»çš„å¯¹è±¡
    * */
    @Test
    public void test1(){
        TreeSet set = new TreeSet();

        set.add("MM");
        set.add("CC");
        set.add("AA");
        set.add("DD");
        set.add("ZZ");
        //set.add(123);  //æŠ¥ClassCastExceptionçš„å¼‚å¸¸

        Iterator iterator = set.iterator();
        while(iterator.hasNext()){
            System.out.println(iterator.next());
        }
    }
    /*
    * è‡ªç„¶æ’åºï¼šé’ˆå¯¹Userç±»çš„å¯¹è±¡
    * */
    @Test
    public void test2(){
        TreeSet set = new TreeSet();

        set.add(new User("Tom",12));
        set.add(new User("Rose",23));
        set.add(new User("Jerry",2));
        set.add(new User("Eric",18));
        set.add(new User("Tommy",44));
        set.add(new User("Jim",23));
        set.add(new User("Maria",18));
        //set.add("Tom");

        Iterator iterator = set.iterator();
        while(iterator.hasNext()){
            System.out.println(iterator.next());
        }

        System.out.println(set.contains(new User("Jack", 23))); //true
    }
}
```

å…¶ä¸­ï¼ŒUserç±»å®šä¹‰å¦‚ä¸‹ï¼š

```java
/**
 * @author å°šç¡…è°·-å®‹çº¢åº·
 * @create 14:22
 */
public class User implements Comparable{
    String name;
    int age;
    
	public User() {
    }
    
    public User(String name, int age) {
        this.name = name;
        this.age = age;
    }
    
    @Override
    public String toString() {
        return "User{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }
    /*
    ä¸¾ä¾‹ï¼šæŒ‰ç…§ageä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ï¼Œå¦‚æœageç›¸åŒï¼Œåˆ™æŒ‰ç…§nameä»å¤§åˆ°å°çš„é¡ºåºæ’åˆ—
    * */
    public int compareTo(Object o) {
        if(this == o){
            return 0;
        }

        if(o instanceof User){
            User user = (User)o;
            int value = this.age - user.age;
            if(value != 0){
                return value;
            }
            return -this.name.compareTo(user.name);
        }
        throw new RuntimeException("è¾“å…¥çš„ç±»å‹ä¸åŒ¹é…");
    }
}

```

ä¸¾ä¾‹2ï¼š

```java
/*
 * å®šåˆ¶æ’åº
 * */
@Test
public void test3(){
    //æŒ‰ç…§Userçš„å§“åçš„ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—
    Comparator comparator = new Comparator() {
        @Override
        public int compare(Object o1, Object o2) {
            if(o1 instanceof User && o2 instanceof User){
                User u1 = (User)o1;
                User u2 = (User)o2;

                return u1.name.compareTo(u2.name);
            }
            throw new RuntimeException("è¾“å…¥çš„ç±»å‹ä¸åŒ¹é…");
        }
    };
    TreeSet set = new TreeSet(comparator);

    set.add(new User("Tom",12));
    set.add(new User("Rose",23));
    set.add(new User("Jerry",2));
    set.add(new User("Eric",18));
    set.add(new User("Tommy",44));
    set.add(new User("Jim",23));
    set.add(new User("Maria",18));
    //set.add(new User("Maria",28));

    Iterator iterator = set.iterator();
    while(iterator.hasNext()){
        System.out.println(iterator.next());
    }
}
```

#### 6.4.3 ç»ƒä¹ 

**ç»ƒä¹ 1ï¼š** åœ¨ä¸€ä¸ªListé›†åˆä¸­å­˜å‚¨äº†å¤šä¸ªæ— å¤§å°é¡ºåºå¹¶ä¸”æœ‰é‡å¤çš„å­—ç¬¦ä¸²ï¼Œå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œè®©å…¶æœ‰åº(ä»å°åˆ°å¤§æ’åº)ï¼Œå¹¶ä¸”ä¸èƒ½å»é™¤é‡å¤å…ƒç´ ã€‚

æç¤ºï¼šè€ƒæŸ¥ArrayListã€TreeSet

```java
/**
 * 
 * @Description
 * @author å°šç¡…è°·-å®‹çº¢åº·
 * @date 2022å¹´4æœˆ7æ—¥ä¸Šåˆ12:50:46
 *
 */
public class SortTest {
	public static void main(String[] args) {
		ArrayList list = new ArrayList();
		list.add("ccc");
		list.add("ccc");
		list.add("aaa");
		list.add("aaa");
		list.add("bbb");
		list.add("ddd");
		list.add("ddd");
		sort(list);
		System.out.println(list);
	}

	/*
	 * å¯¹é›†åˆä¸­çš„å…ƒç´ æ’åº,å¹¶ä¿ç•™é‡å¤
	 */
	public static void sort(List list) {
		TreeSet ts = new TreeSet(new Comparator() { 
			@Override
			public int compare(Object o1, Object o2) { // é‡å†™compareæ–¹æ³•
                String s1 = (String)o1;
                String s2 = (String)o2;
				int num = s1.compareTo(s2); // æ¯”è¾ƒå†…å®¹
				return num == 0 ? 1 : num; // å¦‚æœå†…å®¹ä¸€æ ·è¿”å›ä¸€ä¸ªä¸ä¸º0çš„æ•°å­—å³å¯
			}
		});

		ts.addAll(list); // å°†listé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°tsä¸­
		list.clear(); // æ¸…ç©ºlist
		list.addAll(ts); // å°†tsä¸­æ’åºå¹¶ä¿ç•™é‡å¤çš„ç»“æœåœ¨æ·»åŠ åˆ°listä¸­
	}
}

```

**ç»ƒä¹ 2ï¼š** TreeSetçš„è‡ªç„¶æ’åºå’Œå®šåˆ¶æ’åº

1. å®šä¹‰ä¸€ä¸ªEmployeeç±»ã€‚
è¯¥ç±»åŒ…å«ï¼šprivateæˆå‘˜å˜é‡name,age,birthdayï¼Œå…¶ä¸­ birthday ä¸º MyDate ç±»çš„å¯¹è±¡ï¼›
å¹¶ä¸ºæ¯ä¸€ä¸ªå±æ€§å®šä¹‰ getter, setter æ–¹æ³•ï¼›
å¹¶é‡å†™ toString æ–¹æ³•è¾“å‡º name, age, birthday

2. MyDateç±»åŒ…å«:
   privateæˆå‘˜å˜é‡year,month,dayï¼›å¹¶ä¸ºæ¯ä¸€ä¸ªå±æ€§å®šä¹‰ getter, setter æ–¹æ³•ï¼›

3. åˆ›å»ºè¯¥ç±»çš„ 5 ä¸ªå¯¹è±¡ï¼Œå¹¶æŠŠè¿™äº›å¯¹è±¡æ”¾å…¥ TreeSet é›†åˆä¸­ï¼ˆä¸‹ä¸€ç« ï¼šTreeSet éœ€ä½¿ç”¨æ³›å‹æ¥å®šä¹‰ï¼‰

4. åˆ†åˆ«æŒ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶éå†è¾“å‡ºï¼š

   1). ä½¿Employee å®ç° Comparable æ¥å£ï¼Œå¹¶æŒ‰ name æ’åº
   2). åˆ›å»º TreeSet æ—¶ä¼ å…¥ Comparatorå¯¹è±¡ï¼ŒæŒ‰ç”Ÿæ—¥æ—¥æœŸçš„å…ˆåæ’åºã€‚

ä»£ç å®ç°ï¼š

```java
public class MyDate implements Comparable{
    private int year;
    private int month;
    private int day;

    public MyDate() {
    }

    public MyDate(int year, int month, int day) {
        this.year = year;
        this.month = month;
        this.day = day;
    }

    public int getYear() {
        return year;
    }

    public void setYear(int year) {
        this.year = year;
    }

    public int getMonth() {
        return month;
    }

    public void setMonth(int month) {
        this.month = month;
    }

    public int getDay() {
        return day;
    }

    public void setDay(int day) {
        this.day = day;
    }

    @Override
    public String toString() {
//        return "MyDate{" +
//                "year=" + year +
//                ", month=" + month +
//                ", day=" + day +
//                '}';
        return year + "å¹´" + month + "æœˆ" + day + "æ—¥";
    }

    @Override
    public int compareTo(Object o) {
        if(this == o){
            return 0;
        }
        if(o instanceof MyDate){
            MyDate myDate = (MyDate) o;
            int yearDistance = this.getYear() - myDate.getYear();
            if(yearDistance != 0){
                return yearDistance;
            }
            int monthDistance = this.getMonth() - myDate.getMonth();
            if(monthDistance != 0){
                return monthDistance;
            }

            return this.getDay() - myDate.getDay();
        }
        throw new RuntimeException("è¾“å…¥çš„ç±»å‹ä¸åŒ¹é…");
    }
}
```

```java
public class Employee implements Comparable{
    private String name;
    private int age;
    private MyDate birthday;


    public Employee() {
    }

    public Employee(String name, int age, MyDate birthday) {
        this.name = name;
        this.age = age;
        this.birthday = birthday;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public MyDate getBirthday() {
        return birthday;
    }

    public void setBirthday(MyDate birthday) {
        this.birthday = birthday;
    }

    @Override
    public String toString() {
        return "Employee{" +
                "name='" + name + '\'' +
                ", age='" + age + '\'' +
                ", birthday=" + birthday +
                '}';
    }

    @Override
    public int compareTo(Object o) {
        if(o == this){
            return 0;
        }
        if(o instanceof Employee){
            Employee emp = (Employee) o;
            return this.name.compareTo(emp.name);
        }
        throw new RuntimeException("ä¼ å…¥çš„ç±»å‹ä¸åŒ¹é…");
    }
}
```

```java
public class EmployeeTest {
    /*
    è‡ªç„¶æ’åºï¼š
    åˆ›å»ºè¯¥ç±»çš„ 5 ä¸ªå¯¹è±¡ï¼Œå¹¶æŠŠè¿™äº›å¯¹è±¡æ”¾å…¥ TreeSet é›†åˆä¸­
    * éœ€æ±‚1ï¼šä½¿Employee å®ç° Comparable æ¥å£ï¼Œå¹¶æŒ‰ name æ’åº
    * */
    @Test
    public void test1(){
        TreeSet set = new TreeSet();

        Employee e1 = new Employee("Tom",23,new MyDate(1999,7,9));
        Employee e2 = new Employee("Rose",43,new MyDate(1999,7,19));
        Employee e3 = new Employee("Jack",54,new MyDate(1998,12,21));
        Employee e4 = new Employee("Jerry",12,new MyDate(2002,4,21));
        Employee e5 = new Employee("Tony",22,new MyDate(2001,9,12));

        set.add(e1);
        set.add(e2);
        set.add(e3);
        set.add(e4);
        set.add(e5);

        //éå†
        Iterator iterator = set.iterator();
        while(iterator.hasNext()){
            System.out.println(iterator.next());
        }
    }

    /*
    * å®šåˆ¶æ’åºï¼š
    * åˆ›å»º TreeSet æ—¶ä¼ å…¥ Comparatorå¯¹è±¡ï¼ŒæŒ‰ç”Ÿæ—¥æ—¥æœŸçš„å…ˆåæ’åºã€‚
    * */
    @Test
    public void test2(){
        Comparator comparator = new Comparator() {
            @Override
            public int compare(Object o1, Object o2) {
                if(o1 instanceof Employee && o2 instanceof Employee){
                    Employee e1 = (Employee) o1;
                    Employee e2 = (Employee) o2;
                    //å¯¹æ¯”ä¸¤ä¸ªemployeeçš„ç”Ÿæ—¥çš„å¤§å°
                    MyDate birth1 = e1.getBirthday();
                    MyDate birth2 = e2.getBirthday();
                    //æ–¹å¼1ï¼š
//                    int yearDistance = birth1.getYear() - birth2.getYear();
//                    if(yearDistance != 0){
//                        return yearDistance;
//                    }
//                    int monthDistance = birth1.getMonth() - birth2.getMonth();
//                    if(monthDistance != 0){
//                        return monthDistance;
//                    }
//
//                    return birth1.getDay() - birth2.getDay();

                    //æ–¹å¼2ï¼š
                    return birth1.compareTo(birth2);
                }

                throw new RuntimeException("è¾“å…¥çš„ç±»å‹ä¸åŒ¹é…");

            }
        };
        TreeSet set = new TreeSet(comparator);

        Employee e1 = new Employee("Tom",23,new MyDate(1999,7,9));
        Employee e2 = new Employee("Rose",43,new MyDate(1999,7,19));
        Employee e3 = new Employee("Jack",54,new MyDate(1998,12,21));
        Employee e4 = new Employee("Jerry",12,new MyDate(2002,4,21));
        Employee e5 = new Employee("Tony",22,new MyDate(2001,9,12));

        set.add(e1);
        set.add(e2);
        set.add(e3);
        set.add(e4);
        set.add(e5);

        //éå†
        Iterator iterator = set.iterator();
        while(iterator.hasNext()){
            System.out.println(iterator.next());
        }

    }
}
```

## 7 Mapæ¥å£

ç°å®ç”Ÿæ´»ä¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸ä¼šçœ‹åˆ°è¿™æ ·çš„ä¸€ç±»é›†åˆï¼šç”¨æˆ·IDä¸è´¦æˆ·ä¿¡æ¯ã€å­¦ç”Ÿå§“åä¸è€ƒè¯•æˆç»©ã€IPåœ°å€ä¸ä¸»æœºåç­‰ï¼Œè¿™ç§ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œå°±ç§°ä½œæ˜ å°„ã€‚Javaæä¾›äº†ä¸“é—¨çš„é›†åˆæ¡†æ¶ç”¨æ¥å­˜å‚¨è¿™ç§æ˜ å°„å…³ç³»çš„å¯¹è±¡ï¼Œå³`java.util.Map`æ¥å£ã€‚

### 7.1 Mapæ¥å£æ¦‚è¿°

- Mapä¸Collectionå¹¶åˆ—å­˜åœ¨ã€‚ç”¨äºä¿å­˜å…·æœ‰`æ˜ å°„å…³ç³»`çš„æ•°æ®ï¼škey-value
  - `Collection`é›†åˆç§°ä¸ºå•åˆ—é›†åˆï¼Œå…ƒç´ æ˜¯å­¤ç«‹å­˜åœ¨çš„ï¼ˆç†è§£ä¸ºå•èº«ï¼‰ã€‚
  - `Map`é›†åˆç§°ä¸ºåŒåˆ—é›†åˆï¼Œå…ƒç´ æ˜¯æˆå¯¹å­˜åœ¨çš„(ç†è§£ä¸ºå¤«å¦»)ã€‚
  
- Map ä¸­çš„ key å’Œ  value éƒ½å¯ä»¥æ˜¯ä»»ä½•å¼•ç”¨ç±»å‹çš„æ•°æ®ã€‚ä½†å¸¸ç”¨Stringç±»ä½œä¸ºMapçš„â€œé”®â€ã€‚

- Mapæ¥å£çš„å¸¸ç”¨å®ç°ç±»ï¼š`HashMap`ã€`LinkedHashMap`ã€`TreeMap`å’Œ``Properties`ã€‚å…¶ä¸­ï¼ŒHashMapæ˜¯ Map æ¥å£ä½¿ç”¨`é¢‘ç‡æœ€é«˜`çš„å®ç°ç±»ã€‚

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/41291b6c9164b0696cd461e8ac58fe62.png)

### 7.2 Mapä¸­key-valueç‰¹ç‚¹

è¿™é‡Œä¸»è¦ä»¥HashMapä¸ºä¾‹è¯´æ˜ã€‚HashMapä¸­å­˜å‚¨çš„keyã€valueçš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/3dc3a9a796d98033fcdeae2ac827243b.png)


- Map ä¸­çš„ `keyç”¨Setæ¥å­˜æ”¾`ï¼Œ`ä¸å…è®¸é‡å¤`ï¼Œå³åŒä¸€ä¸ª Map å¯¹è±¡æ‰€å¯¹åº”çš„ç±»ï¼Œé¡»é‡å†™hashCode()å’Œequals()æ–¹æ³•

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/9bb119ce2794b82eed16d95bdaf09c59.png)

- key å’Œ value ä¹‹é—´å­˜åœ¨å•å‘ä¸€å¯¹ä¸€å…³ç³»ï¼Œå³é€šè¿‡æŒ‡å®šçš„ key æ€»èƒ½æ‰¾åˆ°å”¯ä¸€çš„ã€ç¡®å®šçš„ valueï¼Œä¸åŒkeyå¯¹åº”çš„`valueå¯ä»¥é‡å¤`ã€‚valueæ‰€åœ¨çš„ç±»è¦é‡å†™equals()æ–¹æ³•ã€‚

- keyå’Œvalueæ„æˆä¸€ä¸ªentryã€‚æ‰€æœ‰çš„entryå½¼æ­¤ä¹‹é—´æ˜¯`æ— åºçš„`ã€`ä¸å¯é‡å¤çš„`ã€‚

### 7.3 Mapæ¥å£çš„å¸¸ç”¨æ–¹æ³•

- **æ·»åŠ ã€ä¿®æ”¹æ“ä½œï¼š**
  - Object put(Object key,Object value)ï¼šå°†æŒ‡å®škey-valueæ·»åŠ åˆ°(æˆ–ä¿®æ”¹)å½“å‰mapå¯¹è±¡ä¸­
  - void putAll(Map m):å°†mä¸­çš„æ‰€æœ‰key-valueå¯¹å­˜æ”¾åˆ°å½“å‰mapä¸­
- **åˆ é™¤æ“ä½œï¼š**
  - Object remove(Object key)ï¼šç§»é™¤æŒ‡å®škeyçš„key-valueå¯¹ï¼Œå¹¶è¿”å›value
  - void clear()ï¼šæ¸…ç©ºå½“å‰mapä¸­çš„æ‰€æœ‰æ•°æ®
- **å…ƒç´ æŸ¥è¯¢çš„æ“ä½œï¼š**
  - Object get(Object key)ï¼šè·å–æŒ‡å®škeyå¯¹åº”çš„value
  - boolean containsKey(Object key)ï¼šæ˜¯å¦åŒ…å«æŒ‡å®šçš„key
  - boolean containsValue(Object value)ï¼šæ˜¯å¦åŒ…å«æŒ‡å®šçš„value
  - int size()ï¼šè¿”å›mapä¸­key-valueå¯¹çš„ä¸ªæ•°
  - boolean isEmpty()ï¼šåˆ¤æ–­å½“å‰mapæ˜¯å¦ä¸ºç©º
  - boolean equals(Object obj)ï¼šåˆ¤æ–­å½“å‰mapå’Œå‚æ•°å¯¹è±¡objæ˜¯å¦ç›¸ç­‰
- **å…ƒè§†å›¾æ“ä½œçš„æ–¹æ³•ï¼š**
  - Set keySet()ï¼šè¿”å›æ‰€æœ‰keyæ„æˆçš„Seté›†åˆ
  - Collection values()ï¼šè¿”å›æ‰€æœ‰valueæ„æˆçš„Collectioné›†åˆ
  - Set entrySet()ï¼šè¿”å›æ‰€æœ‰key-valueå¯¹æ„æˆçš„Seté›†åˆ

ä¸¾ä¾‹ï¼š

```java
package com.atguigu.map;

import java.util.HashMap;

public class TestMapMethod {
    public static void main(String[] args) {
        //åˆ›å»º mapå¯¹è±¡
        HashMap map = new HashMap();

        //æ·»åŠ å…ƒç´ åˆ°é›†åˆ
        map.put("é»„æ™“æ˜", "æ¨é¢–");
        map.put("ææ™¨", "æå°ç’");
        map.put("ææ™¨", "èŒƒå†°å†°");
        map.put("é‚“è¶…", "å­™ä¿ª");
        System.out.println(map);

        //åˆ é™¤æŒ‡å®šçš„key-value
        System.out.println(map.remove("é»„æ™“æ˜"));
        System.out.println(map);

        //æŸ¥è¯¢æŒ‡å®škeyå¯¹åº”çš„value
        System.out.println(map.get("é‚“è¶…"));
        System.out.println(map.get("é»„æ™“æ˜"));

    }
}
```

ä¸¾ä¾‹ï¼š

```java
public static void main(String[] args) {
    HashMap map = new HashMap();
    map.put("è®¸ä»™", "ç™½å¨˜å­");
    map.put("è‘£æ°¸", "ä¸ƒä»™å¥³");
    map.put("ç‰›éƒ", "ç»‡å¥³");
    map.put("è®¸ä»™", "å°é’");

    System.out.println("æ‰€æœ‰çš„key:");
    Set keySet = map.keySet();
    for (Object key : keySet) {
        System.out.println(key);
    }

    System.out.println("æ‰€æœ‰çš„value:");
    Collection values = map.values();
    for (Object value : values) {
        System.out.println(value);
    }

    System.out.println("æ‰€æœ‰çš„æ˜ å°„å…³ç³»:");
    Set entrySet = map.entrySet();
    for (Object mapping : entrySet) {
        //System.out.println(entry);
        Map.Entry entry = (Map.Entry) mapping;
        System.out.println(entry.getKey() + "->" + entry.getValue());
    }
}
```

### 7.4 Mapçš„ä¸»è¦å®ç°ç±»ï¼šHashMap

#### 7.4.1 HashMapæ¦‚è¿°

- HashMapæ˜¯ Map æ¥å£`ä½¿ç”¨é¢‘ç‡æœ€é«˜`çš„å®ç°ç±»ã€‚
- HashMapæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚å…è®¸æ·»åŠ  null é”®å’Œ null å€¼ã€‚
- å­˜å‚¨æ•°æ®é‡‡ç”¨çš„å“ˆå¸Œè¡¨ç»“æ„ï¼Œåº•å±‚ä½¿ç”¨`ä¸€ç»´æ•°ç»„`+`å•å‘é“¾è¡¨`+`çº¢é»‘æ ‘`è¿›è¡Œkey-valueæ•°æ®çš„å­˜å‚¨ã€‚ä¸HashSetä¸€æ ·ï¼Œå…ƒç´ çš„å­˜å–é¡ºåºä¸èƒ½ä¿è¯ä¸€è‡´ã€‚
- HashMap `åˆ¤æ–­ä¸¤ä¸ªkeyç›¸ç­‰çš„æ ‡å‡†`æ˜¯ï¼šä¸¤ä¸ª key çš„hashCodeå€¼ç›¸ç­‰ï¼Œé€šè¿‡ equals() æ–¹æ³•è¿”å› trueã€‚
- HashMap `åˆ¤æ–­ä¸¤ä¸ªvalueç›¸ç­‰çš„æ ‡å‡†`æ˜¯ï¼šä¸¤ä¸ª value é€šè¿‡ equals() æ–¹æ³•è¿”å› trueã€‚

#### 7.4.2 ç»ƒä¹ 

**ç»ƒä¹ 1ï¼š** æ·»åŠ ä½ å–œæ¬¢çš„æ­Œæ‰‹ä»¥åŠä½ å–œæ¬¢ä»–å”±è¿‡çš„æ­Œæ›²

ä¾‹å¦‚ï¼š
![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/57388a4176e2c2c29a346cff44d56254.png)


```java
//æ–¹å¼1
/**
 * @author å°šç¡…è°·-å®‹çº¢åº·
 * @create 9:03
 */
public class SingerTest1 {
    public static void main(String[] args) {

        //åˆ›å»ºä¸€ä¸ªHashMapç”¨äºä¿å­˜æ­Œæ‰‹å’Œå…¶æ­Œæ›²é›†

        HashMap singers = new HashMap();
        //å£°æ˜ä¸€ç»„key,value
        String singer1 = "å‘¨æ°ä¼¦";

        ArrayList songs1 = new ArrayList();
        songs1.add("åŒèŠ‚æ£");
        songs1.add("æœ¬è‰çº²ç›®");
        songs1.add("å¤œæ›²");
        songs1.add("ç¨»é¦™");
        //æ·»åŠ åˆ°mapä¸­
        singers.put(singer1,songs1);
        //å£°æ˜ä¸€ç»„key,value
        String singer2 = "é™ˆå¥•è¿…";
        List songs2 = Arrays.asList("æµ®å¤¸", "åå¹´", "çº¢ç«ç‘°", "å¥½ä¹…ä¸è§", "å­¤å‹‡è€…");
        //æ·»åŠ åˆ°mapä¸­
        singers.put(singer2,songs2);

        //éå†map
        Set entrySet = singers.entrySet();
        for(Object obj : entrySet){
            Map.Entry entry = (Map.Entry)obj;
            String singer = (String) entry.getKey();
            List songs = (List) entry.getValue();

            System.out.println("æ­Œæ‰‹ï¼š" + singer);
            System.out.println("æ­Œæ›²æœ‰ï¼š" + songs);
        }

    }
}
```

```java
//æ–¹å¼2ï¼šæ”¹ä¸ºHashSetå®ç°
public class SingerTest2 {
	@Test
	public void test1() {

		Singer singer1 = new Singer("å‘¨æ°ä¼¦");
		Singer singer2 = new Singer("é™ˆå¥•è¿…");

		Song song1 = new Song("åŒèŠ‚æ£");
		Song song2 = new Song("æœ¬è‰çº²ç›®");
		Song song3 = new Song("å¤œæ›²");
		Song song4 = new Song("æµ®å¤¸");
		Song song5 = new Song("åå¹´");
		Song song6 = new Song("å­¤å‹‡è€…");

		HashSet h1 = new HashSet();// æ”¾æ­Œæ‰‹ä¸€çš„æ­Œæ›²
		h1.add(song1);
		h1.add(song2);
		h1.add(song3);

		HashSet h2 = new HashSet();// æ”¾æ­Œæ‰‹äºŒçš„æ­Œæ›²
		h2.add(song4);
		h2.add(song5);
		h2.add(song6);

		HashMap hashMap = new HashMap();// æ”¾æ­Œæ‰‹å’Œä»–å¯¹åº”çš„æ­Œæ›²
		hashMap.put(singer1, h1);
		hashMap.put(singer2, h2);

		for (Object obj : hashMap.keySet()) {
			System.out.println(obj + "=" + hashMap.get(obj));
		}

	}
}

//æ­Œæ›²
public class Song implements Comparable{
	private String songName;//æ­Œå

	public Song() {
		super();
	}

	public Song(String songName) {
		super();
		this.songName = songName;
	}

	public String getSongName() {
		return songName;
	}

	public void setSongName(String songName) {
		this.songName = songName;
	}

	@Override
	public String toString() {
		return "ã€Š" + songName + "ã€‹";
	}

	@Override
	public int compareTo(Object o) {
		if(o == this){
			return 0;
		}
		if(o instanceof Song){
			Song song = (Song)o;
			return songName.compareTo(song.getSongName());
		}
		return 0;
	}
	
	
}
//æ­Œæ‰‹
public class Singer implements Comparable{
	private String name;
	private Song song;
	
	public Singer() {
		super();
	}

	public Singer(String name) {
		super();
		this.name = name;
		
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public Song getSong() {
		return song;
	}

	public void setSong(Song song) {
		this.song = song;
	}

	@Override
	public String toString() {
		return name;
	}

	@Override
	public int compareTo(Object o) {
		if(o == this){
			return 0;
		}
		if(o instanceof Singer){
			Singer singer = (Singer)o;
			return name.compareTo(singer.getName());
		}
		return 0;
	}
}
```

**ç»ƒä¹ 2**ï¼šäºŒçº§è”åŠ¨

å°†çœä»½å’ŒåŸå¸‚çš„åç§°ä¿å­˜åœ¨é›†åˆä¸­ï¼Œå½“ç”¨æˆ·é€‰æ‹©çœä»½ä»¥åï¼ŒäºŒçº§è”åŠ¨ï¼Œæ˜¾ç¤ºå¯¹åº”çœä»½çš„åœ°çº§å¸‚ä¾›ç”¨æˆ·é€‰æ‹©ã€‚

æ•ˆæœæ¼”ç¤ºï¼š

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/96680a3a329247552110cc286abc36c3.png)


```java
/**
 * 
 * @Description 
 * @author å°šç¡…è°·-å®‹çº¢åº·  Email:shkstart@126.com
 * @version 
 * @date 2021å¹´5æœˆ7æ—¥ä¸Šåˆ12:26:59
 *
 */
class CityMap{
	
	public static Map model = new HashMap();
	
	static {
		model.put("åŒ—äº¬", new String[] {"åŒ—äº¬"});
		model.put("ä¸Šæµ·", new String[] {"ä¸Šæµ·"});
		model.put("å¤©æ´¥", new String[] {"å¤©æ´¥"});
		model.put("é‡åº†", new String[] {"é‡åº†"});
		model.put("é»‘é¾™æ±Ÿ", new String[] {"å“ˆå°”æ»¨","é½é½å“ˆå°”","ç‰¡ä¸¹æ±Ÿ","å¤§åº†","ä¼Šæ˜¥","åŒé¸­å±±","ç»¥åŒ–"});
		model.put("å‰æ—", new String[] {"é•¿æ˜¥","å»¶è¾¹","å‰æ—","ç™½å±±","ç™½åŸ","å››å¹³","æ¾åŸ"});
		model.put("æ²³åŒ—", new String[] {"çŸ³å®¶åº„","å¼ å®¶å£","é‚¯éƒ¸","é‚¢å°","å”å±±","ä¿å®š","ç§¦çš‡å²›"});
	}
	
}

public class ProvinceTest {
	public static void main(String[] args) {
		
		Set keySet = CityMap.model.keySet();
		for(Object s : keySet) {
			System.out.print(s + "\t");
		}
		System.out.println();
		System.out.println("è¯·é€‰æ‹©ä½ æ‰€åœ¨çš„çœä»½ï¼š");
		Scanner scan = new Scanner(System.in);
		String province = scan.next();
		
		String[] citys = (String[])CityMap.model.get(province);
		for(String city : citys) {
			System.out.print(city + "\t");
		}
		System.out.println();
		System.out.println("è¯·é€‰æ‹©ä½ æ‰€åœ¨çš„åŸå¸‚ï¼š");
		String city = scan.next();
		
		System.out.println("ä¿¡æ¯ç™»è®°å®Œæ¯•");
	}
	
}

```

**ç»ƒä¹ 3**ï¼šWordCountç»Ÿè®¡

éœ€æ±‚ï¼šç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°

String str = "aaaabbbcccccccccc";

æç¤ºï¼š

char[] arr = str.toCharArray();   //å°†å­—ç¬¦ä¸²è½¬æ¢æˆå­—ç¬¦æ•°ç»„

HashMap hm = new HashMap();   //åˆ›å»ºåŒåˆ—é›†åˆå­˜å‚¨é”®å’Œå€¼ï¼Œé”®æ”¾å­—ç¬¦ï¼Œå€¼æ”¾æ¬¡æ•°

```java
/**
 * 
 * @author å°šç¡…è°·-å®‹çº¢åº· 
 * @date 2022å¹´5æœˆ7æ—¥ä¸Šåˆ12:26:59
 *
 */
public class WordCountTest {
	public static void main(String[] args) {
        String str = "aaaabbbcccccccccc";
        char[] arr = str.toCharArray(); // å°†å­—ç¬¦ä¸²è½¬æ¢æˆå­—ç¬¦æ•°ç»„
        HashMap map = new HashMap(); // åˆ›å»ºåŒåˆ—é›†åˆå­˜å‚¨é”®å’Œå€¼

        for (char c : arr) { // éå†å­—ç¬¦æ•°ç»„
            if (!map.containsKey(c)) { // å¦‚æœä¸åŒ…å«è¿™ä¸ªé”®
                map.put(c, 1); // å°±å°†é”®å’Œå€¼ä¸º1æ·»åŠ 
            } else { // å¦‚æœåŒ…å«è¿™ä¸ªé”®
                map.put(c, (int)map.get(c) + 1); // å°±å°†é”®å’Œå€¼å†åŠ 1æ·»åŠ è¿›æ¥
            }

        }

        for (Object key : map.keySet()) { // éå†åŒåˆ—é›†åˆ
            System.out.println(key + "=" + map.get(key));
        }

    }
}

```

### 7.5 Mapå®ç°ç±»ä¹‹äºŒï¼šLinkedHashMap

- LinkedHashMap æ˜¯ HashMap çš„å­ç±»
- å­˜å‚¨æ•°æ®é‡‡ç”¨çš„å“ˆå¸Œè¡¨ç»“æ„+é“¾è¡¨ç»“æ„ï¼Œåœ¨HashMapå­˜å‚¨ç»“æ„çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨äº†ä¸€å¯¹`åŒå‘é“¾è¡¨`æ¥`è®°å½•æ·»åŠ å…ƒç´ çš„å…ˆåé¡ºåº`ï¼Œå¯ä»¥ä¿è¯éå†å…ƒç´ æ—¶ï¼Œä¸æ·»åŠ çš„é¡ºåºä¸€è‡´ã€‚
- é€šè¿‡å“ˆå¸Œè¡¨ç»“æ„å¯ä»¥ä¿è¯é”®çš„å”¯ä¸€ã€ä¸é‡å¤ï¼Œéœ€è¦é”®æ‰€åœ¨ç±»é‡å†™hashCode()æ–¹æ³•ã€equals()æ–¹æ³•ã€‚

```java
public class TestLinkedHashMap {
    public static void main(String[] args) {
        LinkedHashMap map = new LinkedHashMap();
        map.put("ç‹äº”", 13000.0);
        map.put("å¼ ä¸‰", 10000.0);
        //keyç›¸åŒï¼Œæ–°çš„valueä¼šè¦†ç›–åŸæ¥çš„value
        //å› ä¸ºStringé‡å†™äº†hashCodeå’Œequalsæ–¹æ³•
        map.put("å¼ ä¸‰", 12000.0);
        map.put("æå››", 14000.0);
        //HashMapæ”¯æŒkeyå’Œvalueä¸ºnullå€¼
        String name = null;
        Double salary = null;
        map.put(name, salary);

        Set entrySet = map.entrySet();
        for (Object obj : entrySet) {
        	Map.Entry entry = (Map.Entry)obj;
            System.out.println(entry);
        }
    }
}
```

### 7.6 Mapå®ç°ç±»ä¹‹ä¸‰ï¼šTreeMap

- TreeMapå­˜å‚¨ key-value å¯¹æ—¶ï¼Œéœ€è¦æ ¹æ® key-value å¯¹è¿›è¡Œæ’åºã€‚TreeMap å¯ä»¥ä¿è¯æ‰€æœ‰çš„ key-value å¯¹å¤„äº`æœ‰åºçŠ¶æ€`ã€‚
- TreeSetåº•å±‚ä½¿ç”¨`çº¢é»‘æ ‘`ç»“æ„å­˜å‚¨æ•°æ®
- TreeMap çš„ Key çš„æ’åºï¼š
  - `è‡ªç„¶æ’åº`ï¼šTreeMap çš„æ‰€æœ‰çš„ Key å¿…é¡»å®ç° Comparable æ¥å£ï¼Œè€Œä¸”æ‰€æœ‰çš„ Key åº”è¯¥æ˜¯åŒä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡º ClasssCastException
  - `å®šåˆ¶æ’åº`ï¼šåˆ›å»º TreeMap æ—¶ï¼Œæ„é€ å™¨ä¼ å…¥ä¸€ä¸ª Comparator å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è´Ÿè´£å¯¹ TreeMap ä¸­çš„æ‰€æœ‰ key è¿›è¡Œæ’åºã€‚æ­¤æ—¶ä¸éœ€è¦ Map çš„ Key å®ç° Comparable æ¥å£
- TreeMapåˆ¤æ–­`ä¸¤ä¸ªkeyç›¸ç­‰çš„æ ‡å‡†`ï¼šä¸¤ä¸ªkeyé€šè¿‡compareTo()æ–¹æ³•æˆ–è€…compare()æ–¹æ³•è¿”å›0ã€‚

```java
/**
 * @author å°šç¡…è°·-å®‹çº¢åº·
 * @create 1:23
 */
public class TestTreeMap {
    /*
    * è‡ªç„¶æ’åºä¸¾ä¾‹
    * */
    @Test
    public void test1(){
        TreeMap map = new TreeMap();

        map.put("CC",45);
        map.put("MM",78);
        map.put("DD",56);
        map.put("GG",89);
        map.put("JJ",99);

        Set entrySet = map.entrySet();
        for(Object entry : entrySet){
            System.out.println(entry);
        }

    }

    /*
    * å®šåˆ¶æ’åº
    *
    * */
    @Test
    public void test2(){
        //æŒ‰ç…§Userçš„å§“åçš„ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—

        TreeMap map = new TreeMap(new Comparator() {
            @Override
            public int compare(Object o1, Object o2) {
                if(o1 instanceof User && o2 instanceof User){
                    User u1 = (User)o1;
                    User u2 = (User)o2;

                    return u1.name.compareTo(u2.name);
                }
                throw new RuntimeException("è¾“å…¥çš„ç±»å‹ä¸åŒ¹é…");
            }
        });

        map.put(new User("Tom",12),67);
        map.put(new User("Rose",23),"87");
        map.put(new User("Jerry",2),88);
        map.put(new User("Eric",18),45);
        map.put(new User("Tommy",44),77);
        map.put(new User("Jim",23),88);
        map.put(new User("Maria",18),34);

        Set entrySet = map.entrySet();
        for(Object entry : entrySet){
            System.out.println(entry);
        }
    }
}

class User implements Comparable{
    String name;
    int age;

    public User(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public User() {
    }

    @Override
    public String toString() {
        return "User{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }
    /*
    ä¸¾ä¾‹ï¼šæŒ‰ç…§ageä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ï¼Œå¦‚æœageç›¸åŒï¼Œåˆ™æŒ‰ç…§nameä»å¤§åˆ°å°çš„é¡ºåºæ’åˆ—
    * */
    @Override
    public int compareTo(Object o) {
        if(this == o){
            return 0;
        }

        if(o instanceof User){
            User user = (User)o;
            int value = this.age - user.age;
            if(value != 0){
                return value;
            }
            return -this.name.compareTo(user.name);
        }
        throw new RuntimeException("è¾“å…¥çš„ç±»å‹ä¸åŒ¹é…");
    }
}
```

### 7.7 Mapå®ç°ç±»ä¹‹å››ï¼šHashtable

- Hashtableæ˜¯Mapæ¥å£çš„`å¤è€å®ç°ç±»`ï¼ŒJDK1.0å°±æä¾›äº†ã€‚ä¸åŒäºHashMapï¼ŒHashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚
- Hashtableå®ç°åŸç†å’ŒHashMapç›¸åŒï¼ŒåŠŸèƒ½ç›¸åŒã€‚åº•å±‚éƒ½ä½¿ç”¨å“ˆå¸Œè¡¨ç»“æ„ï¼ˆæ•°ç»„+å•å‘é“¾è¡¨ï¼‰ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«ã€‚
- ä¸HashMapä¸€æ ·ï¼ŒHashtable ä¹Ÿä¸èƒ½ä¿è¯å…¶ä¸­ Key-Value å¯¹çš„é¡ºåº
- Hashtableåˆ¤æ–­ä¸¤ä¸ªkeyç›¸ç­‰ã€ä¸¤ä¸ªvalueç›¸ç­‰çš„æ ‡å‡†ï¼Œä¸HashMapä¸€è‡´ã€‚
- ä¸HashMapä¸åŒï¼ŒHashtable ä¸å…è®¸ä½¿ç”¨ null ä½œä¸º key æˆ– valueã€‚

é¢è¯•é¢˜ï¼šHashtableå’ŒHashMapçš„åŒºåˆ«

```
HashMap:åº•å±‚æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼ˆjdk7:æ•°ç»„+é“¾è¡¨;jdk8:æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼‰,æ˜¯ä¸€ä¸ªçº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆ,æ‰§è¡Œæ•ˆç‡é«˜
Hashtable:åº•å±‚ä¹Ÿæ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼ˆæ•°ç»„+é“¾è¡¨ï¼‰,æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„é›†åˆ,æ‰§è¡Œæ•ˆç‡ä½

HashMapé›†åˆ:å¯ä»¥å­˜å‚¨nullçš„é”®ã€nullçš„å€¼
Hashtableé›†åˆ,ä¸èƒ½å­˜å‚¨nullçš„é”®ã€nullçš„å€¼

Hashtableå’ŒVectoré›†åˆä¸€æ ·,åœ¨jdk1.2ç‰ˆæœ¬ä¹‹åè¢«æ›´å…ˆè¿›çš„é›†åˆ(HashMap,ArrayList)å–ä»£äº†ã€‚æ‰€ä»¥HashMapæ˜¯Mapçš„ä¸»è¦å®ç°ç±»ï¼ŒHashtableæ˜¯Mapçš„å¤è€å®ç°ç±»ã€‚

Hashtableçš„å­ç±»Propertiesï¼ˆé…ç½®æ–‡ä»¶ï¼‰ä¾ç„¶æ´»è·ƒåœ¨å†å²èˆå°
Propertiesé›†åˆæ˜¯ä¸€ä¸ªå”¯ä¸€å’ŒIOæµç›¸ç»“åˆçš„é›†åˆ
```



### 7.8 Mapå®ç°ç±»ä¹‹äº”ï¼šProperties

- Properties ç±»æ˜¯ Hashtable çš„å­ç±»ï¼Œè¯¥å¯¹è±¡ç”¨äºå¤„ç†å±æ€§æ–‡ä»¶

- ç”±äºå±æ€§æ–‡ä»¶é‡Œçš„ keyã€value éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œæ‰€ä»¥ Properties ä¸­è¦æ±‚ key å’Œ value éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹

- å­˜å–æ•°æ®æ—¶ï¼Œå»ºè®®ä½¿ç”¨setProperty(String key,String value)æ–¹æ³•å’ŒgetProperty(String key)æ–¹æ³•

```java
@Test
public void test01() {
    Properties properties = System.getProperties();
    String fileEncoding = properties.getProperty("file.encoding");//å½“å‰æºæ–‡ä»¶å­—ç¬¦ç¼–ç 
    System.out.println("fileEncoding = " + fileEncoding);
}
@Test
public void test02() {
    Properties properties = new Properties();
    properties.setProperty("user","songhk");
    properties.setProperty("password","123456");
    System.out.println(properties);
}

@Test
public void test03() throws IOException {
    Properties pros = new Properties();
    pros.load(new FileInputStream("jdbc.properties"));
    String user = pros.getProperty("user");
    System.out.println(user);
}
```

## 8 Collectionså·¥å…·ç±»

å‚è€ƒæ“ä½œæ•°ç»„çš„å·¥å…·ç±»ï¼šArraysï¼ŒCollections æ˜¯ä¸€ä¸ªæ“ä½œ Setã€List å’Œ Map ç­‰é›†åˆçš„å·¥å…·ç±»ã€‚

### 8.1 å¸¸ç”¨æ–¹æ³•

Collections ä¸­æä¾›äº†ä¸€ç³»åˆ—é™æ€çš„æ–¹æ³•å¯¹é›†åˆå…ƒç´ è¿›è¡Œæ’åºã€æŸ¥è¯¢å’Œä¿®æ”¹ç­‰æ“ä½œï¼Œè¿˜æä¾›äº†å¯¹é›†åˆå¯¹è±¡è®¾ç½®ä¸å¯å˜ã€å¯¹é›†åˆå¯¹è±¡å®ç°åŒæ­¥æ§åˆ¶ç­‰æ–¹æ³•ï¼ˆå‡ä¸ºstaticæ–¹æ³•ï¼‰ï¼š

**æ’åºæ“ä½œï¼š**

- reverse(List)ï¼šåè½¬ List ä¸­å…ƒç´ çš„é¡ºåº
- shuffle(List)ï¼šå¯¹ List é›†åˆå…ƒç´ è¿›è¡Œéšæœºæ’åº
- sort(List)ï¼šæ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºå¯¹æŒ‡å®š List é›†åˆå…ƒç´ æŒ‰å‡åºæ’åº
- sort(Listï¼ŒComparator)ï¼šæ ¹æ®æŒ‡å®šçš„ Comparator äº§ç”Ÿçš„é¡ºåºå¯¹ List é›†åˆå…ƒç´ è¿›è¡Œæ’åº
- swap(Listï¼Œintï¼Œ int)ï¼šå°†æŒ‡å®š list é›†åˆä¸­çš„ i å¤„å…ƒç´ å’Œ j å¤„å…ƒç´ è¿›è¡Œäº¤æ¢

**æŸ¥æ‰¾**

- Object max(Collection)ï¼šæ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å¤§å…ƒç´ 
- Object max(Collectionï¼ŒComparator)ï¼šæ ¹æ® Comparator æŒ‡å®šçš„é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å¤§å…ƒç´ 
- Object min(Collection)ï¼šæ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å°å…ƒç´ 
- Object min(Collectionï¼ŒComparator)ï¼šæ ¹æ® Comparator æŒ‡å®šçš„é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å°å…ƒç´ 
- int binarySearch(List list,T key)åœ¨Listé›†åˆä¸­æŸ¥æ‰¾æŸä¸ªå…ƒç´ çš„ä¸‹æ ‡ï¼Œä½†æ˜¯Listçš„å…ƒç´ å¿…é¡»æ˜¯Tæˆ–Tçš„å­ç±»å¯¹è±¡ï¼Œè€Œä¸”å¿…é¡»æ˜¯å¯æ¯”è¾ƒå¤§å°çš„ï¼Œå³æ”¯æŒè‡ªç„¶æ’åºçš„ã€‚è€Œä¸”é›†åˆä¹Ÿäº‹å…ˆå¿…é¡»æ˜¯æœ‰åºçš„ï¼Œå¦åˆ™ç»“æœä¸ç¡®å®šã€‚
- int binarySearch(List list,T key,Comparator c)åœ¨Listé›†åˆä¸­æŸ¥æ‰¾æŸä¸ªå…ƒç´ çš„ä¸‹æ ‡ï¼Œä½†æ˜¯Listçš„å…ƒç´ å¿…é¡»æ˜¯Tæˆ–Tçš„å­ç±»å¯¹è±¡ï¼Œè€Œä¸”é›†åˆä¹Ÿäº‹å…ˆå¿…é¡»æ˜¯æŒ‰ç…§cæ¯”è¾ƒå™¨è§„åˆ™è¿›è¡Œæ’åºè¿‡çš„ï¼Œå¦åˆ™ç»“æœä¸ç¡®å®šã€‚
- int frequency(Collection cï¼ŒObject o)ï¼šè¿”å›æŒ‡å®šé›†åˆä¸­æŒ‡å®šå…ƒç´ çš„å‡ºç°æ¬¡æ•°

**å¤åˆ¶ã€æ›¿æ¢**

- void copy(List dest,List src)ï¼šå°†srcä¸­çš„å†…å®¹å¤åˆ¶åˆ°destä¸­
- boolean replaceAll(List listï¼ŒObject oldValï¼ŒObject newVal)ï¼šä½¿ç”¨æ–°å€¼æ›¿æ¢ List å¯¹è±¡çš„æ‰€æœ‰æ—§å€¼
- æä¾›äº†å¤šä¸ªunmodifiableXxx()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›æŒ‡å®š Xxxçš„ä¸å¯ä¿®æ”¹çš„è§†å›¾ã€‚

**æ·»åŠ **

- boolean addAll(Collection  c,T... elements)å°†æ‰€æœ‰æŒ‡å®šå…ƒç´ æ·»åŠ åˆ°æŒ‡å®š collection ä¸­ã€‚

**åŒæ­¥**

- Collections ç±»ä¸­æä¾›äº†å¤šä¸ª synchronizedXxx() æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä½¿å°†æŒ‡å®šé›†åˆåŒ…è£…æˆçº¿ç¨‹åŒæ­¥çš„é›†åˆï¼Œä»è€Œå¯ä»¥è§£å†³å¤šçº¿ç¨‹å¹¶å‘è®¿é—®é›†åˆæ—¶çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼š

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/4425d0e3caee6fb5c463a8d7eadbe7da.png)

### 8.2 ä¸¾ä¾‹

```java
package com.atguigu.collections;

import org.junit.Test;

import java.text.Collator;
import java.util.*;

public class TestCollections {
    @Test
    public void test01(){
        /*
        public static <T> boolean addAll(Collection<? super T> c,T... elements)
        å°†æ‰€æœ‰æŒ‡å®šå…ƒç´ æ·»åŠ åˆ°æŒ‡å®š collection ä¸­ã€‚Collectionçš„é›†åˆçš„å…ƒç´ ç±»å‹å¿…é¡»>=Tç±»å‹
        */
        Collection<Object> coll = new ArrayList<>();
        Collections.addAll(coll, "hello","java");
        Collections.addAll(coll, 1,2,3,4);

        Collection<String> coll2 = new ArrayList<>();
        Collections.addAll(coll2, "hello","java");
        //Collections.addAll(coll2, 1,2,3,4);//Stringå’ŒIntegerä¹‹é—´æ²¡æœ‰çˆ¶å­ç±»å…³ç³»
    }

	@Test
    public void test02(){
/*
 * public static <T extends Object & Comparable<? super T>> T max(Collection<? extends T> coll)
 * åœ¨collé›†åˆä¸­æ‰¾å‡ºæœ€å¤§çš„å…ƒç´ ï¼Œé›†åˆä¸­çš„å¯¹è±¡å¿…é¡»æ˜¯Tæˆ–Tçš„å­ç±»å¯¹è±¡ï¼Œè€Œä¸”æ”¯æŒè‡ªç„¶æ’åº
*  
*  public static <T> T max(Collection<? extends T> coll,Comparator<? super T> comp)
*  åœ¨collé›†åˆä¸­æ‰¾å‡ºæœ€å¤§çš„å…ƒç´ ï¼Œé›†åˆä¸­çš„å¯¹è±¡å¿…é¡»æ˜¯Tæˆ–Tçš„å­ç±»å¯¹è±¡ï¼ŒæŒ‰ç…§æ¯”è¾ƒå™¨compæ‰¾å‡ºæœ€å¤§è€…
*
*/
        List<Man> list = new ArrayList<>();
        list.add(new Man("å¼ ä¸‰",23));
        list.add(new Man("æå››",24));
        list.add(new Man("ç‹äº”",25));

        /*
         * Man max = Collections.max(list);//è¦æ±‚Manå®ç°Comparableæ¥å£ï¼Œæˆ–è€…çˆ¶ç±»å®ç°
         * System.out.println(max);
         */

        Man max = Collections.max(list, new Comparator<Man>() {
            @Override
            public int compare(Man o1, Man o2) {
                return o2.getAge()-o2.getAge();
            }
        });
        System.out.println(max);
    }

	@Test
    public void test03(){
        /*
         * public static void reverse(List<?> list)
         * åè½¬æŒ‡å®šåˆ—è¡¨Listä¸­å…ƒç´ çš„é¡ºåºã€‚
         */
        List<String> list = new ArrayList<>();
        Collections.addAll(list,"hello","java","world");
        System.out.println(list);

        Collections.reverse(list);
        System.out.println(list);
    }
	@Test
    public void test04(){
        /*
         * public static void shuffle(List<?> list) 
         * List é›†åˆå…ƒç´ è¿›è¡Œéšæœºæ’åºï¼Œç±»ä¼¼æ´—ç‰Œï¼Œæ‰“ä¹±é¡ºåº
         */
        List<String> list = new ArrayList<>();
        Collections.addAll(list,"hello","java","world");

        Collections.shuffle(list);
        System.out.println(list);
    }
	@Test
    public void test05() {
        /*
         * public static <T extends Comparable<? super T>> void sort(List<T> list)
         * æ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºå¯¹æŒ‡å®š List é›†åˆå…ƒç´ æŒ‰å‡åºæ’åº
         *
         * public static <T> void sort(List<T> list,Comparator<? super T> c)
         * æ ¹æ®æŒ‡å®šçš„ Comparator äº§ç”Ÿçš„é¡ºåºå¯¹ List é›†åˆå…ƒç´ è¿›è¡Œæ’åº
         */
        List<Man> list = new ArrayList<>();
        list.add(new Man("å¼ ä¸‰",23));
        list.add(new Man("æå››",24));
        list.add(new Man("ç‹äº”",25));

        Collections.sort(list);
        System.out.println(list);

        Collections.sort(list, new Comparator<Man>() {
            @Override
            public int compare(Man o1, Man o2) {
                return Collator.getInstance(Locale.CHINA).compare(o1.getName(),o2.getName());
            }
        });
        System.out.println(list);
    }
	@Test
    public void test06(){
        /*
         * public static void swap(List<?> list,int i,int j)
         * å°†æŒ‡å®š list é›†åˆä¸­çš„ i å¤„å…ƒç´ å’Œ j å¤„å…ƒç´ è¿›è¡Œäº¤æ¢
         */
        List<String> list = new ArrayList<>();
        Collections.addAll(list,"hello","java","world");

        Collections.swap(list,0,2);
        System.out.println(list);
    }
	@Test
    public void test07(){
        /*
         * public static int frequency(Collection<?> c,Object o)
         * è¿”å›æŒ‡å®šé›†åˆä¸­æŒ‡å®šå…ƒç´ çš„å‡ºç°æ¬¡æ•°
         */
        List<String> list = new ArrayList<>();
        Collections.addAll(list,"hello","java","world","hello","hello");
        int count = Collections.frequency(list, "hello");
        System.out.println("count = " + count);
    }
	@Test
    public void test08(){
        /*
         * public static <T> void copy(List<? super T> dest,List<? extends T> src)
         * å°†srcä¸­çš„å†…å®¹å¤åˆ¶åˆ°destä¸­
         */
        List<Integer> list = new ArrayList<>();
        for(int i=1; i<=5; i++){//1-5
            list.add(i);
        }

        List<Integer> list2 = new ArrayList<>();
        for(int i=11; i<=13; i++){//11-13
            list2.add(i);
        }

        Collections.copy(list, list2);
        System.out.println(list);

        List<Integer> list3 = new ArrayList<>();
        for(int i=11; i<=20; i++){//11-20
            list3.add(i);
        }
		//java.lang.IndexOutOfBoundsException: Source does not fit in dest
        //Collections.copy(list, list3);
        //System.out.println(list);

    }
	
	@Test
    public void test09(){
        /*
         * public static <T> boolean replaceAll(List<T> listï¼ŒT oldValï¼ŒT newVal)
         * ä½¿ç”¨æ–°å€¼æ›¿æ¢ List å¯¹è±¡çš„æ‰€æœ‰æ—§å€¼
         */
        List<String> list = new ArrayList<>();
        Collections.addAll(list,"hello","java","world","hello","hello");

        Collections.replaceAll(list, "hello","song");
        System.out.println(list);
    }
}

```

### 8.3 ç»ƒä¹ 

**ç»ƒä¹ 1ï¼š**

è¯·ä»é”®ç›˜éšæœºè¾“å…¥10ä¸ªæ•´æ•°ä¿å­˜åˆ°Listä¸­ï¼Œå¹¶æŒ‰å€’åºã€ä»å¤§åˆ°å°çš„é¡ºåºæ˜¾ç¤ºå‡ºæ¥

**ç»ƒä¹ 2ï¼š** æ¨¡æ‹Ÿæ–—åœ°ä¸»æ´—ç‰Œå’Œå‘ç‰Œï¼Œç‰Œæ²¡æœ‰æ’åº

æ•ˆæœæ¼”ç¤ºï¼š

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/94292800ad5e85aa7ecc16e6053edb21.png)

æç¤ºï¼š

```java
String[] num = {"A","2","3","4","5","6","7","8","9","10","J","Q","K"};

String[] color = {"æ–¹ç‰‡","æ¢…èŠ±","çº¢æ¡ƒ","é»‘æ¡ƒ"};

ArrayList<String> poker = new ArrayList<>();
```

ä»£ç ç¤ºä¾‹ï¼š

```java
/**
 * 
 * @author å°šç¡…è°·-å®‹çº¢åº·
 * @date 2022å¹´5æœˆ7æ—¥ä¸Šåˆ12:26:59
 *
 */
public class PokerTest {
	
	public static void main(String[] args) {
		String[] num = {"A","2","3","4","5","6","7","8","9","10","J","Q","K"};
		String[] color = {"æ–¹ç‰‡","æ¢…èŠ±","çº¢æ¡ƒ","é»‘æ¡ƒ"};
		ArrayList poker = new ArrayList();
		//1. ç”Ÿæˆ54å¼ æ‰‘å…‹ç‰Œ
		for (String s1 : color) {
			for (String s2 : num) {
				poker.add(s1.concat(" " + s2));
			}
		}

		poker.add("å°ç‹");
		poker.add("å¤§ç‹");
		//2. æ´—ç‰Œ
		Collections.shuffle(poker);
		//3. å‘ç‰Œ
		ArrayList tomCards = new ArrayList();
        ArrayList jerryCards = new ArrayList();
        ArrayList meCards = new ArrayList();
        ArrayList lastCards = new ArrayList();

        for (int i = 0; i < poker.size(); i++) {

            if(i >= poker.size() - 3){
                lastCards.add(poker.get(i));
            }else if(i % 3 == 0){
                tomCards.add(poker.get(i));
            }else if(i % 3 == 1){
                jerryCards.add(poker.get(i));
            }else {
                meCards.add(poker.get(i));
            }

        }

		//4. çœ‹ç‰Œ
		System.out.println("Tom:\n" + tomCards);
        System.out.println("Jerry:\n" + jerryCards);
        System.out.println("me:\n" + meCards);
        System.out.println("åº•ç‰Œ:\n" + lastCards);
	}
}

```

**ç»ƒä¹ 3ï¼š** æ¨¡æ‹Ÿæ–—åœ°ä¸»æ´—ç‰Œå’Œå‘ç‰Œå¹¶å¯¹ç‰Œè¿›è¡Œæ’åºçš„ä»£ç å®ç°ã€‚

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/f2900d4fc7026d6bf50feb6feb52c859.png)

æç¤ºï¼šè€ƒæŸ¥HashMapã€TreeSetã€ArrayListã€Collections

ä»£ç ç¤ºä¾‹ï¼š

```java
/**
 * @author å°šç¡…è°·-å®‹çº¢åº·
 * @create 0:23
 */
public class PokerTest1 {
    public static void main(String[] args) {
        String[] num = {"3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A", "2"};
        String[] color = {"æ–¹ç‰‡", "æ¢…èŠ±", "çº¢æ¡ƒ", "é»‘æ¡ƒ"};
        HashMap map = new HashMap(); // å­˜å‚¨ç´¢å¼•å’Œæ‰‘å…‹ç‰Œ
        ArrayList list = new ArrayList(); // å­˜å‚¨ç´¢å¼•
        int index = 0; // ç´¢å¼•çš„å¼€å§‹å€¼
        for (String s1 : num) {
            for (String s2 : color) {
                map.put(index, s2.concat(s1)); // å°†ç´¢å¼•å’Œæ‰‘å…‹ç‰Œæ·»åŠ åˆ°HashMapä¸­
                list.add(index); // å°†ç´¢å¼•æ·»åŠ åˆ°ArrayListé›†åˆä¸­
                index++;
            }
        }
        map.put(index, "å°ç‹");
        list.add(index);
        index++;
        map.put(index, "å¤§ç‹");
        list.add(index);
        // æ´—ç‰Œ
        Collections.shuffle(list);
        // å‘ç‰Œ
        TreeSet Tom = new TreeSet();
        TreeSet Jerry = new TreeSet();
        TreeSet me = new TreeSet();
        TreeSet lastCards = new TreeSet();

        for (int i = 0; i < list.size(); i++) {
            if (i >= list.size() - 3) {
                lastCards.add(list.get(i)); // å°†listé›†åˆä¸­çš„ç´¢å¼•æ·»åŠ åˆ°TreeSeté›†åˆä¸­ä¼šè‡ªåŠ¨æ’åº
            } else if (i % 3 == 0) {
                Tom.add(list.get(i));
            } else if (i % 3 == 1) {
                Jerry.add(list.get(i));
            } else {
                me.add(list.get(i));
            }
        }

        // çœ‹ç‰Œ
        lookPoker("Tom", Tom, map);
        lookPoker("Jerry", Jerry, map);
        lookPoker("åº·å¸ˆå‚…", me, map);
        lookPoker("åº•ç‰Œ", lastCards, map);

    }

    public static void lookPoker(String name, TreeSet ts, HashMap map) {
        System.out.println(name + "çš„ç‰Œæ˜¯:");
        for (Object index : ts) {
            System.out.print(map.get(index) + " ");
        }

        System.out.println();
    }
}
```

