---
文章标题: "[[5_Java面向对象]]" 
文章作者: Dakkk
文章概要: |
  文章全面概述Java面向对象编程核心概念，包括类、对象、四大特性及类间关系。详细阐述权限控制、包、构造器、继承、多态、接口与抽象类，并解析`final`、`static`等关键字及类初始化顺序，为理解Java OOP奠定基础。
文章标签:
- "Java"
- "面向对象"
- "OOP"
- "继承"
- "多态"
- "封装"
- "抽象类"
- "接口"
- "初始化顺序"
相关文章:
- "[[1_Java面向对象]]"
- "[[1_面向对象]]"
- "[[6_面向对象编程（进阶）]]"
- "[[5_面向对象编程（基础）]]"
- "[[7_面向对象编程（高级）]]"
文章分类: "💻 编程语言"
文章路径: "02-💻 编程语言/01-☕ Java技术栈/02-📚 基础语法/2_Java复习笔记/5_面向对象与类/5_Java面向对象.md"
文章难度: 中级 🌳
目前阶段: ✅ 已完成
重要性: ⭐⭐⭐⭐⭐ 精通必备
创建时间: 2024-08-11 18:15:12
修改时间: 2024-08-11 18:15:12
---

## 1 前言

**类：** 是构造对象的模板，包含构造器，字段，方法，初始化块，内部类  
**对象：** 三个主要特性(行为、状态、标识)  
**类之间的关系：** 依赖(uses-a)、聚合(has-a)、继承(is-a)

- `依赖`：是一种使用关系，特定事物的改变有可能会影响到使用该事物的其他事物。依赖关系通常通过三种方式来实现：  
    1、将一个类的对象作为另一个类中方法的参数  
    2、在一个类的方法中将另一个类的对象作为其对象的局部变量  
    3、在一个类的方法中调用另一个类的静态方法

- `关联关系`：一类对象与另一类对象有联系，通常将一个类的对象作为另一个类的成员变量，如班级和学生，师傅和徒弟，有单向关联、双向关联、自关联。

- `聚合`：成员对象是整体的一部分，聚合关系意味着类A的对象包含类B的对象，部分与整体的关系。代码实现聚合关系，成员对象通常以构造方法、Setter方法的方式注入到整体对象之中。但是成员对象可以脱离整体对象独立存在。

- `组合`：通常在整体类的构造方法中直接实例化成员类，这是因为组合关系的整体和部分是共生关系（和聚合的区别）。

参考：[https://www.cnblogs.com/xrq730/p/5533019.html](https://links.jianshu.com/go?to=https%3A%2F%2Fwww.cnblogs.com%2Fxrq730%2Fp%2F5533019.html)  

![|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/ed975c3635c867af338b3a2582b4952a.png)

## 2 权限控制

类成员（构造器，字段，方法）的访问控制，`类内可见、包内可见、子类可见、都可见`分别对应`private、default、protected、public`。  

外部类（相对于内部类而言）只有public 和default访问权限，因为没有处于任何类的内部，所以不存在类内的访问权限和被继承的关系。default类只能被包内类使用。

## 3 包

- java的包机制，提供了类的多层命名空间，用于解决类的命名冲突、类文件管理等问题。
- `Java允许将一组功能相关的类放在同一个package下`，从而组成逻辑上的类库单元。如果希望把一个类放在指定的包结构下，应该在Java源程序的第一行非注释代码放置包声明。
- Java源文件中使用了这个package语句，就意味着该源文件里定义的所有类都属于这个包。位于这个包中的每个类的完整类名都应该是包名和类名的组合。如果他人需要使用改包下的类，也应该使用包名加类名的组合。
- Java包机制需要保证两点：1、源文件里使用package语句指定包名。2、class文件必须放在对应的路径下。
- import staic用于导入类的静态成员、方法。
- java.lang 这个包包含了java语言的核心类，无需使用import语句导入，系统会自动导入这个包下的所有类。

## 4 构造函数、方法重载、方法重写

**对象构造**  
就是在堆内存中为对象分配空间、并初始化字段。

`初始化字段`：默认初始化 -> 字段声明的初始化或静态语句初始化(如果有) -> 构造函数初始化(第一个构造器可以调用其他构造器)  

`子类初始化`：如果没有显式声明调用父类构造函数，即super(...)，则会自动调用默认无参构造函数，如果父类没有默认构造函数，则会报错。所以一般在类中定义一个没有参数的构造函数。

`初始化块`：  普通初始化块、声明实例变量指定的默认值都可认为是对象的初始化代码，它们的执行顺序与源程序中的排列顺序相同，并且在构造器执行之前执行。静态初始化块负责对类进行初始化块，在类初始化阶段就执行，而不是对象创建阶段。

## 5 继承

**概念：** 继承是面向对象最显著的一个特性。继承是从已有的类中派生出新的类，新的类能吸收已有类的数据属性和行为，并能扩展新的能力。（`私有数据属性也可以继承，只是不可以直接访问，可以通过公用方法间接访问`）  

特性：

- 在一个子类继承的时候，实际上会继承父类之中的所有操作（属性、方法），但是需要注意的是，对于所有的非私有（no private）操作属于显式继承（可以直接利用对象操作），而所有的私有操作属于隐式继承（间接完成）。
- instanceof 运算符前面操作数的编译类型要么与后面的类相同，要么与后面的类具有父子继承关系，否则会引起编译错误。
- 注意点：不要让子类直接访问父类的成员变量，不希望被子类重写的public方法加上final修饰符，尽量不要在父类构造器中调用可能将要被子类重写的方法。

**覆盖方法：** 重写父类方法，可以使用super调用父类方法  
**子类构造器：** 我们可以通过super 实现对超类构造器的调用。  
1、使用super调用构造器的语句必须是子类构造器的**第一条语句**。  
2、如果子类的构造器没有显式地调用超类的构造器， 则将自动地调用超类默认（没有参数)的构造器。  
3、如果超类没有不带参数的构造器， 并且在子类的构造器中又没有显式地调用超类的其他构造器，则Java 编译器将报告错误。

## 6 多态

**静态绑定：** 如果是private 方法、static 方法、final 方法或者构造器， 那么编译器将可以准确地知道应该调用哪个方法， 我们将这种调用方式称为静态绑定。  
**动态绑定：** 调用的方法依赖于隐式参数的实际类型， 并且在运行时实现动态绑定。  
注：每次调用方法都要进行搜索，时间开销相当大。因此， 虚拟机预先为每个类创建了一个方法表。

## 7 接口和抽象类

都不能被实例化，接口的实现类或抽象类的子类都只有实现了接口或抽象类中的方法后才能实例化。  

`接口：`  
1、接口的修饰符为public和default。接口只可以包含变量和方法、内部类（内部接口、枚举类）定义，不能包含构造器和初始化块；变量为public static final，必须赋初值；方法只能是抽象方法，类方法，默认方法，接口中的普通方法总是用public abstract来修饰；变量、方法、内部类都不允许定义private和protected方法。  
2、多继承  
3、JDK1.8后的特性，
	（1）默认方法（default method）允许接口有方法的实现，但必须用default或者static修饰，只能被子类调用。  
		注：如果子类继承多个接口，这些接口有相同的方法，则子类必须重写这个方法。
	（2）静态方法，static修饰，并实现，接口静态方法只能通过接口调用。  
4、不能包含构造方法

`抽象类：`  
1、可以无抽象方法，有抽象方法的类必须是抽象类。抽象方法不能为private，不能new 对象  
2、单继承、子类必须实现抽象方法，否则继承后还是抽象类  
3、抽象类可以包含属性、方法、构造方法，但是构造方法不能用于实例化，主要用途是被子类调用。

接口还是抽象类的选择：需要定义子类的行为、又要为子类提供通用的功能，如模板方法设计模式。其它尽量用接口。  
注：abstract和static、private都是互斥的。

**final关键字**  
修饰类：类不可以被继承  
修饰方法：方法不可以被重写  
修饰变量：表示该变量一旦获得了初始值就不可改变。final修饰的成员变量必须由程序员显示地指定初始值。

**finalize关键字**  
1、垃圾回收器回收对象之前，会调用这个方法  
2、方法可以被子类重写，用于在对象被回收时进行资源释放、关闭文件等操做。由于对象被回收之前的操做。  
3、不用主动掉finalize()方法，只会被垃圾回收器调用一次。  
4、重写此方法可能导致对象复活。

**static关键字**  
static变量：类的，类加载的时候被分配对象，类第一次使用的时候才初始化  
static代码块：类加载的时候顺序执行，且仅执行一次

**hide、shadow、absure**  
hide：隐藏，一个域、静态方法或内部类可以分别隐藏在其超类可访问到具有相同名字的所有属性、方法、内部类。会阻止继承。  
shadow：遮蔽，发生在类内部，如与静态变量同步的局部变量遮蔽了静态变量的访问。  
absure：遮掩，变量名遮掩类名、包名。

`初始化普通类执行顺序：`  
1.静态属性  
2.静态方法块： static {} 圈起来的方法块  
3.普通属性： 未带static定义的属性  
4.普通方法块： {} 圈起来的方法块  
5.构造函数： 类名相同的方法

**初始化子类执行顺序：**  
1、父类静态变量  
2、父类静态代码块  
3、子类静态变量  
4、子类静态代码块  
5、父类普通变量  
6、父类普通代码块  
7、父类构造函数  
8、子类普通变量  
9、子类普通代码块  
10、子类构造函数

  
