---
æ–‡ç« æ ‡é¢˜: "[[6_ç³»ç»Ÿç›¸å…³]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  æ–‡ç« è¯¦ç»†ä»‹ç»äº†Javaæ ¸å¿ƒåº“ä¸­çš„`System`å’Œ`Runtime`ç±»ã€‚`System`ç±»æä¾›æ ‡å‡†I/Oã€æ—¶é—´è·å–ã€ç¨‹åºé€€å‡ºã€åƒåœ¾å›æ”¶è¯·æ±‚ã€ç³»ç»Ÿå±æ€§æŸ¥è¯¢åŠé«˜æ•ˆæ•°ç»„å¤åˆ¶ç­‰åŠŸèƒ½ã€‚`Runtime`ç±»åˆ™å…è®¸åº”ç”¨ä¸JVMè¿è¡Œæ—¶ç¯å¢ƒäº¤äº’ï¼Œä¸»è¦ç”¨äºè·å–å’Œç›‘æ§JVMå†…å­˜ä¿¡æ¯ã€‚
tags:
- "Java"
- "Systemç±»"
- "Runtimeç±»"
- "JVM"
- "åƒåœ¾å›æ”¶"
- "ç³»ç»Ÿå±æ€§"
- "å†…å­˜ç®¡ç†"
- "æ•°ç»„æ“ä½œ"
ç›¸å…³æ–‡ç« :
- "[[0_é“¾è¡¨ç†è®ºåŸºç¡€]]"
- "[[16_è¯­æ³•ç³–]]"
- "[[2_541.åè½¬å­—ç¬¦ä¸²II]]"
- "[[2_JVMç›¸å…³é¢è¯•é¢˜]]"
- "[[4_å˜é‡]]"
æ–‡ç« åˆ†ç±»: "ğŸ’» ç¼–ç¨‹è¯­è¨€"
æ–‡ç« è·¯å¾„: "02-ğŸ’» ç¼–ç¨‹è¯­è¨€/01-â˜• JavaæŠ€æœ¯æ ˆ/05-ğŸ’¡ å®ç”¨æŠ€å·§/1_JDKå¸¸ç”¨API/6_ç³»ç»Ÿç›¸å…³.md"
æ–‡ç« éš¾åº¦: åˆçº§ ğŸ’§
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­ æ ¸å¿ƒèƒ½åŠ›
åˆ›å»ºæ—¶é—´: 2024-08-11 18:15:12
ä¿®æ”¹æ—¶é—´: 2025-05-27 21:53:49
---

## 1 java.lang.Systemç±»

- Systemç±»ä»£è¡¨ç³»ç»Ÿï¼Œç³»ç»Ÿçº§çš„å¾ˆå¤šå±æ€§å’Œæ§åˆ¶æ–¹æ³•éƒ½æ”¾ç½®åœ¨è¯¥ç±»çš„å†…éƒ¨ã€‚è¯¥ç±»ä½äº`java.langåŒ…`ã€‚

- ç”±äºè¯¥ç±»çš„æ„é€ å™¨æ˜¯privateçš„ï¼Œæ‰€ä»¥æ— æ³•åˆ›å»ºè¯¥ç±»çš„å¯¹è±¡ã€‚å…¶å†…éƒ¨çš„æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•éƒ½æ˜¯`staticçš„`ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œè°ƒç”¨ã€‚

- æˆå‘˜å˜é‡   Scanner scan = new Scanner(System.in);

  - Systemç±»å†…éƒ¨åŒ…å«`in`ã€`out`å’Œ`err`ä¸‰ä¸ªæˆå‘˜å˜é‡ï¼Œåˆ†åˆ«ä»£è¡¨æ ‡å‡†è¾“å…¥æµ(é”®ç›˜è¾“å…¥)ï¼Œæ ‡å‡†è¾“å‡ºæµ(æ˜¾ç¤ºå™¨)å’Œæ ‡å‡†é”™è¯¯è¾“å‡ºæµ(æ˜¾ç¤ºå™¨)ã€‚

- æˆå‘˜æ–¹æ³•

  - `native long currentTimeMillis()`ï¼š
    è¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯è¿”å›å½“å‰çš„è®¡ç®—æœºæ—¶é—´ï¼Œæ—¶é—´çš„è¡¨è¾¾æ ¼å¼ä¸ºå½“å‰è®¡ç®—æœºæ—¶é—´å’ŒGMTæ—¶é—´(æ ¼æ—å¨æ²»æ—¶é—´)1970å¹´1æœˆ1å·0æ—¶0åˆ†0ç§’æ‰€å·®çš„æ¯«ç§’æ•°ã€‚

  - `void exit(int status)`ï¼š
    è¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯é€€å‡ºç¨‹åºã€‚å…¶ä¸­statusçš„å€¼ä¸º0ä»£è¡¨æ­£å¸¸é€€å‡ºï¼Œéé›¶ä»£è¡¨å¼‚å¸¸é€€å‡ºã€‚ä½¿ç”¨è¯¥æ–¹æ³•å¯ä»¥åœ¨å›¾å½¢ç•Œé¢ç¼–ç¨‹ä¸­å®ç°ç¨‹åºçš„é€€å‡ºåŠŸèƒ½ç­‰ã€‚

  - `void gc()`ï¼š
    è¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯è¯·æ±‚ç³»ç»Ÿè¿›è¡Œåƒåœ¾å›æ”¶ã€‚è‡³äºç³»ç»Ÿæ˜¯å¦ç«‹åˆ»å›æ”¶ï¼Œåˆ™å–å†³äºç³»ç»Ÿä¸­åƒåœ¾å›æ”¶ç®—æ³•çš„å®ç°ä»¥åŠç³»ç»Ÿæ‰§è¡Œæ—¶çš„æƒ…å†µã€‚

  - `String getProperty(String key)`ï¼š
    è¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯è·å¾—ç³»ç»Ÿä¸­å±æ€§åä¸ºkeyçš„å±æ€§å¯¹åº”çš„å€¼ã€‚ç³»ç»Ÿä¸­å¸¸è§çš„å±æ€§åä»¥åŠå±æ€§çš„ä½œç”¨å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š
	  ![image.png|380](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2024/04/e81ba48774f4538d89a48ea3f18c3d53.png)


- ä¸¾ä¾‹
```java
import org.junit.Test;

public class TestSystem {
    @Test
    public void test01(){
        long time = System.currentTimeMillis();
        System.out.println("ç°åœ¨çš„ç³»ç»Ÿæ—¶é—´è·ç¦»1970å¹´1æœˆ1æ—¥å‡Œæ™¨ï¼š" + time + "æ¯«ç§’");

        System.exit(0);

        System.out.println("over");//ä¸ä¼šæ‰§è¡Œ
    }

    @Test
    public void test02(){
        String javaVersion = System.getProperty("java.version");
		System.out.println("javaçš„version:" + javaVersion);

		String javaHome = System.getProperty("java.home");
		System.out.println("javaçš„home:" + javaHome);

		String osName = System.getProperty("os.name");
		System.out.println("osçš„name:" + osName);

		String osVersion = System.getProperty("os.version");
		System.out.println("osçš„version:" + osVersion);

		String userName = System.getProperty("user.name");
		System.out.println("userçš„name:" + userName);

		String userHome = System.getProperty("user.home");
		System.out.println("userçš„home:" + userHome);

		String userDir = System.getProperty("user.dir");
		System.out.println("userçš„dir:" + userDir);
    }

    @Test
    public void test03() throws InterruptedException {
        for (int i=1; i <=10; i++){
            MyDemo my = new MyDemo(i);
            //æ¯ä¸€æ¬¡å¾ªç¯myå°±ä¼šæŒ‡å‘æ–°çš„å¯¹è±¡ï¼Œé‚£ä¹ˆä¸Šæ¬¡çš„å¯¹è±¡å°±æ²¡æœ‰å˜é‡å¼•ç”¨å®ƒäº†ï¼Œå°±æˆåƒåœ¾å¯¹è±¡
        }

        //ä¸ºäº†çœ‹åˆ°åƒåœ¾å›æ”¶å™¨å·¥ä½œï¼Œæˆ‘è¦åŠ ä¸‹é¢çš„ä»£ç ï¼Œè®©mainæ–¹æ³•ä¸é‚£ä¹ˆå¿«ç»“æŸï¼Œå› ä¸ºmainç»“æŸå°±ä¼šå¯¼è‡´JVMé€€å‡ºï¼ŒGCä¹Ÿä¼šè·Ÿç€ç»“æŸã€‚
        System.gc();//å¦‚æœä¸è°ƒç”¨è¿™å¥ä»£ç ï¼ŒGCå¯èƒ½ä¸å·¥ä½œï¼Œå› ä¸ºå½“å‰å†…å­˜å¾ˆå……è¶³ï¼ŒGCå°±è§‰å¾—ä¸ç€æ€¥å›æ”¶åƒåœ¾å¯¹è±¡ã€‚
        			//è°ƒç”¨è¿™å¥ä»£ç ï¼Œä¼šè®©GCå°½å¿«æ¥å·¥ä½œã€‚
        Thread.sleep(5000);
    }
}

class MyDemo{
    private int value;

    public MyDemo(int value) {
        this.value = value;
    }

    @Override
    public String toString() {
        return "MyDemo{" + "value=" + value + '}';
    }

    //é‡å†™finalizeæ–¹æ³•ï¼Œè®©å¤§å®¶çœ‹ä¸€ä¸‹å®ƒçš„è°ƒç”¨æ•ˆæœ
    @Override
    protected void finalize() throws Throwable {
//        æ­£å¸¸é‡å†™ï¼Œè¿™é‡Œæ˜¯ç¼–å†™æ¸…ç†ç³»ç»Ÿå†…å­˜çš„ä»£ç 
//        è¿™é‡Œå†™è¾“å‡ºè¯­å¥æ˜¯ä¸ºäº†çœ‹åˆ°finalize()æ–¹æ³•è¢«è°ƒç”¨çš„æ•ˆæœ
        System.out.println(this+ "è½»è½»çš„æˆ‘èµ°äº†ï¼Œä¸å¸¦èµ°ä¸€æ®µä»£ç ....");
    }
}
```

* `static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)`ï¼š 

  ä»æŒ‡å®šæºæ•°ç»„ä¸­å¤åˆ¶ä¸€ä¸ªæ•°ç»„ï¼Œå¤åˆ¶ä»æŒ‡å®šçš„ä½ç½®å¼€å§‹ï¼Œåˆ°ç›®æ ‡æ•°ç»„çš„æŒ‡å®šä½ç½®ç»“æŸã€‚å¸¸ç”¨äºæ•°ç»„çš„æ’å…¥å’Œåˆ é™¤

```java
import org.junit.Test;

import java.util.Arrays;

public class TestSystemArrayCopy {
    @Test
    public void test01(){
        int[] arr1 = {1,2,3,4,5};
        int[] arr2 = new int[10];
        System.arraycopy(arr1,0,arr2,3,arr1.length);
        System.out.println(Arrays.toString(arr1));
        System.out.println(Arrays.toString(arr2));
    }

    @Test
    public void test02(){
        int[] arr = {1,2,3,4,5};
        System.arraycopy(arr,0,arr,1,arr.length-1);
        System.out.println(Arrays.toString(arr));
    }

    @Test
    public void test03(){
        int[] arr = {1,2,3,4,5};
        System.arraycopy(arr,1,arr,0,arr.length-1);
        System.out.println(Arrays.toString(arr));
    }
}
```

## 2 java.lang.Runtimeç±»

æ¯ä¸ª Java åº”ç”¨ç¨‹åºéƒ½æœ‰ä¸€ä¸ª `Runtime` ç±»å®ä¾‹ï¼Œä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿä¸å…¶è¿è¡Œçš„ç¯å¢ƒç›¸è¿æ¥ã€‚

`public static Runtime getRuntime()`ï¼š è¿”å›ä¸å½“å‰ Java åº”ç”¨ç¨‹åºç›¸å…³çš„è¿è¡Œæ—¶å¯¹è±¡ã€‚åº”ç”¨ç¨‹åºä¸èƒ½åˆ›å»ºè‡ªå·±çš„ Runtime ç±»å®ä¾‹ã€‚

`public long totalMemory()`ï¼šè¿”å› Java è™šæ‹Ÿæœºä¸­åˆå§‹åŒ–æ—¶çš„å†…å­˜æ€»é‡ã€‚æ­¤æ–¹æ³•è¿”å›çš„å€¼å¯èƒ½éšæ—¶é—´çš„æ¨ç§»è€Œå˜åŒ–ï¼Œè¿™å–å†³äºä¸»æœºç¯å¢ƒã€‚é»˜è®¤ä¸ºç‰©ç†ç”µè„‘å†…å­˜çš„1/64ã€‚

`public long maxMemory()`ï¼šè¿”å› Java è™šæ‹Ÿæœºä¸­æœ€å¤§ç¨‹åº¦èƒ½ä½¿ç”¨çš„å†…å­˜æ€»é‡ã€‚é»˜è®¤ä¸ºç‰©ç†ç”µè„‘å†…å­˜çš„1/4ã€‚

`public long freeMemory()`ï¼šå› Java è™šæ‹Ÿæœºä¸­çš„ç©ºé—²å†…å­˜é‡ã€‚è°ƒç”¨ gc æ–¹æ³•å¯èƒ½å¯¼è‡´ freeMemory è¿”å›å€¼çš„å¢åŠ ã€‚

```java
package com.atguigu.system;

public class TestRuntime {
    public static void main(String[] args) {
        Runtime runtime = Runtime.getRuntime();
        long initialMemory = runtime.totalMemory(); //è·å–è™šæ‹Ÿæœºåˆå§‹åŒ–æ—¶å †å†…å­˜æ€»é‡
        long maxMemory = runtime.maxMemory(); //è·å–è™šæ‹Ÿæœºæœ€å¤§å †å†…å­˜æ€»é‡
        String str = "";
        //æ¨¡æ‹Ÿå ç”¨å†…å­˜
        for (int i = 0; i < 10000; i++) {
            str += i;
        }
        long freeMemory = runtime.freeMemory(); //è·å–ç©ºé—²å †å†…å­˜æ€»é‡
        System.out.println("æ€»å†…å­˜ï¼š" + initialMemory / 1024 / 1024 * 64 + "MB");
        System.out.println("æ€»å†…å­˜ï¼š" + maxMemory / 1024 / 1024 * 4 + "MB");
        System.out.println("ç©ºé—²å†…å­˜ï¼š" + freeMemory / 1024 / 1024 + "MB") ;
        System.out.println("å·²ç”¨å†…å­˜ï¼š" + (initialMemory-freeMemory) / 1024 / 1024 + "MB");
    }
}
```
