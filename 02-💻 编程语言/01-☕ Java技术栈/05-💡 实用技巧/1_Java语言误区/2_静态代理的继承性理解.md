---
æ–‡ç« æ ‡é¢˜: "[[2_é™æ€ä»£ç†çš„ç»§æ‰¿æ€§ç†è§£]]" 
æ–‡ç« ä½œè€…: Dakkk
æ–‡ç« æ¦‚è¦: |
  æ–‡ç« é€šè¿‡Javaå†…å¤–éƒ¨ç±»ç»“åˆé™æ€ä»£ç†ï¼Œæ¼”ç¤ºäº†åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç ä¸‹ï¼Œå¦‚ä½•åœ¨æ–¹æ³•æ‰§è¡Œå‰æ·»åŠ é€»è¾‘ã€‚å®ƒå±•ç¤ºäº†é€šè¿‡é‡å®ä¾‹åŒ–å¯¹è±¡å’Œåˆ©ç”¨åå°„ä¿®æ”¹å†…éƒ¨ç±»å¤–éƒ¨å¼•ç”¨ç­‰æŠ€å·§ï¼Œæ·±å…¥ç†è§£é™æ€ä»£ç†åœ¨å¤æ‚å¯¹è±¡å…³ç³»ä¸­çš„åº”ç”¨ã€‚
æ–‡ç« æ ‡ç­¾:
- "Java"
- "é™æ€ä»£ç†"
- "å†…å¤–éƒ¨ç±»"
- "åå°„"
- "è®¾è®¡æ¨¡å¼"
- "OOP"
- "ä»£ç†æ¨¡å¼"
ç›¸å…³æ–‡ç« :
- "[[1_é¢å‘å¯¹è±¡]]"
- "[[1_Javaé¢å‘å¯¹è±¡]]"
- "[[5_é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆåŸºç¡€ï¼‰]]"
- "[[5_Javaé¢å‘å¯¹è±¡]]"
- "[[0_try catch finallyåŸç†]]"
æ–‡ç« åˆ†ç±»: "ğŸ’» ç¼–ç¨‹è¯­è¨€"
æ–‡ç« è·¯å¾„: "02-ğŸ’» ç¼–ç¨‹è¯­è¨€/01-â˜• JavaæŠ€æœ¯æ ˆ/05-ğŸ’¡ å®ç”¨æŠ€å·§/1_Javaè¯­è¨€è¯¯åŒº/2_é™æ€ä»£ç†çš„ç»§æ‰¿æ€§ç†è§£.md"
æ–‡ç« éš¾åº¦: ä¸­çº§ ğŸŒ³
ç›®å‰é˜¶æ®µ: âœ… å·²å®Œæˆ
é‡è¦æ€§: â­â­â­â­ æ ¸å¿ƒèƒ½åŠ›
åˆ›å»ºæ—¶é—´: 2024-08-11 18:15:12
ä¿®æ”¹æ—¶é—´: 2025-05-26 07:21:52
---


ä»£ç å¦‚ä¸‹
```java
interface A {  
    void test();  
}

class A1 implements A{  
    @Override  
    public void test() {  
        System.out.println("A1 Test");  
    }  
}

class OuterClass {  
    A a=new A1();  
    class InnerClass{  
        void testInner(){  
            a.test();  
        }  
    }  
}

public class Entrance {  
    public static void main(String[] args) throws Exception {  
        OuterClass.InnerClass innerClass=new OuterClass().new InnerClass();  
        //TODO  
        
        innerClass.testInner();  
    }  
}
```

é—®ï¼šåˆ©ç”¨é™æ€ä»£ç†ï¼Œåœ¨TODOåé¢æ·»åŠ é€‚å½“ä»£ç ï¼Œä½¿å¾—æ§åˆ¶å°åœ¨æ‰“å°â€A1 Testâ€ä¹‹å‰ï¼Œæ‰“å°â€A1 Test Beforeâ€.

ç­”ï¼š
ç­”ï¼š

ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºä¸€ä¸ªA1çš„ä»£ç†ç±»ï¼ˆåœ¨ä¸»æ–¹æ³•ä¸­åˆ›å»ºä¸€ä¸ªåŒ¿åä»£ç†ç±»çš„å¯¹è±¡ï¼‰

```java
//åˆ›å»ºä¸€ä¸ªA1çš„åŒ¿åä»£ç†ç±»  
A a = new A() {Â Â Â  
	A a = new A1();Â Â Â  
	@OverrideÂ Â Â  
	public void test() {Â Â Â Â Â Â Â  
		System._out_.println("A1 Test Before");Â Â Â Â Â Â Â  
		a.test();Â Â Â  
	}  
};
```

ç¬¬äºŒæ­¥ï¼Œå°†å¤–éƒ¨ç±»çš„å±æ€§aï¼ŒæŒ‡å‘A1çš„ä»£ç†ç±»

æ–¹å¼1ï¼š

```java
/**  
 * æ–¹å¼1:  
 * æ–°å»ºä¸€ä¸ªOuterClassçš„å¯¹è±¡  
 * æ­¤å¯¹è±¡ä¸­çš„å±æ€§aï¼ŒæŒ‡å‘ä»£ç†ç±»çš„a  
 * ä¸”å°†é¢˜ç›®çš„innerClassï¼Œé‡æ–°æŒ‡å‘ä¸€ä¸ªç”±å¤–éƒ¨ç±»å¯¹è±¡ç”Ÿæˆçš„innerClass  
 *///å°†å¤–éƒ¨çš„ç±»çš„å±æ€§aæŒ‡å‘ä¸Šé¢çš„åŒ¿åä»£ç†ç±»çš„å¯¹è±¡a  
OuterClass outerClass = new OuterClass();  
outerClass.a = a;  
//å°†å†…éƒ¨ç±»æŒ‡å‘ è¢«æ›´æ¢açš„å¤–éƒ¨ç±»æ‰€ç”Ÿæˆçš„  
innerClass = outerClass.new InnerClass();  
innerClass.testInner();
```

æ–¹å¼2ï¼š

```java
/**  
 * æ–¹å¼2ï¼š  
 * é€šè¿‡åå°„è·å– innerClassçš„éšè—å±æ€§this$0  
 * å¾ˆæ˜¾ç„¶è¯¥å±æ€§ä¸ºå…¶å¤–éƒ¨ç±»OuterClassçš„å¯¹è±¡  
 * å°†æ­¤å¯¹è±¡çš„aï¼ŒæŒ‡å‘ä»£ç†ç±»çš„a  
 */
Field this$0 = innerClass.getClass().getDeclaredField("this$0");  
OuterClass outerClass = (OuterClass) this$0.get(innerClass);  
outerClass.a = a;  
  
innerClass.testInner();
```

æ–¹å¼3ï¼š
- ä¸newA1çš„å¯¹è±¡
```java
public class Entrance {  
    public static void main(String[] args) throws Exception {  
        OuterClass.InnerClass innerClass=new OuterClass().new InnerClass();  
        //TODO  
        //è·å–å†…éƒ¨ç±»å¯¹è±¡çš„å±æ€§this$0  
        Field this$0 = innerClass.getClass().getDeclaredField("this$0");  
        OuterClass outerClass = (OuterClass) this$0.get(innerClass);  
        //åˆ›å»ºä¸€ä¸ªä»£ç†ç±»ï¼ˆå†…éƒ¨ç±»ï¼‰  
        DaiLi daili = new DaiLi();  
        //ä»£ç†ç±»çš„å±æ€§å¼•ç”¨å¤–éƒ¨ç±»çš„å±æ€§  
        daili.a = outerClass.a;  
        //å¤–éƒ¨ç±»çš„å±æ€§ï¼Œå¼•ç”¨ä»£ç†ç±»çš„å¯¹è±¡  
        outerClass.a = daili;  
  
        innerClass.testInner();  
    }  
    static class DaiLi implements A{  
        A a;  
        @Override  
        public void test() {  
            System.out.println("A1 Test Before");  
            a.test();  
        }  
    }  
}
```