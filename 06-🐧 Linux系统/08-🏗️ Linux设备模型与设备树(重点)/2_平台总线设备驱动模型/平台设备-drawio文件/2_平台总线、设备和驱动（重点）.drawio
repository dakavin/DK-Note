<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/27.0.9 Chrome/134.0.6998.205 Electron/35.4.0 Safari/537.36" version="27.0.9">
  <diagram name="第 1 页" id="t4LGwE74ZRJ5rnFO3eym">
    <mxGraphModel dx="3752" dy="1501" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-114" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-460" y="680" width="2000" height="160" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-115" value="&lt;h2&gt;&lt;span style=&quot;font-size: 23px;&quot;&gt;A&lt;/span&gt;&lt;/h2&gt;&lt;h2&gt;&lt;span style=&quot;font-size: 23px;&quot;&gt;P&lt;/span&gt;&lt;/h2&gt;&lt;h2&gt;&lt;span style=&quot;font-size: 23px;&quot;&gt;I&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;fontStyle=1;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="-440" y="690" width="30" height="140" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-111" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-460" y="20" width="2000" height="650" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-1" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;struct bus_type platform_bus_type&lt;br&gt;&lt;span style=&quot;font-size: 14px; font-weight: 400; text-align: left;&quot;&gt;Linux虚构的总线，专门管理与CPU直连的设备，&lt;/span&gt;&lt;span style=&quot;font-size: 14px; text-align: left;&quot;&gt;/drivers/base/platform.c&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;span style=&quot;font-size: 14px; text-align: left;&quot;&gt;注意：类型是bus_tyep&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=70;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontSize=16;strokeColor=#6c8ebf;fillColor=#dae8fc;" vertex="1" parent="1">
          <mxGeometry x="245" y="30" width="680" height="278" as="geometry">
            <mxRectangle x="20" y="90" width="400" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-2" value="{&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;.name &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;= &quot;platform&quot;," style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-1">
          <mxGeometry y="70" width="680" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-3" value="&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;.dev_groups &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;= platform_dev_groups," style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-1">
          <mxGeometry y="96" width="680" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-4" value="&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;.match&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;= platform_match,&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;核心，匹配函数！！！&lt;/b&gt;" style="text;strokeColor=none;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-1">
          <mxGeometry y="122" width="680" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-5" value="&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;.uevent&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;= platform_uevent," style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-1">
          <mxGeometry y="148" width="680" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-6" value="&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;.dma_configure&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;= platform_dma_configure" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-1">
          <mxGeometry y="174" width="680" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-7" value="&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;.pm&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;= &amp;amp;platform_dev_pm_ops," style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-1">
          <mxGeometry y="200" width="680" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-8" value="};" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-1">
          <mxGeometry y="226" width="680" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-9" value="EXPORT_SYMBOL_GPL(platform_bus_type);" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-1">
          <mxGeometry y="252" width="680" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-19" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;struct platform_device&lt;br&gt;&lt;span style=&quot;font-size: 14px; font-weight: 400; text-align: left;&quot;&gt;platform总线上设备的标准描述，继承了device结构体，&lt;/span&gt;&lt;span style=&quot;font-size: 14px; text-align: left;&quot;&gt;/include/linux/platform_device.h&lt;/span&gt;&lt;/font&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontSize=16;strokeColor=#82b366;fillColor=#d5e8d4;" vertex="1" parent="1">
          <mxGeometry x="-360" y="30" width="570" height="284" as="geometry">
            <mxRectangle x="20" y="90" width="400" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-20" value="const char &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;name&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;设备名称，可用于匹配" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-19">
          <mxGeometry y="50" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-21" value="int &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;b&gt;id&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 设备ID，区分同名设备" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-19">
          <mxGeometry y="76" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-62" value="bool &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;&lt;b&gt;id_auto&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 设备ID，是否自动生成" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-19">
          <mxGeometry y="102" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-22" value="struct device &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;b&gt;dev&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;继承device结构体！！" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=#f8cecc;strokeColor=none;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-19">
          <mxGeometry y="128" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-23" value="u32 &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;b&gt;num_resources&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 资源数量" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-19">
          <mxGeometry y="154" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-24" value="&lt;div&gt;struct resource &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;resource&lt;/b&gt;;&amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;资源数组指针&lt;/div&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=#d5e8d4;strokeColor=none;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-19">
          <mxGeometry y="180" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-26" value="const struct platform_device_id &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;id_entry&lt;/b&gt;;&amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;匹配成功后的ID条目" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-19">
          <mxGeometry y="206" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-63" value="char &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;driver_override&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;强制设备与指定驱动匹配的驱动名称" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-19">
          <mxGeometry y="232" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-40" value="&lt;div&gt;其他字段&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-19">
          <mxGeometry y="258" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-43" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;struct platform_driver&lt;br&gt;&lt;span style=&quot;font-size: 14px; font-weight: 400; text-align: left;&quot;&gt;平台设备的操作手册，&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; text-align: left;&quot;&gt;/include/linux/platform_device.h&lt;/span&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontSize=16;strokeColor=#d79b00;fillColor=#ffe6cc;" vertex="1" parent="1">
          <mxGeometry x="960" y="30" width="570" height="292" as="geometry">
            <mxRectangle x="20" y="90" width="400" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-44" value="struct device_driver &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;b&gt;driver&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;继承的驱动结构体" style="text;strokeColor=none;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-43">
          <mxGeometry y="50" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-45" value="const struct platform_device_id &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;id_table&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;支持的设备列表" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-43">
          <mxGeometry y="76" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-46" value="bool &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;b&gt;prevent_deferred_probe&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;是否禁用延迟探测" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-43">
          <mxGeometry y="102" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-54" value="&lt;div&gt;其他字段&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-43">
          <mxGeometry y="128" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-55" value="" style="line;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-43">
          <mxGeometry y="154" width="570" height="8" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-56" value="&lt;div&gt;int (*&lt;b&gt;probe&lt;/b&gt;)(struct platform_device *);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;设备探测函数&lt;/div&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-43">
          <mxGeometry y="162" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-57" value="&lt;div&gt;int (*&lt;b&gt;remove&lt;/b&gt;)(struct platform_device *);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;设备移除函数&lt;/div&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-43">
          <mxGeometry y="188" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-58" value="&lt;div&gt;void (*&lt;b&gt;shutdown&lt;/b&gt;)(struct platform_device *);&amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;设备关机函数&lt;/div&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-43">
          <mxGeometry y="214" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-59" value="&lt;div&gt;int (*&lt;b&gt;suspend&lt;/b&gt;)(struct platform_device *, pm_message_t state);&amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;挂起函数&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-43">
          <mxGeometry y="240" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-60" value="&lt;div&gt;int (*&lt;b&gt;resume&lt;/b&gt;)(struct platform_device *);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;恢复函数&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-43">
          <mxGeometry y="266" width="570" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-64" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;struct resource&lt;br&gt;&lt;span style=&quot;font-size: 14px; font-weight: 400; text-align: left;&quot;&gt;硬件资源的标准描述，&lt;/span&gt;&lt;span style=&quot;font-size: 14px; text-align: left;&quot;&gt;/include/linux/platform_device.h&lt;/span&gt;&lt;/font&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontSize=16;strokeColor=#82b366;fillColor=#d5e8d4;" vertex="1" parent="1">
          <mxGeometry x="-305" y="350" width="460" height="284" as="geometry">
            <mxRectangle x="20" y="90" width="400" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-65" value="resource_size_t &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;b&gt;start&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;资源起始地址/号码" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-64">
          <mxGeometry y="50" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-66" value="resource_size_t &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;b&gt;end&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;资源结束地址/号码" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-64">
          <mxGeometry y="76" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-67" value="const char &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;name&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;资源名称" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-64">
          <mxGeometry y="102" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-68" value="unsigned long &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;b&gt;flags&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;资源类型标志" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=#d5e8d4;strokeColor=none;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-64">
          <mxGeometry y="128" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-69" value="unsigned long &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;b&gt;desc&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;资源描述信息" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-64">
          <mxGeometry y="154" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-70" value="struct resource &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;parent&lt;/b&gt;;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;父资源" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-64">
          <mxGeometry y="180" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-71" value="struct resource &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;sibling&lt;/b&gt;;&amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;兄弟资源&amp;nbsp;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-64">
          <mxGeometry y="206" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-72" value="struct resource &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;child&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;子资源" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-64">
          <mxGeometry y="232" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-73" value="&lt;div&gt;其他字段&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-64">
          <mxGeometry y="258" width="460" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.002;entryY=0.113;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;dashed=1;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-24" target="lE5N5kNLnX-8t-IVhEgq-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-75" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;struct platform_device_id&lt;br&gt;&lt;span style=&quot;font-size: 14px; font-weight: 400; text-align: left;&quot;&gt;platform设备驱动匹配的重要数据，&lt;/span&gt;&lt;span style=&quot;font-size: 14px; text-align: left;&quot;&gt;/include/linux.mod_devicetable.h&lt;/span&gt;&lt;/font&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontSize=16;strokeColor=#6c8ebf;fillColor=#dae8fc;" vertex="1" parent="1">
          <mxGeometry x="245" y="351" width="680" height="102" as="geometry">
            <mxRectangle x="20" y="90" width="400" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-76" value="char &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;b&gt;name&lt;/b&gt;[PLATFORM_NAME_SIZE];&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;字符数组，存储设备名称" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-75">
          <mxGeometry y="50" width="680" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-77" value="kernel_ulong_t &lt;b&gt;driver_data&lt;/b&gt;;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;存储驱动程序私有数据" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-75">
          <mxGeometry y="76" width="680" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;dashed=1;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-45" target="lE5N5kNLnX-8t-IVhEgq-75">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="945" y="119" />
              <mxPoint x="945" y="376" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;dashed=1;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-26" target="lE5N5kNLnX-8t-IVhEgq-75">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="225" y="249" />
              <mxPoint x="225" y="376" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-88" value="&lt;h1&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;Platform设备API&lt;/span&gt;&lt;/h1&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-360" y="700" width="735" height="39" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-89" value="" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=0;strokeColor=#82b366;fontSize=16;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;strokeWidth=2;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-360" y="739" width="735" height="82" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-90" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-89">
          <mxGeometry width="735" height="41" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-91" value="设备注册(触发匹配)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=16;fontStyle=1;align=left;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-90">
          <mxGeometry width="145" height="41" as="geometry">
            <mxRectangle width="145" height="41" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-92" value="int &lt;b&gt;platform_device_register&lt;/b&gt;(struct platform_device *pdev);" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=0;overflow=hidden;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingBottom=0;strokeWidth=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-90">
          <mxGeometry x="145" width="590" height="41" as="geometry">
            <mxRectangle width="590" height="41" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-93" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-89">
          <mxGeometry y="41" width="735" height="41" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-94" value="设备注销" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=16;fontStyle=1;align=left;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-93">
          <mxGeometry width="145" height="41" as="geometry">
            <mxRectangle width="145" height="41" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-95" value="void &lt;b&gt;platform_device_unregister&lt;/b&gt;(struct platform_device *pdev);" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=0;overflow=hidden;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingBottom=0;strokeWidth=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-93">
          <mxGeometry x="145" width="590" height="41" as="geometry">
            <mxRectangle width="590" height="41" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-102" value="&lt;h1&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;Platform驱动API&lt;/span&gt;&lt;/h1&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#ffe6cc;strokeColor=#d79b00;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="795" y="700" width="735" height="39" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-103" value="" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=0;strokeColor=#d79b00;fontSize=16;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;strokeWidth=2;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="795" y="739" width="735" height="92" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-104" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-103">
          <mxGeometry width="735" height="51" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-105" value="驱动注册(触发匹配)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=16;fontStyle=1;align=left;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-104">
          <mxGeometry width="145" height="51" as="geometry">
            <mxRectangle width="145" height="51" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-106" value="&lt;div&gt;#define &lt;b&gt;platform_driver_register&lt;/b&gt;(drv) \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; __platform_driver_register(drv, THIS_MODULE)&lt;/div&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=0;overflow=hidden;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingBottom=0;strokeWidth=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-104">
          <mxGeometry x="145" width="590" height="51" as="geometry">
            <mxRectangle width="590" height="51" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-107" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-103">
          <mxGeometry y="51" width="735" height="41" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-108" value="驱动注销" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=16;fontStyle=1;align=left;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-107">
          <mxGeometry width="145" height="41" as="geometry">
            <mxRectangle width="145" height="41" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-109" value="void &lt;b&gt;platform_driver_unregister&lt;/b&gt;(struct platform_driver *drv);" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=0;overflow=hidden;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingBottom=0;strokeWidth=1;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-107">
          <mxGeometry x="145" width="590" height="41" as="geometry">
            <mxRectangle width="590" height="41" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-110" value="&lt;h1&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;Platform总线的注册是在内核启动时自动完成&lt;/span&gt;&lt;span style=&quot;font-size: 18px; font-weight: normal;&quot;&gt;的，开发者通常不需要手动注册总线，只需要注册设备和驱动即可&lt;/span&gt;&lt;/h1&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="400" y="700" width="370" height="120" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-112" value="&lt;h2&gt;&lt;font style=&quot;font-size: 23px;&quot;&gt;相&lt;/font&gt;&lt;/h2&gt;&lt;h2&gt;&lt;font style=&quot;font-size: 23px;&quot;&gt;关&lt;/font&gt;&lt;/h2&gt;&lt;h2&gt;&lt;font style=&quot;font-size: 23px;&quot;&gt;结&lt;/font&gt;&lt;/h2&gt;&lt;h2&gt;&lt;font style=&quot;font-size: 23px;&quot;&gt;构&lt;/font&gt;&lt;/h2&gt;&lt;h2&gt;&lt;font style=&quot;font-size: 23px;&quot;&gt;体&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;fontStyle=1;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="-440" y="30" width="30" height="620" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-116" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-460" y="880" width="2000" height="533" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-120" target="lE5N5kNLnX-8t-IVhEgq-130">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-120" target="lE5N5kNLnX-8t-IVhEgq-123">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-120" value="&lt;h2&gt;start_kernel&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-360" y="900" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-122" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-123" target="lE5N5kNLnX-8t-IVhEgq-131">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-153" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-123" target="lE5N5kNLnX-8t-IVhEgq-127">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-123" value="&lt;h2&gt;rest_init&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-240" y="950" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-124" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-127" target="lE5N5kNLnX-8t-IVhEgq-132">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-154" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-127" target="lE5N5kNLnX-8t-IVhEgq-129">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-127" value="&lt;h2&gt;kernel_init&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-140" y="1000" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-128" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-129" target="lE5N5kNLnX-8t-IVhEgq-133">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-155" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-129" target="lE5N5kNLnX-8t-IVhEgq-135">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-129" value="&lt;h2&gt;do_basic_setup&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-40" y="1050" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-130" value="&lt;h2&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;内核启动&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="820" y="900" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-131" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;启动后续初始化&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="820" y="950" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-132" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;内核初始化线程&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="820" y="1000" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-133" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;执行基础设备初始化&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="820" y="1050" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-156" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-135" target="lE5N5kNLnX-8t-IVhEgq-137">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-135" value="&lt;h2&gt;driver_init&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="70" y="1100" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-157" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-137" target="lE5N5kNLnX-8t-IVhEgq-139">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-161" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-137" target="lE5N5kNLnX-8t-IVhEgq-158">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-162" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-137" target="lE5N5kNLnX-8t-IVhEgq-159">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-163" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-137" target="lE5N5kNLnX-8t-IVhEgq-160">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-137" value="&lt;h2&gt;platform_bus_init&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="180" y="1150" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-164" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-139" target="lE5N5kNLnX-8t-IVhEgq-147">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-139" value="&lt;h2&gt;early_platform_cleanup&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="300" y="1200" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-145" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;初始化设备驱动子系统&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="820" y="1100" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-146" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;初始化Platform总线&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="820" y="1150" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-147" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;1. 清理早期平台设备列表&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="730" y="1200" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-170" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-148" target="lE5N5kNLnX-8t-IVhEgq-168">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-148" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(255, 0, 0), rgb(255, 255, 255));&quot;&gt;2. 注册平台总线设备（看做设备的一种）&lt;/font&gt;&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="730" y="1250" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-171" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-149" target="lE5N5kNLnX-8t-IVhEgq-169">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-149" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;3. 注册平台总线&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="730" y="1300" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-150" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;4. 注册设备树通知器&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="730" y="1350" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-151" value="&lt;font style=&quot;font-size: 37px;&quot;&gt;🌻Make By Dakkk&lt;/font&gt;" style="html=1;shadow=0;dashed=0;shape=mxgraph.bootstrap.rrect;rSize=5;strokeColor=#1CA5B8;strokeWidth=1;fillColor=none;fontColor=#1CA5B8;whiteSpace=wrap;align=center;verticalAlign=middle;spacingLeft=0;fontStyle=1;fontSize=16;spacing=5;" vertex="1" parent="1">
          <mxGeometry x="-360" y="1280" width="340" height="110" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-152" value="&lt;h2&gt;&lt;span style=&quot;font-size: 23px;&quot;&gt;平台驱动注册机制&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;fontStyle=1;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="-440" y="910" width="30" height="480" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-165" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-158" target="lE5N5kNLnX-8t-IVhEgq-148">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-158" value="&lt;h2&gt;device_register&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="300" y="1250" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-166" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-159" target="lE5N5kNLnX-8t-IVhEgq-149">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-159" value="&lt;h2&gt;bus_register&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="300" y="1300" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-167" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-160" target="lE5N5kNLnX-8t-IVhEgq-150">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-160" value="&lt;h2&gt;of_platform_register_reconfig_notifier&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="300" y="1350" width="350" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-168" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;/sys/devices/platform/ 目录&lt;/font&gt;&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1240" y="1250" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-169" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;/sys/bus/platform/ 目录&lt;/font&gt;&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1240" y="1300" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-172" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-460" y="1440" width="2000" height="600" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-173" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="lE5N5kNLnX-8t-IVhEgq-175" target="lE5N5kNLnX-8t-IVhEgq-185" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-174" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="lE5N5kNLnX-8t-IVhEgq-175" target="lE5N5kNLnX-8t-IVhEgq-178" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-257" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-175" target="lE5N5kNLnX-8t-IVhEgq-181">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-258" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-175" target="lE5N5kNLnX-8t-IVhEgq-184">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-175" value="&lt;h2&gt;platform_device_register&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-360" y="1460" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-176" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="lE5N5kNLnX-8t-IVhEgq-178" target="lE5N5kNLnX-8t-IVhEgq-186" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-178" value="&lt;h2&gt;device_initialize&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-180" y="1510" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-179" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="lE5N5kNLnX-8t-IVhEgq-181" target="lE5N5kNLnX-8t-IVhEgq-187" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-181" value="&lt;h2&gt;arch_setup_pdev_archdata&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-180" y="1560" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-182" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="lE5N5kNLnX-8t-IVhEgq-184" target="lE5N5kNLnX-8t-IVhEgq-188" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-255" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-184" target="lE5N5kNLnX-8t-IVhEgq-197">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-256" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-184" target="lE5N5kNLnX-8t-IVhEgq-209">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-259" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-184" target="lE5N5kNLnX-8t-IVhEgq-248">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-260" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-184" target="lE5N5kNLnX-8t-IVhEgq-252">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-184" value="&lt;h2&gt;platform_device_add&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-180" y="1610" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-185" value="&lt;h2&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;平台设备注册&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="620" y="1460" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-186" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;初始化&lt;/span&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;内置device的&lt;/span&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;基础结构&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="620" y="1510" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-187" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;设置架构相关数据&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="620" y="1560" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-188" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;核心：添加设备到系统&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="620" y="1610" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-196" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="lE5N5kNLnX-8t-IVhEgq-197" target="lE5N5kNLnX-8t-IVhEgq-200" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-197" value="&lt;h2&gt;pdev-&amp;gt;dev.parent = &amp;amp;platform_bus&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-20" y="1670" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-200" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;1. 设置父设备为platform_bus&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="400" y="1670" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-207" value="&lt;h2&gt;&lt;span style=&quot;font-size: 23px;&quot;&gt;平台设备注册机制&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;fontStyle=1;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="-440" y="1470" width="30" height="550" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-245" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-209" target="lE5N5kNLnX-8t-IVhEgq-242">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-246" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-209" target="lE5N5kNLnX-8t-IVhEgq-243">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-247" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-209" target="lE5N5kNLnX-8t-IVhEgq-244">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-249" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-209" target="lE5N5kNLnX-8t-IVhEgq-240">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-209" value="&lt;h2&gt;dev_set_name&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-20" y="1720" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-216" value="" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=0;strokeColor=#82b366;fontSize=14;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="245" y="500" width="315" height="150" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-217" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-216">
          <mxGeometry width="315" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-218" value="IORESOURCE_IO" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-217">
          <mxGeometry width="145" height="30" as="geometry">
            <mxRectangle width="145" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-219" value="&lt;b&gt;I/O端口资源&amp;nbsp;&lt;/b&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-217">
          <mxGeometry x="145" width="170" height="30" as="geometry">
            <mxRectangle width="170" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-220" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-216">
          <mxGeometry y="30" width="315" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-221" value="IORESOURCE_MEN" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-220">
          <mxGeometry width="145" height="30" as="geometry">
            <mxRectangle width="145" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-222" value="&lt;b&gt;内存资源&lt;/b&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-220">
          <mxGeometry x="145" width="170" height="30" as="geometry">
            <mxRectangle width="170" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-223" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-216">
          <mxGeometry y="60" width="315" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-224" value="IORESOURCE_REG" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-223">
          <mxGeometry width="145" height="30" as="geometry">
            <mxRectangle width="145" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-225" value="&lt;b&gt;寄存器偏移量&lt;/b&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-223">
          <mxGeometry x="145" width="170" height="30" as="geometry">
            <mxRectangle width="170" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-226" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-216">
          <mxGeometry y="90" width="315" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-227" value="IORESOURCE_IRQ" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-226">
          <mxGeometry width="145" height="30" as="geometry">
            <mxRectangle width="145" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-228" value="&lt;b&gt;中断资源&lt;/b&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-226">
          <mxGeometry x="145" width="170" height="30" as="geometry">
            <mxRectangle width="170" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-229" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-216">
          <mxGeometry y="120" width="315" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-230" value="IORESOURCE_DMA" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-229">
          <mxGeometry width="145" height="30" as="geometry">
            <mxRectangle width="145" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-231" value="&lt;b&gt;DMA(直接内存访问)资源&lt;/b&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-229">
          <mxGeometry x="145" width="170" height="30" as="geometry">
            <mxRectangle width="170" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-235" value="&lt;h1&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;flags常用资源类型&lt;/font&gt;&lt;/h1&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="245" y="470" width="315" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-236" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;dashed=1;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-68" target="lE5N5kNLnX-8t-IVhEgq-235">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-240" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;2. 根据pdev-&amp;gt;id，设置目录名称&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="400" y="1720" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-242" value="&lt;h2&gt;设备名.ID，如led_dev.0&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="90" y="1770" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-243" value="&lt;h2&gt;只使用设备名，如led_dev&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="90" y="1820" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-244" value="&lt;h2&gt;自动分配ID，如led_dev.1.auto&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="90" y="1870" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-251" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-248" target="lE5N5kNLnX-8t-IVhEgq-250">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-248" value="&lt;h2&gt;for (i = 0; i &amp;lt; pdev-&amp;gt;num_resources; i++)&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-20" y="1920" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-250" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;3. 处理pdev的资源&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="400" y="1920" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-254" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-252" target="lE5N5kNLnX-8t-IVhEgq-253">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-252" value="&lt;h2&gt;device_add&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-20" y="1980" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-262" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-253" target="lE5N5kNLnX-8t-IVhEgq-261">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-253" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;4. 注册设备到子系统&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="400" y="1980" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-261" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(255, 0, 0), rgb(255, 255, 255));&quot;&gt;最终会调用match&lt;/font&gt;&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="760" y="1980" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-263" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-460" y="2070" width="2000" height="600" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-264" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="lE5N5kNLnX-8t-IVhEgq-268" target="lE5N5kNLnX-8t-IVhEgq-279" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-265" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="lE5N5kNLnX-8t-IVhEgq-268" target="lE5N5kNLnX-8t-IVhEgq-270" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-268" value="&lt;h2&gt;platform_driver_register&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-360" y="2090" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-269" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="lE5N5kNLnX-8t-IVhEgq-270" target="lE5N5kNLnX-8t-IVhEgq-280" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-340" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-270" target="lE5N5kNLnX-8t-IVhEgq-272">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-341" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-270" target="lE5N5kNLnX-8t-IVhEgq-278">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-342" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-270" target="lE5N5kNLnX-8t-IVhEgq-326">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-343" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-270" target="lE5N5kNLnX-8t-IVhEgq-329">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-344" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-270" target="lE5N5kNLnX-8t-IVhEgq-330">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-345" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-270" target="lE5N5kNLnX-8t-IVhEgq-331">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-270" value="&lt;h2&gt;__platform_driver_register&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-180" y="2140" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-271" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="lE5N5kNLnX-8t-IVhEgq-272" target="lE5N5kNLnX-8t-IVhEgq-281" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-272" value="&lt;h2&gt;drv-&amp;gt;driver.owner = owner&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry y="2190" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-273" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="lE5N5kNLnX-8t-IVhEgq-278" target="lE5N5kNLnX-8t-IVhEgq-282" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-278" value="&lt;h2&gt;drv-&amp;gt;driver.bus = &amp;amp;platform_bus_type&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry y="2240" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-279" value="&lt;h2&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;平台驱动注册&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="610" y="2090" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-280" value="&lt;h2&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;实际的注册函数&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="610" y="2140" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-281" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: 400;&quot;&gt;1. 驱动关联当前模块&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="490" y="2190" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-282" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;2. 指定总线类型&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=0;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="1">
          <mxGeometry x="490" y="2240" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-287" value="&lt;h2&gt;&lt;span style=&quot;font-size: 23px;&quot;&gt;平台驱动注册机制&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;fontStyle=1;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="-440" y="2100" width="30" height="550" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-306" value="&lt;h1&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;Platform device定义示例&lt;/font&gt;&lt;/h1&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1060" y="1474" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-307" value="" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=0;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1060" y="1504" width="470" height="120" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-308" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-307">
          <mxGeometry width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-309" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;1、定义设备资源&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-308">
          <mxGeometry width="210" height="30" as="geometry">
            <mxRectangle width="210" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-310" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;resource&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-308">
          <mxGeometry x="210" width="260" height="30" as="geometry">
            <mxRectangle width="260" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-311" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-307">
          <mxGeometry y="30" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-312" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;2、定义设备私有数据&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-311">
          <mxGeometry width="210" height="30" as="geometry">
            <mxRectangle width="210" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-313" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;pdev-&amp;gt;dev-&amp;gt;private_data&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-311">
          <mxGeometry x="210" width="260" height="30" as="geometry">
            <mxRectangle width="260" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-314" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-307">
          <mxGeometry y="60" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-315" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;3、定义platform_device&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-314">
          <mxGeometry width="210" height="30" as="geometry">
            <mxRectangle width="210" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-316" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-314">
          <mxGeometry x="210" width="260" height="30" as="geometry">
            <mxRectangle width="260" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-317" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-307">
          <mxGeometry y="90" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-318" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;4、注册platform_device&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-317">
          <mxGeometry width="210" height="30" as="geometry">
            <mxRectangle width="210" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-319" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-317">
          <mxGeometry x="210" width="260" height="30" as="geometry">
            <mxRectangle width="260" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-323" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;/sys/devices/platform/ 下实际的设备目录&lt;/font&gt;&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1050" y="1654" width="480" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-324" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;/sys/bus/platform/devices/ 下链接上面的目录&lt;/font&gt;&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1050" y="1704" width="480" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-328" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-326" target="lE5N5kNLnX-8t-IVhEgq-327">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-326" value="&lt;h2&gt;drv-&amp;gt;driver.probe = platform_drv_probe&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry y="2290" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-327" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;3. 设置probe函数&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=0;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="1">
          <mxGeometry x="490" y="2290" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-335" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-329" target="lE5N5kNLnX-8t-IVhEgq-332">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-329" value="&lt;h2&gt;drv-&amp;gt;driver.remove = platform_drv_remove&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry y="2340" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-336" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-330" target="lE5N5kNLnX-8t-IVhEgq-333">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-330" value="&lt;h2&gt;drv-&amp;gt;driver.shutdown = platform_drv_shutdown&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry y="2390" width="420" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-337" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-331" target="lE5N5kNLnX-8t-IVhEgq-334">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-331" value="&lt;h2&gt;driver_register&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry y="2441" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-332" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;4. 设置移出函数&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=0;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="1">
          <mxGeometry x="490" y="2340" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-333" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: normal;&quot;&gt;5. 设置关机函数&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=0;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="1">
          <mxGeometry x="490" y="2390" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-334" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;6. 注册驱动到子系统&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="1">
          <mxGeometry x="490" y="2441" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-338" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" target="lE5N5kNLnX-8t-IVhEgq-339" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="710" y="2461" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-339" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(255, 0, 0), rgb(255, 255, 255));&quot;&gt;最终会调用match&lt;/font&gt;&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="750" y="2441" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-349" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-347" target="lE5N5kNLnX-8t-IVhEgq-348">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-352" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-347" target="lE5N5kNLnX-8t-IVhEgq-351">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-347" value="&lt;h2&gt;platform_drv_probe&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-360" y="2490" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-348" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: 400;&quot;&gt;真正probe的包装函数&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="610" y="2490" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-350" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.802;entryY=0.131;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-326" target="lE5N5kNLnX-8t-IVhEgq-347">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-354" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lE5N5kNLnX-8t-IVhEgq-351" target="lE5N5kNLnX-8t-IVhEgq-353">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-351" value="&lt;h2&gt;ret = drv-&amp;gt;probe(dev)&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-220" y="2550" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-353" value="&lt;h2&gt;&lt;span style=&quot;font-size: 20px; font-weight: 400;&quot;&gt;调用真正的probe&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="610" y="2550" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-355" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;Tips：内核会自动设置标准的回调函数（platform_drv_probe等）&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&amp;nbsp; 这些函数会在合适的时机调用我们自定义的probe、remove函数&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&amp;nbsp; 这是一种&quot;包装器&quot;设计模式&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-280" y="2600" width="920" height="70" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-356" value="&lt;h1&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;probe函数定义示例&lt;/span&gt;&lt;/h1&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="990" y="2100" width="520" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-357" value="" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=0;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="990" y="2130" width="520" height="180" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-358" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-357">
          <mxGeometry width="520" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-359" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;1、获取设备资源&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-358">
          <mxGeometry width="199" height="30" as="geometry">
            <mxRectangle width="199" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-360" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;将驱动数据与设备关联&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-358">
          <mxGeometry x="199" width="321" height="30" as="geometry">
            <mxRectangle width="321" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-361" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-357">
          <mxGeometry y="30" width="520" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-362" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;2、映射寄存器地址&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-361">
          <mxGeometry width="199" height="30" as="geometry">
            <mxRectangle width="199" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-363" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;将物理地址映射为虚拟地址&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-361">
          <mxGeometry x="199" width="321" height="30" as="geometry">
            <mxRectangle width="321" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-364" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-357">
          <mxGeometry y="60" width="520" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-365" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;3、获取中断资源&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-364">
          <mxGeometry width="199" height="30" as="geometry">
            <mxRectangle width="199" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-366" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;配置寄存器，设置硬件工作状态&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-364">
          <mxGeometry x="199" width="321" height="30" as="geometry">
            <mxRectangle width="321" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-367" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-357">
          <mxGeometry y="90" width="520" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-368" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;4、初始化硬件&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-367">
          <mxGeometry width="199" height="30" as="geometry">
            <mxRectangle width="199" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-369" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-367">
          <mxGeometry x="199" width="321" height="30" as="geometry">
            <mxRectangle width="321" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-384" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-357">
          <mxGeometry y="120" width="520" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-385" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;5、注册字符设备等&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-384">
          <mxGeometry width="199" height="30" as="geometry">
            <mxRectangle width="199" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-386" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;创建字符设备、网络设备等用户接口&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-384">
          <mxGeometry x="199" width="321" height="30" as="geometry">
            <mxRectangle width="321" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-387" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-357">
          <mxGeometry y="150" width="520" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-388" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;6、保存驱动私有数据&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-387">
          <mxGeometry width="199" height="30" as="geometry">
            <mxRectangle width="199" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-389" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;将驱动数据与设备关联&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-387">
          <mxGeometry x="199" width="321" height="30" as="geometry">
            <mxRectangle width="321" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-370" value="&lt;h1&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;Platform driver定义示例&lt;/font&gt;&lt;/h1&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1040" y="2360" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-371" value="" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=0;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1040" y="2390" width="470" height="150" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-372" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-371">
          <mxGeometry width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-373" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;1、实现回调函数&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-372">
          <mxGeometry width="210" height="30" as="geometry">
            <mxRectangle width="210" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-374" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;probe、remove等&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-372">
          <mxGeometry x="210" width="260" height="30" as="geometry">
            <mxRectangle width="260" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-375" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-371">
          <mxGeometry y="30" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-376" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;2、设置兼容设备列表&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-375">
          <mxGeometry width="210" height="30" as="geometry">
            <mxRectangle width="210" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-377" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;platform_device_id&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-375">
          <mxGeometry x="210" width="260" height="30" as="geometry">
            <mxRectangle width="260" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-378" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-371">
          <mxGeometry y="60" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-379" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;3、设置设备树匹配表&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-378">
          <mxGeometry width="210" height="30" as="geometry">
            <mxRectangle width="210" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-380" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;of_device_id&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-378">
          <mxGeometry x="210" width="260" height="30" as="geometry">
            <mxRectangle width="260" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-381" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-371">
          <mxGeometry y="90" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-382" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;4、定义platform_driver&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-381">
          <mxGeometry width="210" height="30" as="geometry">
            <mxRectangle width="210" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-383" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-381">
          <mxGeometry x="210" width="260" height="30" as="geometry">
            <mxRectangle width="260" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-390" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=14;fontStyle=1" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-371">
          <mxGeometry y="120" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-391" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;5、注册platform_driver&lt;/b&gt;&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=14;align=left;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-390">
          <mxGeometry width="210" height="30" as="geometry">
            <mxRectangle width="210" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lE5N5kNLnX-8t-IVhEgq-392" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=14;" vertex="1" parent="lE5N5kNLnX-8t-IVhEgq-390">
          <mxGeometry x="210" width="260" height="30" as="geometry">
            <mxRectangle width="260" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
