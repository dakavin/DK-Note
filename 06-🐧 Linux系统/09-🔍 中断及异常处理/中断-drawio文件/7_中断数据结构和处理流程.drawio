<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/27.0.9 Chrome/134.0.6998.205 Electron/35.4.0 Safari/537.36" version="27.0.9">
  <diagram name="第 1 页" id="bnI4I8RAxoSpYtNXlB3H">
    <mxGraphModel dx="3752" dy="1501" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-246" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-300" y="1450" width="220" height="180" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-1" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;struct&amp;nbsp;irq_desc&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; font-size: 14px; font-weight: 400;&quot;&gt;中断描述符结构体，Linux内核中&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 14px;&quot;&gt;每个中断号对应的核心数据结构&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontSize=16;strokeColor=#6c8ebf;fillColor=#dae8fc;" vertex="1" parent="1">
          <mxGeometry x="300" y="238.64705882352928" width="540" height="430" as="geometry">
            <mxRectangle x="20" y="90" width="400" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-2" value="struct irq_data&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;b&gt;irq_data&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;中断基础数据" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="50" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-3" value="irq_flow_handler_t&amp;nbsp; handle_irq;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;GIC驱动中的处理函数" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="76" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-4" value="struct irqaction&amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;action&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;中断处理函数&lt;b&gt;链表头&lt;/b&gt;" style="text;strokeColor=none;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="102" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-5" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;status_use_accessors;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;中断状态标志位" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="128" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-6" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;depth;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;中断嵌套禁用计数" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;strokeColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="154" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-7" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;irq_count;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;中断发生总计数" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="180" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-14" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;irqs_unhandled;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;未正确处理的中断计数" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="206" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-13" value="raw_spinlock_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;lock;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;保护该描述符的自旋锁" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="232" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-15" value="unsigned int __percpu&amp;nbsp; *kstat_irqs;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;中断统计信息指针" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="258" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-38" value="其他字段......" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="284" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-8" value="" style="line;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="310" width="540" height="8" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-9" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;无回调函数&lt;/font&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="318" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-41" value="" style="line;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="344" width="540" height="8" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-44" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;补充说明：&lt;/b&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="352" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-42" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;1、irq_desc记录了该中断的所有重要信息，处理方法、统计数据、状态信息等；&lt;/b&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="378" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-43" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;2、action表示处理这个中断所有的动作，本质上是一个链表&lt;/b&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-1">
          <mxGeometry y="404" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-16" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;struct irqaction&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; font-size: 14px; font-weight: 400;&quot;&gt;中断处理动作结构体，关联注册到该中断上的中断处理函数，可共享中断和中断线程化&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontSize=16;strokeColor=#82b366;fillColor=#d5e8d4;" vertex="1" parent="1">
          <mxGeometry x="-290" y="238.64999999999998" width="540" height="352" as="geometry">
            <mxRectangle x="20" y="90" width="400" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-17" value="&lt;b&gt;irq_handler_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;handler;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// 中断处理函数指针&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="50" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-18" value="void&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;dev_id&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// 设备标识符" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="76" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-19" value="struct irqaction&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;*&lt;b&gt;next&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// 指向下一个（共享中断链表）" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="102" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-20" value="irq_handler_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;b&gt;thread_fn&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// 线程化中断处理函数指针" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="128" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-21" value="struct task_struct&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;thread&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// 线程化中断处理的内核线程" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="154" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-37" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;b&gt;irq&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// 中断号" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="180" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-36" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;b&gt;flags&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// 中断标志位" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="206" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-35" value="const char&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; *&lt;b&gt;name&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// 中断名称字符串" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="232" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-23" value="" style="line;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=16;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="258" width="540" height="8" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-24" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;无回调函数&lt;/font&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="266" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-45" value="" style="line;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=16;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="292" width="540" height="8" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-46" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;b&gt;补充说明&lt;/b&gt;&lt;/font&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="300" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-47" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;b&gt;1、每次调用request_irq，都会在action链表末尾加一个irqaction结构体&lt;/b&gt;&lt;/font&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry y="326" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.002;entryY=0.055;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-4" target="KXlyaFeX6qr1xnWrLsrt-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-50" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;struct&amp;nbsp;irq_data&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; font-size: 14px; font-weight: 400;&quot;&gt;中断数据结构体，中断子系统和硬件中断控制器交互使用的&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontSize=16;strokeColor=#d6b656;fillColor=#fff2cc;" vertex="1" parent="1">
          <mxGeometry x="300" y="699.9970588235293" width="540" height="300" as="geometry">
            <mxRectangle x="20" y="90" width="400" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-51" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&amp;nbsp;&lt;b&gt;irq&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// Linux中断号（虚拟中断号）" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-50">
          <mxGeometry y="50" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-52" value="unsigned long&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&amp;nbsp;&lt;b&gt;hwirq&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// 硬件中断号" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-50">
          <mxGeometry y="76" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-53" value="struct irq_common_data&amp;nbsp; *&lt;b&gt;common&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 通用中断数据指针" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-50">
          <mxGeometry y="102" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-54" value="struct irq_chip&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&amp;nbsp;*&lt;b&gt;chip&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// 中断控制器芯片操作接口" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=#f8cecc;strokeColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-50">
          <mxGeometry y="128" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-55" value="struct irq_domain&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;domain&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// 中断域，负责中断号映射" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=#e1d5e7;strokeColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-50">
          <mxGeometry y="154" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-56" value="void&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;chip_data&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// 芯片相关的私有数据" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-50">
          <mxGeometry y="180" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-61" value="" style="line;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=16;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-50">
          <mxGeometry y="206" width="540" height="8" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-62" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;无回调函数&lt;/font&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-50">
          <mxGeometry y="214" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-63" value="" style="line;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=16;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-50">
          <mxGeometry y="240" width="540" height="8" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-64" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;补充说明：&lt;/b&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;strokeColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-50">
          <mxGeometry y="248" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-65" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;将虚拟/硬件中断号、控制器信息、域信息组织在一起，中断处理的核心数据结构&lt;/b&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-50">
          <mxGeometry y="274" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.001;entryY=0.087;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-2" target="KXlyaFeX6qr1xnWrLsrt-50">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="280" y="302" />
              <mxPoint x="280" y="726" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-68" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;struct&amp;nbsp;irq_chip&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-weight: 400;&quot;&gt;中断控制器抽象结构体，定义了操作特定中断控制器硬件的函数接口集合&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontSize=16;strokeColor=#b85450;fillColor=#f8cecc;" vertex="1" parent="1">
          <mxGeometry x="-300" y="699.9970588235293" width="540" height="394" as="geometry">
            <mxRectangle x="20" y="90" width="400" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-69" value="const char&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; *&lt;b&gt;name&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 中断控制器芯片名称" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="50" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-70" value="unsigned long&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;b&gt;flags&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 芯片特性标志位" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="76" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-75" value="" style="line;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=16;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="102" width="540" height="8" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-80" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (*&lt;b&gt;irq_startup&lt;/b&gt;)(struct irq_data *data);&amp;nbsp; &amp;nbsp; &amp;nbsp;// 启动中断函数" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="110" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-81" value="void&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (*&lt;b&gt;irq_shutdown&lt;/b&gt;)(struct irq_data *data);&amp;nbsp; &amp;nbsp; // 关闭中断函数" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="136" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-88" value="void&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (*&lt;b&gt;irq_enable&lt;/b&gt;)(struct irq_data *data);&amp;nbsp; &amp;nbsp; &amp;nbsp; // 使能中断函数" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="162" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-87" value="void&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (*&lt;b&gt;irq_disable&lt;/b&gt;)(struct irq_data *data);&amp;nbsp; &amp;nbsp; &amp;nbsp;// 禁用中断函数" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="188" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-86" value="void&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (*&lt;b&gt;irq_ack&lt;/b&gt;)(struct irq_data *data);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 应答中断函数" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="214" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-85" value="void&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (*&lt;b&gt;irq_mask&lt;/b&gt;)(struct irq_data *data);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 屏蔽中断函数" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="240" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-84" value="void&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (*&lt;b&gt;irq_unmask&lt;/b&gt;)(struct irq_data *data);&amp;nbsp; &amp;nbsp; &amp;nbsp; // 取消屏蔽中断函数" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="266" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-83" value="void&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (*&lt;b&gt;irq_eoi&lt;/b&gt;)(struct irq_data *data);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 中断结束信号函数" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="292" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-82" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(*&lt;b&gt;irq_set_type&lt;/b&gt;)(struct irq_data *data, unsigned int flow_type);&amp;nbsp; // 设置中断触发类型" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="318" width="540" height="42" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-77" value="" style="line;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=16;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="360" width="540" height="8" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-78" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;补充说明：&lt;/b&gt;&lt;b style=&quot;font-size: 14px;&quot;&gt;一般由芯片BSP工程师实现&lt;/b&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;strokeColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry y="368" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.002;entryY=0.055;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-54" target="KXlyaFeX6qr1xnWrLsrt-68">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-124" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-90" target="KXlyaFeX6qr1xnWrLsrt-104">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-90" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;struct&amp;nbsp;irq_domain&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-weight: 400;&quot;&gt;中断域结构体，负责硬件中断号与Linux虚拟中断号之间的映射转换&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontSize=16;strokeColor=#9673a6;fillColor=#e1d5e7;" vertex="1" parent="1">
          <mxGeometry x="300" y="1039.9970588235292" width="540" height="266" as="geometry">
            <mxRectangle x="20" y="90" width="400" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-91" value="const char&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;name&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 域名称" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-90">
          <mxGeometry y="50" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-92" value="const struct irq_domain_ops&amp;nbsp; &amp;nbsp; *&lt;b&gt;ops&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 域操作函数集" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-90">
          <mxGeometry y="76" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-93" value="void&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;host_data&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; // 控制器私有数据" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-90">
          <mxGeometry y="102" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-94" value="struct fwnode_handle &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;*&lt;b&gt;fwnode&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 固件节点句柄" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;strokeColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-90">
          <mxGeometry y="128" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-95" value="unsigned int &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;b&gt;revmap_size&lt;/b&gt;;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 反向映射表大小" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;strokeColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-90">
          <mxGeometry y="154" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-96" value="struct radix_tree_root&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;b&gt;revmap_tree&lt;/b&gt;;&amp;nbsp; // 基数树反向映射（树映射使用）" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-90">
          <mxGeometry y="180" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-102" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;b&gt;linear_revmap&lt;/b&gt;[];&amp;nbsp; &amp;nbsp; &amp;nbsp; // 线性反向映射数组（线性映射使用）" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-90">
          <mxGeometry y="206" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-97" value="" style="line;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=16;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-90">
          <mxGeometry y="232" width="540" height="8" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-98" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;无回调函数&lt;/font&gt;" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontSize=16;fillColor=none;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-90">
          <mxGeometry y="240" width="540" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.113;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-55" target="KXlyaFeX6qr1xnWrLsrt-90">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-104" value="&lt;h1&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;创建irq_domain相关API（了解）&lt;/font&gt;&lt;/h1&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-300" y="1140" width="540" height="39" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-105" value="" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=0;strokeColor=#9673a6;fontSize=16;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;strokeWidth=2;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-300" y="1179" width="540" height="172" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-106" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-105">
          <mxGeometry width="540" height="31" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-107" value="说明" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=16;fontStyle=1;align=left;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-106">
          <mxGeometry width="107" height="31" as="geometry">
            <mxRectangle width="107" height="31" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-108" value="一般是芯片原厂/SoC厂商的工作，了解即可" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=0;overflow=hidden;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingBottom=0;strokeWidth=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-106">
          <mxGeometry x="107" width="433" height="31" as="geometry">
            <mxRectangle width="433" height="31" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-118" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-105">
          <mxGeometry y="31" width="540" height="71" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-119" value="线性映射" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=16;fontStyle=1;align=left;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-118">
          <mxGeometry width="107" height="71" as="geometry">
            <mxRectangle width="107" height="71" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-120" value="&lt;div&gt;struct irq_domain *&lt;b&gt;irq_domain_add_linear&lt;/b&gt;(struct device_node *of_node,&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;unsigned int size,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;const struct irq_domain_ops *ops,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;void *host_data)&lt;/span&gt;&lt;/div&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=0;overflow=hidden;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingBottom=0;strokeWidth=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-118">
          <mxGeometry x="107" width="433" height="71" as="geometry">
            <mxRectangle width="433" height="71" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-121" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-105">
          <mxGeometry y="102" width="540" height="70" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-122" value="树映射" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=16;fontStyle=1;align=left;spacing=4;spacingTop=0;spacingLeft=0;spacingBottom=0;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-121">
          <mxGeometry width="107" height="70" as="geometry">
            <mxRectangle width="107" height="70" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-123" value="&lt;div&gt;struct irq_domain *&lt;b&gt;irq_domain_add_tree&lt;/b&gt;(struct device_node *of_node,&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;const struct irq_domain_ops *ops,&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;void *host_data)&lt;/span&gt;&lt;/div&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=0;overflow=hidden;strokeColor=inherit;fontSize=16;spacing=4;spacingTop=0;spacingBottom=0;strokeWidth=1;" vertex="1" parent="KXlyaFeX6qr1xnWrLsrt-121">
          <mxGeometry x="107" width="433" height="70" as="geometry">
            <mxRectangle width="433" height="70" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-242" value="&lt;h2&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;中断相关数据结构&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-290" y="180" width="1130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-243" value="&lt;h2&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;中断处理完整流程&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="-300" y="1390" width="1130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-255" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-244" target="KXlyaFeX6qr1xnWrLsrt-245">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-244" value="&lt;h2&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;异常向量表：vector_irq&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-290" y="1490" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-256" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-245" target="KXlyaFeX6qr1xnWrLsrt-248">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-245" value="&lt;h2&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;异常处理：irq_handle&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-290" y="1570" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-247" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;arch/arm64/kernel/entry.S&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-300" y="1450" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-257" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;curved=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-248" target="KXlyaFeX6qr1xnWrLsrt-251">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-261" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;函数指针指向gic_handle_irq&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="KXlyaFeX6qr1xnWrLsrt-257">
          <mxGeometry x="-0.0989" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-284" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#ffe6cc;strokeColor=#d79b00;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-248" target="KXlyaFeX6qr1xnWrLsrt-250">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-248" value="&lt;h2&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;handle_anrch_irq&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-290" y="1660" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-250" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;GIC控制器驱动中设置函数指针&lt;br&gt;set_handle_irq(gic_handle_irq)&lt;br&gt;设置为具体的GIC处理函数&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-70" y="1648.75" width="270" height="62.5" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-258" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#d5e8d4;strokeColor=#82b366;curved=1;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-251" target="KXlyaFeX6qr1xnWrLsrt-252">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-259" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#d5e8d4;strokeColor=#82b366;curved=1;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-251" target="KXlyaFeX6qr1xnWrLsrt-253">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-260" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#d5e8d4;strokeColor=#82b366;curved=1;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-251" target="KXlyaFeX6qr1xnWrLsrt-254">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-251" value="&lt;h2&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;gic_handle_irq&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-290" y="1860" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-252" value="&lt;h2&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;读取GIC寄存器并获取hwirq中断号&lt;br&gt;irqnr = irqstat &amp;amp; GICC_IAR_INT_ID_MASK&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-60" y="1780" width="330" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-270" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;curved=1;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-253" target="KXlyaFeX6qr1xnWrLsrt-263">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-253" value="&lt;h2&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;外设触发的中断&lt;br&gt;irqnr &amp;gt; 15 &amp;amp;&amp;amp; irqnr &amp;lt; 1020&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-60" y="1860" width="330" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-271" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;curved=1;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-254" target="KXlyaFeX6qr1xnWrLsrt-262">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-254" value="&lt;h2&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;软件触发的中断&lt;br&gt;irqnr &amp;lt; 16&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-60" y="1950" width="330" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-262" value="&lt;h2&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;处理器核与核之间通信&lt;br&gt;handle_IPI&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="300" y="1950" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-272" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;curved=1;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-263" target="KXlyaFeX6qr1xnWrLsrt-264">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-263" value="&lt;h2&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;handle_domain_irq&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="300" y="1870" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-273" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;curved=1;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-264" target="KXlyaFeX6qr1xnWrLsrt-265">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="1740" />
              <mxPoint x="540" y="1640" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-274" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;curved=1;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-264" target="KXlyaFeX6qr1xnWrLsrt-266">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-275" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;curved=1;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-264" target="KXlyaFeX6qr1xnWrLsrt-267">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-276" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;curved=1;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-264" target="KXlyaFeX6qr1xnWrLsrt-268">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="1740" />
              <mxPoint x="540" y="1820" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-264" value="&lt;h2&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;__handle_domain_irq&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="300" y="1720" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-265" value="&lt;h2&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;irq_enter：进入中断上下文&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="570" y="1620" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-266" value="&lt;h2&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;根据hwirq查找Linux中断号&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="570" y="1680" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-287" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-267" target="KXlyaFeX6qr1xnWrLsrt-285">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="820" y="1760" />
              <mxPoint x="820" y="1890" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-267" value="&lt;h2&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;通用中断处理入口&lt;br&gt;generic_handle_irq&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="570" y="1740" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-268" value="&lt;h2&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;irq_exit：退出中断上下文&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="570" y="1800" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-280" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-278" target="KXlyaFeX6qr1xnWrLsrt-279">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-278" value="&lt;h2&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;硬件设备产生中断信号&lt;br&gt;&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="171.67" y="1490" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-281" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-279" target="KXlyaFeX6qr1xnWrLsrt-244">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-279" value="&lt;h2&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CPU接收后开始处理&lt;br&gt;&lt;/font&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-40" y="1490" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-288" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=2;" edge="1" parent="1" source="KXlyaFeX6qr1xnWrLsrt-285" target="KXlyaFeX6qr1xnWrLsrt-286">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-285" value="&lt;h2&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;获取中断描述符并处理&lt;br&gt;generic_handle_irq_desc&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="570" y="1870" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-286" value="&lt;h2&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;调用用户注册的具体中断函数&lt;br&gt;desc-&amp;gt;handle_irq(irq_desc)&lt;/span&gt;&lt;/h2&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="570" y="1960" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-289" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;🌻Make By Dakkk&lt;/font&gt;" style="html=1;shadow=0;dashed=0;shape=mxgraph.bootstrap.rrect;rSize=5;strokeColor=#1CA5B8;strokeWidth=1;fillColor=none;fontColor=#1CA5B8;whiteSpace=wrap;align=center;verticalAlign=middle;spacingLeft=0;fontStyle=1;fontSize=16;spacing=5;" vertex="1" parent="1">
          <mxGeometry x="60" y="620" width="111.67" height="70.39" as="geometry" />
        </mxCell>
        <mxCell id="KXlyaFeX6qr1xnWrLsrt-290" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;🌻Make By Dakkk&lt;/font&gt;" style="html=1;shadow=0;dashed=0;shape=mxgraph.bootstrap.rrect;rSize=5;strokeColor=#1CA5B8;strokeWidth=1;fillColor=none;fontColor=#1CA5B8;whiteSpace=wrap;align=center;verticalAlign=middle;spacingLeft=0;fontStyle=1;fontSize=16;spacing=5;" vertex="1" parent="1">
          <mxGeometry x="440" y="1474.81" width="111.67" height="70.39" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
