---
文章标题: "[[3_VIM使用场景]]"
文章作者: Dakkk
文章概要: |
  介绍VIM在非主力IDE环境下的使用场景，包括在IDE中启用VI模式和在Linux命令行环境中与其他工具集成的三种实用方法。
tags:
  - VIM
  - Linux
  - 命令行
  - IDE集成
  - 管道
  - 文本编辑器
  - Unix工具链
  - 可视模式
相关文章:
  - "[[../../05-💻 Linux应用开发与系统编程/3_Linux基础与应用开发实战(Lubancat-RK3568)/1_Linux系统/10_文本编辑器（Vim）]]"
  - "[[2_VIM的实用技巧]]"
  - "[[../../../08-🛠️ 开发工具/04-☁️ 运维部署/02-🤖 自动化部署/10_补充：JetBrains全家桶集成服务器上的Docker服务]]"
  - "[[../../../08-🛠️ 开发工具/03-🐋 容器化/01-📚 Docker基础/3_环境安装/3_CentOS 安装 Docker]]"
  - "[[../../../08-🛠️ 开发工具/03-🐋 容器化/01-📚 Docker基础/3_环境安装/4_Ubuntu 安装 Docker]]"
文章分类: 🐧 Linux系统
文章路径: 06-🐧 Linux系统/04-🔌 驱动开发/01-📝 训练营笔记/2_嵌入式基础能力/3_vim编辑器（慢慢练）/3_VIM使用场景.md
文章难度: 初级 💧
目前阶段: ✅ 已完成
重要性: ⭐⭐⭐ 重要技能
创建时间: 2025-05-03 08:23:21
修改时间: 2025-05-28 00:19:51
---

寻找合适的适用场景，常常包括两种情况，一是 VIM 不是主力 IDE 的情况，二是 VIM 与其他工具的集成。接下来，我们先看第一种情况。
## VIM 不是主力 IDE 怎么办？

这种情况下，我会建议你先看一下你的主力 IDE 是否支持 VI 模式。目前，绝大部分主流 IDE 都支持，而且大都做得不错。如果你的主力 IDE 中能使用 VIM 命令的话，那从 VIM 特有的命令模式就能让你收益颇丰。

从我的经验来看，我只有在 Facebook 那几年使用 VIM 作为主力 IDE，其他时间使用的编辑器主要是 Intellij 的 IDE 系列和 VS Code。在这些 IDE 里，我一直在使用 VI 模式，效果也都很好。

除了在主力 IDE 中使用 VI 模式外，你还可以选择把 VIM 只作为一个单纯的文本编辑器，需要强大的编辑功能时，临时用一下就可以。比如，我在写微信小程序的时候，一开始使用的是原生的微信开发工具，编辑功能不是太强。所以在遇到一些重量级的编辑工作时，我就打开 VIM 快速搞定，然后再回到微信原生开发工具 IDE 里继续工作。
## VIM 能在 Linux 命令行环境中与其他工具结合的很好

Unix/Linux 系统的一个设计理念是，每个工具都只做一个功能，并且把这个功能做到极致，然后由操作系统把这些功能集成起来。VI 当初就是作为 Unix 系统里的编辑器而存在的，到了 40 年后的今天，虽然 VIM 已经可以被配置成为一个强大的 IDE，但很大程度上依然是 Unix/Linux 系统的基础编辑器，仍然可以很方便地和 Unix/Linux 的其他工具集成。

为了帮助你理解，我再和你分享 3 个适用场景。

**第一个场景：使用 VIM 作为其他工具的编辑器。**

在大部分 Linux 系统里，默认的编辑器就是 VIM。如果不是的话，可以使用如下命令来设置：

```Plain
// 全局使用 VIM
export EDITOR='vim'
```

**第二个适用场景：使用管道（Pipe）**

管道是 Linux 环境中最常用的工具之间的集成方式。VIM 可以接收管道传过来的内容。比如，我们要查看 GitHub 上用户 xxx 的代码仓的情况，可以使用下面这条命令

```Plain
curl -s https://api.github.com/users/xxx/repos | vim -
```

curl 命令访问 GitHub 的 API，把输出通过管道传给 VIM，方便我直接在 VIM 中查看用户 xxx 的代码仓的细节。

这里需要注意的是，在 VIM 命令后面有一个 -，表示 VIM 将使用管道作为输入。

**第三个适用场景：在 VIM 中调用系统工具**

除了系统调用 VIM 和使用管道进行集成之外，我们还可以在 VIM 中反过来调用系统的其他工具。这里，我与你介绍一个最实用的命令：**在可视模式中使用! 命令调用外部程序。**

比如，我想给一个文件里的中间几行内容前加上从 1000 开始的数字序号。
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/49de8ea96aeb1a3dc586a03a504ca0b6.png)


在 Linux 系统里，我们可以使用 nl 这个命令行工具完成，具体的命令是 nl -v 1000。所以，我们可以把这一部分文本单独保存为文件，使用 nl 处理后，再把处理结果拷贝回 VIM 中。

虽然可以达到目的，但过程繁琐。幸运的是，我们可以在 VIM 里面直接使用 nl，并把处理结果插入 VIM 中，具体操作如下。

首先，使用命令 V 进入可视模式，并选择这一部分文字。
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/fe24fcb35831986c16361a303842bf55.png)


然后，输入命令!，VIM 的最后一行会显示’<,’>! ，表示由外部程序操作选中的部分。这时，我们输入 nl -v 1000 并回车。
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/a79bb44df5d71f5eb9519f09d345b4fc.png)


VIM 就会把选择的文本传给 nl，nl 在每一行前面添加序号，再把处理结果传给 VIM，从而完成了我们想要的编辑结果，也就是在所选的几行文字前面添加从 1000 到 1006 的序号。
![image.png|500](https://my-obsidian-image.oss-cn-guangzhou.aliyuncs.com/2025/05/fa0cad0bb67ef902dab2a84cbd48ee07.png)



同时，在 VIM 的底部，会显示 7 lines filtered，意思是 VIM 里面的 7 行文本被使用外部工具处理过。是不是很方便？

我每次使用这样的功能时都觉得很爽，因为这可以让我聚焦在工作上，而不会把时间花在繁琐的操作上。

以上就是 3 个最常用的 VIM 和其他工具集成的例子。这种工具的集成工作方式，可以大大提高单个工具所能带来的效率提升，我还会在后面的文章中与你详细讨论。